var es=Object.defineProperty;var ts=(s,o,i)=>o in s?es(s,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[o]=i;var Wn=(s,o,i)=>(ts(s,typeof o!="symbol"?o+"":o,i),i),hr=(s,o,i)=>{if(!o.has(s))throw TypeError("Cannot "+i)};var Yt=(s,o,i)=>(hr(s,o,"read from private field"),i?i.call(s):o.get(s)),un=(s,o,i)=>{if(o.has(s))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(s):o.set(s,i)},_n=(s,o,i,a)=>(hr(s,o,"write to private field"),a?a.call(s,i):o.set(s,i),i),pr=(s,o,i,a)=>({set _($){_n(s,o,$,i)},get _(){return Yt(s,o,a)}}),hn=(s,o,i)=>(hr(s,o,"access private method"),i);function _mergeNamespaces(s,o){for(var i=0;i<o.length;i++){const a=o[i];if(typeof a!="string"&&!Array.isArray(a)){for(const $ in a)if($!=="default"&&!($ in s)){const j=Object.getOwnPropertyDescriptor(a,$);j&&Object.defineProperty(s,$,j.get?j:{enumerable:!0,get:()=>a[$]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))a($);new MutationObserver($=>{for(const j of $)if(j.type==="childList")for(const _e of j.addedNodes)_e.tagName==="LINK"&&_e.rel==="modulepreload"&&a(_e)}).observe(document,{childList:!0,subtree:!0});function i($){const j={};return $.integrity&&(j.integrity=$.integrity),$.referrerpolicy&&(j.referrerPolicy=$.referrerpolicy),$.crossorigin==="use-credentials"?j.credentials="include":$.crossorigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function a($){if($.ep)return;$.ep=!0;const j=i($);fetch($.href,j)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var o=s.default;if(typeof o=="function"){var i=function a(){if(this instanceof a){var $=[null];$.push.apply($,arguments);var j=Function.bind.apply(o,$);return new j}return o.apply(this,arguments)};i.prototype=o.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var $=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(i,a,$.get?$:{enumerable:!0,get:function(){return s[a]}})}),i}var jsxRuntimeExports={},jsxRuntime$1={get exports(){return jsxRuntimeExports},set exports(s){jsxRuntimeExports=s}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(s){reactExports=s}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(s){return s===null||typeof s!="object"?null:(s=z$2&&s[z$2]||s["@@iterator"],typeof s=="function"?s:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(s,o,i){this.props=s,this.context=o,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(s,o){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,o,"setState")};E$1.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(s,o,i){this.props=s,this.context=o,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(s,o,i){var a,$={},j=null,_e=null;if(o!=null)for(a in o.ref!==void 0&&(_e=o.ref),o.key!==void 0&&(j=""+o.key),o)J.call(o,a)&&!L$1.hasOwnProperty(a)&&($[a]=o[a]);var et=arguments.length-2;if(et===1)$.children=i;else if(1<et){for(var tt=Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt+2];$.children=tt}if(s&&s.defaultProps)for(a in et=s.defaultProps,et)$[a]===void 0&&($[a]=et[a]);return{$$typeof:l$3,type:s,key:j,ref:_e,props:$,_owner:K$1.current}}function N$1(s,o){return{$$typeof:l$3,type:s.type,key:o,ref:s.ref,props:s.props,_owner:s._owner}}function O$1(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$3}function escape$1(s){var o={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(i){return o[i]})}var P$1=/\/+/g;function Q$1(s,o){return typeof s=="object"&&s!==null&&s.key!=null?escape$1(""+s.key):o.toString(36)}function R$1(s,o,i,a,$){var j=typeof s;(j==="undefined"||j==="boolean")&&(s=null);var _e=!1;if(s===null)_e=!0;else switch(j){case"string":case"number":_e=!0;break;case"object":switch(s.$$typeof){case l$3:case n$3:_e=!0}}if(_e)return _e=s,$=$(_e),s=a===""?"."+Q$1(_e,0):a,I$1($)?(i="",s!=null&&(i=s.replace(P$1,"$&/")+"/"),R$1($,o,i,"",function(nt){return nt})):$!=null&&(O$1($)&&($=N$1($,i+(!$.key||_e&&_e.key===$.key?"":(""+$.key).replace(P$1,"$&/")+"/")+s)),o.push($)),1;if(_e=0,a=a===""?".":a+":",I$1(s))for(var et=0;et<s.length;et++){j=s[et];var tt=a+Q$1(j,et);_e+=R$1(j,o,i,tt,$)}else if(tt=A$2(s),typeof tt=="function")for(s=tt.call(s),et=0;!(j=s.next()).done;)j=j.value,tt=a+Q$1(j,et++),_e+=R$1(j,o,i,tt,$);else if(j==="object")throw o=String(s),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return _e}function S$1(s,o,i){if(s==null)return s;var a=[],$=0;return R$1(s,a,"","",function(j){return o.call(i,j,$++)}),a}function T$1(s){if(s._status===-1){var o=s._result;o=o(),o.then(function(i){(s._status===0||s._status===-1)&&(s._status=1,s._result=i)},function(i){(s._status===0||s._status===-1)&&(s._status=2,s._result=i)}),s._status===-1&&(s._status=0,s._result=o)}if(s._status===1)return s._result.default;throw s._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(s,o,i){S$1(s,function(){o.apply(this,arguments)},i)},count:function(s){var o=0;return S$1(s,function(){o++}),o},toArray:function(s){return S$1(s,function(o){return o})||[]},only:function(s){if(!O$1(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(s,o,i){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var a=C$1({},s.props),$=s.key,j=s.ref,_e=s._owner;if(o!=null){if(o.ref!==void 0&&(j=o.ref,_e=K$1.current),o.key!==void 0&&($=""+o.key),s.type&&s.type.defaultProps)var et=s.type.defaultProps;for(tt in o)J.call(o,tt)&&!L$1.hasOwnProperty(tt)&&(a[tt]=o[tt]===void 0&&et!==void 0?et[tt]:o[tt])}var tt=arguments.length-2;if(tt===1)a.children=i;else if(1<tt){et=Array(tt);for(var nt=0;nt<tt;nt++)et[nt]=arguments[nt+2];a.children=et}return{$$typeof:l$3,type:s.type,key:$,ref:j,props:a,_owner:_e}};react_production_min.createContext=function(s){return s={$$typeof:u$1,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t$2,_context:s},s.Consumer=s};react_production_min.createElement=M$1;react_production_min.createFactory=function(s){var o=M$1.bind(null,s);return o.type=s,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$3,render:s}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(s){return{$$typeof:y$1,_payload:{_status:-1,_result:s},_init:T$1}};react_production_min.memo=function(s,o){return{$$typeof:x$1,type:s,compare:o===void 0?null:o}};react_production_min.startTransition=function(s){var o=V$1.transition;V$1.transition={};try{s()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(s,o){return U$1.current.useCallback(s,o)};react_production_min.useContext=function(s){return U$1.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$1.current.useDeferredValue(s)};react_production_min.useEffect=function(s,o){return U$1.current.useEffect(s,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(s,o,i){return U$1.current.useImperativeHandle(s,o,i)};react_production_min.useInsertionEffect=function(s,o){return U$1.current.useInsertionEffect(s,o)};react_production_min.useLayoutEffect=function(s,o){return U$1.current.useLayoutEffect(s,o)};react_production_min.useMemo=function(s,o){return U$1.current.useMemo(s,o)};react_production_min.useReducer=function(s,o,i){return U$1.current.useReducer(s,o,i)};react_production_min.useRef=function(s){return U$1.current.useRef(s)};react_production_min.useState=function(s){return U$1.current.useState(s)};react_production_min.useSyncExternalStore=function(s,o,i){return U$1.current.useSyncExternalStore(s,o,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(s){s.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(s,o,i){var a,$={},j=null,_e=null;i!==void 0&&(j=""+i),o.key!==void 0&&(j=""+o.key),o.ref!==void 0&&(_e=o.ref);for(a in o)m$3.call(o,a)&&!p$3.hasOwnProperty(a)&&($[a]=o[a]);if(s&&s.defaultProps)for(a in o=s.defaultProps,o)$[a]===void 0&&($[a]=o[a]);return{$$typeof:k$2,type:s,key:j,ref:_e,props:$,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;(function(s){s.exports=reactJsxRuntime_production_min})(jsxRuntime$1);const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs,jsxRuntime=Object.freeze(Object.defineProperty({__proto__:null,Fragment,jsx,jsxs},Symbol.toStringTag,{value:"Module"}));var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(s){reactDomExports=s}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(s){schedulerExports=s}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function o(Pt,Nt){var Lt=Pt.length;Pt.push(Nt);e:for(;0<Lt;){var zt=Lt-1>>>1,Mt=Pt[zt];if(0<$(Mt,Nt))Pt[zt]=Nt,Pt[Lt]=Mt,Lt=zt;else break e}}function i(Pt){return Pt.length===0?null:Pt[0]}function a(Pt){if(Pt.length===0)return null;var Nt=Pt[0],Lt=Pt.pop();if(Lt!==Nt){Pt[0]=Lt;e:for(var zt=0,Mt=Pt.length,Et=Mt>>>1;zt<Et;){var Ct=2*(zt+1)-1,Ot=Pt[Ct],Ut=Ct+1,$t=Pt[Ut];if(0>$(Ot,Lt))Ut<Mt&&0>$($t,Ot)?(Pt[zt]=$t,Pt[Ut]=Lt,zt=Ut):(Pt[zt]=Ot,Pt[Ct]=Lt,zt=Ct);else if(Ut<Mt&&0>$($t,Lt))Pt[zt]=$t,Pt[Ut]=Lt,zt=Ut;else break e}}return Nt}function $(Pt,Nt){var Lt=Pt.sortIndex-Nt.sortIndex;return Lt!==0?Lt:Pt.id-Nt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;s.unstable_now=function(){return j.now()}}else{var _e=Date,et=_e.now();s.unstable_now=function(){return _e.now()-et}}var tt=[],nt=[],ot=1,it=null,st=3,ut=!1,lt=!1,rt=!1,dt=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function at(Pt){for(var Nt=i(nt);Nt!==null;){if(Nt.callback===null)a(nt);else if(Nt.startTime<=Pt)a(nt),Nt.sortIndex=Nt.expirationTime,o(tt,Nt);else break;Nt=i(nt)}}function ht(Pt){if(rt=!1,at(Pt),!lt)if(i(tt)!==null)lt=!0,It(xt);else{var Nt=i(nt);Nt!==null&&Rt(ht,Nt.startTime-Pt)}}function xt(Pt,Nt){lt=!1,rt&&(rt=!1,ct(ft),ft=-1),ut=!0;var Lt=st;try{for(at(Nt),it=i(tt);it!==null&&(!(it.expirationTime>Nt)||Pt&&!St());){var zt=it.callback;if(typeof zt=="function"){it.callback=null,st=it.priorityLevel;var Mt=zt(it.expirationTime<=Nt);Nt=s.unstable_now(),typeof Mt=="function"?it.callback=Mt:it===i(tt)&&a(tt),at(Nt)}else a(tt);it=i(tt)}if(it!==null)var Et=!0;else{var Ct=i(nt);Ct!==null&&Rt(ht,Ct.startTime-Nt),Et=!1}return Et}finally{it=null,st=Lt,ut=!1}}var gt=!1,vt=null,ft=-1,yt=5,mt=-1;function St(){return!(s.unstable_now()-mt<yt)}function At(){if(vt!==null){var Pt=s.unstable_now();mt=Pt;var Nt=!0;try{Nt=vt(!0,Pt)}finally{Nt?Ft():(gt=!1,vt=null)}}else gt=!1}var Ft;if(typeof pt=="function")Ft=function(){pt(At)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,Dt=Tt.port2;Tt.port1.onmessage=At,Ft=function(){Dt.postMessage(null)}}else Ft=function(){dt(At,0)};function It(Pt){vt=Pt,gt||(gt=!0,Ft())}function Rt(Pt,Nt){ft=dt(function(){Pt(s.unstable_now())},Nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Pt){Pt.callback=null},s.unstable_continueExecution=function(){lt||ut||(lt=!0,It(xt))},s.unstable_forceFrameRate=function(Pt){0>Pt||125<Pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yt=0<Pt?Math.floor(1e3/Pt):5},s.unstable_getCurrentPriorityLevel=function(){return st},s.unstable_getFirstCallbackNode=function(){return i(tt)},s.unstable_next=function(Pt){switch(st){case 1:case 2:case 3:var Nt=3;break;default:Nt=st}var Lt=st;st=Nt;try{return Pt()}finally{st=Lt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Pt,Nt){switch(Pt){case 1:case 2:case 3:case 4:case 5:break;default:Pt=3}var Lt=st;st=Pt;try{return Nt()}finally{st=Lt}},s.unstable_scheduleCallback=function(Pt,Nt,Lt){var zt=s.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?zt+Lt:zt):Lt=zt,Pt){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=Lt+Mt,Pt={id:ot++,callback:Nt,priorityLevel:Pt,startTime:Lt,expirationTime:Mt,sortIndex:-1},Lt>zt?(Pt.sortIndex=Lt,o(nt,Pt),i(tt)===null&&Pt===i(nt)&&(rt?(ct(ft),ft=-1):rt=!0,Rt(ht,Lt-zt))):(Pt.sortIndex=Mt,o(tt,Pt),lt||ut||(lt=!0,It(xt))),Pt},s.unstable_shouldYield=St,s.unstable_wrapCallback=function(Pt){var Nt=st;return function(){var Lt=st;st=Nt;try{return Pt.apply(this,arguments)}finally{st=Lt}}}})(scheduler_production_min);(function(s){s.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,i=1;i<arguments.length;i++)o+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(s,o){ha(s,o),ha(s+"Capture",o)}function ha(s,o){for(ea[s]=o,s=0;s<o.length;s++)da.add(o[s])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(s){return ja.call(ma,s)?!0:ja.call(la,s)?!1:ka.test(s)?ma[s]=!0:(la[s]=!0,!1)}function pa(s,o,i,a){if(i!==null&&i.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa(s,o,i,a){if(o===null||typeof o>"u"||pa(s,o,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$2(s,o,i,a,$,j,_e){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=a,this.attributeNamespace=$,this.mustUseProperty=i,this.propertyName=s,this.type=o,this.sanitizeURL=j,this.removeEmptyString=_e}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z$1[s]=new v$2(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];z$1[o]=new v$2(o,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z$1[s]=new v$2(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z$1[s]=new v$2(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z$1[s]=new v$2(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z$1[s]=new v$2(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z$1[s]=new v$2(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z$1[s]=new v$2(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z$1[s]=new v$2(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(ra,sa);z$1[o]=new v$2(o,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(ra,sa);z$1[o]=new v$2(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(ra,sa);z$1[o]=new v$2(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z$1[s]=new v$2(s,1,!1,s.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z$1[s]=new v$2(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta(s,o,i,a){var $=z$1.hasOwnProperty(o)?z$1[o]:null;($!==null?$.type!==0:a||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,i,$,a)&&(i=null),a||$===null?oa(o)&&(i===null?s.removeAttribute(o):s.setAttribute(o,""+i)):$.mustUseProperty?s[$.propertyName]=i===null?$.type===3?!1:"":i:(o=$.attributeName,a=$.attributeNamespace,i===null?s.removeAttribute(o):($=$.type,i=$===3||$===4&&i===!0?"":""+i,a?s.setAttributeNS(a,o,i):s.setAttribute(o,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(s){return s===null||typeof s!="object"?null:(s=Ja&&s[Ja]||s["@@iterator"],typeof s=="function"?s:null)}var A$1=Object.assign,La;function Ma(s){if(La===void 0)try{throw Error()}catch(i){var o=i.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+s}var Na=!1;function Oa(s,o){if(!s||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(nt){var a=nt}Reflect.construct(s,[],o)}else{try{o.call()}catch(nt){a=nt}s.call(o.prototype)}else{try{throw Error()}catch(nt){a=nt}s()}}catch(nt){if(nt&&a&&typeof nt.stack=="string"){for(var $=nt.stack.split(`
`),j=a.stack.split(`
`),_e=$.length-1,et=j.length-1;1<=_e&&0<=et&&$[_e]!==j[et];)et--;for(;1<=_e&&0<=et;_e--,et--)if($[_e]!==j[et]){if(_e!==1||et!==1)do if(_e--,et--,0>et||$[_e]!==j[et]){var tt=`
`+$[_e].replace(" at new "," at ");return s.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",s.displayName)),tt}while(1<=_e&&0<=et);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(s=s?s.displayName||s.name:"")?Ma(s):""}function Pa(s){switch(s.tag){case 5:return Ma(s.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return s=Oa(s.type,!1),s;case 11:return s=Oa(s.type.render,!1),s;case 1:return s=Oa(s.type,!0),s;default:return""}}function Qa(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca:return(s.displayName||"Context")+".Consumer";case Ba:return(s._context.displayName||"Context")+".Provider";case Da:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga:return o=s.displayName||null,o!==null?o:Qa(s.type)||"Memo";case Ha:o=s._payload,s=s._init;try{return Qa(s(o))}catch{}}return null}function Ra(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(s){var o=Ta(s)?"checked":"value",i=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),a=""+s[o];if(!s.hasOwnProperty(o)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var $=i.get,j=i.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return $.call(this)},set:function(_e){a=""+_e,j.call(this,_e)}}),Object.defineProperty(s,o,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(_e){a=""+_e},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var i=o.getValue(),a="";return s&&(a=Ta(s)?s.checked?"true":"false":s.value),s=a,s!==i?(o.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,o){var i=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??s._wrapperState.initialChecked})}function Za(s,o){var i=o.defaultValue==null?"":o.defaultValue,a=o.checked!=null?o.checked:o.defaultChecked;i=Sa(o.value!=null?o.value:i),s._wrapperState={initialChecked:a,initialValue:i,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(s,o){o=o.checked,o!=null&&ta(s,"checked",o,!1)}function bb(s,o){ab(s,o);var i=Sa(o.value),a=o.type;if(i!=null)a==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+i):s.value!==""+i&&(s.value=""+i);else if(a==="submit"||a==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?cb(s,o.type,i):o.hasOwnProperty("defaultValue")&&cb(s,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function db(s,o,i){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var a=o.type;if(!(a!=="submit"&&a!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,i||o===s.value||(s.value=o),s.defaultValue=o}i=s.name,i!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,i!==""&&(s.name=i)}function cb(s,o,i){(o!=="number"||Xa(s.ownerDocument)!==s)&&(i==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+i&&(s.defaultValue=""+i))}var eb=Array.isArray;function fb(s,o,i,a){if(s=s.options,o){o={};for(var $=0;$<i.length;$++)o["$"+i[$]]=!0;for(i=0;i<s.length;i++)$=o.hasOwnProperty("$"+s[i].value),s[i].selected!==$&&(s[i].selected=$),$&&a&&(s[i].defaultSelected=!0)}else{for(i=""+Sa(i),o=null,$=0;$<s.length;$++){if(s[$].value===i){s[$].selected=!0,a&&(s[$].defaultSelected=!0);return}o!==null||s[$].disabled||(o=s[$])}o!==null&&(o.selected=!0)}}function gb(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,o){var i=o.value;if(i==null){if(i=o.children,o=o.defaultValue,i!=null){if(o!=null)throw Error(p$2(92));if(eb(i)){if(1<i.length)throw Error(p$2(93));i=i[0]}o=i}o==null&&(o=""),i=o}s._wrapperState={initialValue:Sa(i)}}function ib(s,o){var i=Sa(o.value),a=Sa(o.defaultValue);i!=null&&(i=""+i,i!==s.value&&(s.value=i),o.defaultValue==null&&s.defaultValue!==i&&(s.defaultValue=i)),a!=null&&(s.defaultValue=""+a)}function jb(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function kb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?kb(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb,nb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,i,a,$){MSApp.execUnsafeLocalFunction(function(){return s(o,i,a,$)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ob(s,o){if(o){var i=s.firstChild;if(i&&i===s.lastChild&&i.nodeType===3){i.nodeValue=o;return}}s.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(s){qb.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),pb[o]=pb[s]})});function rb(s,o,i){return o==null||typeof o=="boolean"||o===""?"":i||typeof o!="number"||o===0||pb.hasOwnProperty(s)&&pb[s]?(""+o).trim():o+"px"}function sb(s,o){s=s.style;for(var i in o)if(o.hasOwnProperty(i)){var a=i.indexOf("--")===0,$=rb(i,o[i],a);i==="float"&&(i="cssFloat"),a?s.setProperty(i,$):s[i]=$}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(s,o){if(o){if(tb[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$2(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$2(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$2(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$2(62))}}function vb(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(p$2(280));var o=s.stateNode;o&&(o=Db(o),yb(s.stateNode,s.type,o))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,o=Ab;if(Ab=zb=null,Bb(s),o)for(s=0;s<o.length;s++)Bb(o[s])}}function Gb(s,o){return s(o)}function Hb(){}var Ib=!1;function Jb(s,o,i){if(Ib)return s(o,i);Ib=!0;try{return Gb(s,o,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(s,o){var i=s.stateNode;if(i===null)return null;var a=Db(i);if(a===null)return null;i=a[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(s=s.type,a=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!a;break e;default:s=!1}if(s)return null;if(i&&typeof i!="function")throw Error(p$2(231,o,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(s,o,i,a,$,j,_e,et,tt){var nt=Array.prototype.slice.call(arguments,3);try{o.apply(i,nt)}catch(ot){this.onError(ot)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(s){Ob=!0,Pb=s}};function Tb(s,o,i,a,$,j,_e,et,tt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(s,o,i,a,$,j,_e,et,tt){if(Tb.apply(this,arguments),Ob){if(Ob){var nt=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=nt)}}function Vb(s){var o=s,i=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(i=o.return),s=o.return;while(s)}return o.tag===3?i:null}function Wb(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(s){if(Vb(s)!==s)throw Error(p$2(188))}function Yb(s){var o=s.alternate;if(!o){if(o=Vb(s),o===null)throw Error(p$2(188));return o!==s?null:s}for(var i=s,a=o;;){var $=i.return;if($===null)break;var j=$.alternate;if(j===null){if(a=$.return,a!==null){i=a;continue}break}if($.child===j.child){for(j=$.child;j;){if(j===i)return Xb($),s;if(j===a)return Xb($),o;j=j.sibling}throw Error(p$2(188))}if(i.return!==a.return)i=$,a=j;else{for(var _e=!1,et=$.child;et;){if(et===i){_e=!0,i=$,a=j;break}if(et===a){_e=!0,a=$,i=j;break}et=et.sibling}if(!_e){for(et=j.child;et;){if(et===i){_e=!0,i=j,a=$;break}if(et===a){_e=!0,a=j,i=$;break}et=et.sibling}if(!_e)throw Error(p$2(189))}}if(i.alternate!==a)throw Error(p$2(190))}if(i.tag!==3)throw Error(p$2(188));return i.stateNode.current===i?s:o}function Zb(s){return s=Yb(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=$b(s);if(o!==null)return o;s=s.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(s){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(pc(s)/qc|0)|0}var rc=64,sc=4194304;function tc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,o){var i=s.pendingLanes;if(i===0)return 0;var a=0,$=s.suspendedLanes,j=s.pingedLanes,_e=i&268435455;if(_e!==0){var et=_e&~$;et!==0?a=tc(et):(j&=_e,j!==0&&(a=tc(j)))}else _e=i&~$,_e!==0?a=tc(_e):j!==0&&(a=tc(j));if(a===0)return 0;if(o!==0&&o!==a&&!(o&$)&&($=a&-a,j=o&-o,$>=j||$===16&&(j&4194240)!==0))return o;if(a&4&&(a|=i&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=a;0<o;)i=31-oc(o),$=1<<i,a|=s[i],o&=~$;return a}function vc(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(s,o){for(var i=s.suspendedLanes,a=s.pingedLanes,$=s.expirationTimes,j=s.pendingLanes;0<j;){var _e=31-oc(j),et=1<<_e,tt=$[_e];tt===-1?(!(et&i)||et&a)&&($[_e]=vc(et,o)):tt<=o&&(s.expiredLanes|=et),j&=~et}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc(){var s=rc;return rc<<=1,!(rc&4194240)&&(rc=64),s}function zc(s){for(var o=[],i=0;31>i;i++)o.push(s);return o}function Ac(s,o,i){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-oc(o),s[o]=i}function Bc(s,o){var i=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var a=s.eventTimes;for(s=s.expirationTimes;0<i;){var $=31-oc(i),j=1<<$;o[$]=0,a[$]=-1,s[$]=-1,i&=~j}}function Cc(s,o){var i=s.entangledLanes|=o;for(s=s.entanglements;i;){var a=31-oc(i),$=1<<a;$&o|s[a]&o&&(s[a]|=o),i&=~$}}var C=0;function Dc(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,o){switch(s){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(s,o,i,a,$,j){return s===null||s.nativeEvent!==j?(s={blockedOn:o,domEventName:i,eventSystemFlags:a,nativeEvent:j,targetContainers:[$]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),s):(s.eventSystemFlags|=a,o=s.targetContainers,$!==null&&o.indexOf($)===-1&&o.push($),s)}function Uc(s,o,i,a,$){switch(o){case"focusin":return Lc=Tc(Lc,s,o,i,a,$),!0;case"dragenter":return Mc=Tc(Mc,s,o,i,a,$),!0;case"mouseover":return Nc=Tc(Nc,s,o,i,a,$),!0;case"pointerover":var j=$.pointerId;return Oc.set(j,Tc(Oc.get(j)||null,s,o,i,a,$)),!0;case"gotpointercapture":return j=$.pointerId,Pc.set(j,Tc(Pc.get(j)||null,s,o,i,a,$)),!0}return!1}function Vc(s){var o=Wc(s.target);if(o!==null){var i=Vb(o);if(i!==null){if(o=i.tag,o===13){if(o=Wb(i),o!==null){s.blockedOn=o,Ic(s.priority,function(){Gc(i)});return}}else if(o===3&&i.stateNode.current.memoizedState.isDehydrated){s.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var i=Yc(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(i===null){i=s.nativeEvent;var a=new i.constructor(i.type,i);wb=a,i.target.dispatchEvent(a),wb=null}else return o=Cb(i),o!==null&&Fc(o),s.blockedOn=i,!1;o.shift()}return!0}function Zc(s,o,i){Xc(s)&&i.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(s,o){s.blockedOn===o&&(s.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(s){function o($){return ad($,s)}if(0<Kc.length){ad(Kc[0],s);for(var i=1;i<Kc.length;i++){var a=Kc[i];a.blockedOn===s&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,s),Mc!==null&&ad(Mc,s),Nc!==null&&ad(Nc,s),Oc.forEach(o),Pc.forEach(o),i=0;i<Qc.length;i++)a=Qc[i],a.blockedOn===s&&(a.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(s,o,i,a){var $=C,j=cd.transition;cd.transition=null;try{C=1,fd(s,o,i,a)}finally{C=$,cd.transition=j}}function gd(s,o,i,a){var $=C,j=cd.transition;cd.transition=null;try{C=4,fd(s,o,i,a)}finally{C=$,cd.transition=j}}function fd(s,o,i,a){if(dd){var $=Yc(s,o,i,a);if($===null)hd(s,o,a,id,i),Sc(s,a);else if(Uc($,s,o,i,a))a.stopPropagation();else if(Sc(s,a),o&4&&-1<Rc.indexOf(s)){for(;$!==null;){var j=Cb($);if(j!==null&&Ec(j),j=Yc(s,o,i,a),j===null&&hd(s,o,a,id,i),j===$)break;$=j}$!==null&&a.stopPropagation()}else hd(s,o,a,null,i)}}var id=null;function Yc(s,o,i,a){if(id=null,s=xb(a),s=Wc(s),s!==null)if(o=Vb(s),o===null)s=null;else if(i=o.tag,i===13){if(s=Wb(o),s!==null)return s;s=null}else if(i===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return id=s,null}function jd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,o=ld,i=o.length,a,$="value"in kd?kd.value:kd.textContent,j=$.length;for(s=0;s<i&&o[s]===$[s];s++);var _e=i-s;for(a=1;a<=_e&&o[i-a]===$[j-a];a++);return md=$.slice(s,1<a?1-a:void 0)}function od(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function o(i,a,$,j,_e){this._reactName=i,this._targetInst=$,this.type=a,this.nativeEvent=j,this.target=_e,this.currentTarget=null;for(var et in s)s.hasOwnProperty(et)&&(i=s[et],this[et]=i?i(j):j[et]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Od[s])?!!o[s]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(s){if(s.key){var o=Md[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(s,o){switch(s){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie=!1;function je(s,o){switch(s){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return s=o.data,s===ee&&fe?null:s;default:return null}}function ke(s,o){if(ie)return s==="compositionend"||!ae&&ge(s,o)?(s=nd(),md=ld=kd=null,ie=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!le[s.type]:o==="textarea"}function ne(s,o,i,a){Eb(a),o=oe(o,"onChange"),0<o.length&&(i=new td("onChange","change",null,i,a),s.push({event:i,listeners:o}))}var pe=null,qe=null;function re(s){se(s,0)}function te(s){var o=ue(s);if(Wa(o))return s}function ve(s,o){if(s==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(s){if(s.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,s,xb(s)),Jb(re,o)}}function Ce(s,o,i){s==="focusin"?(Ae(),pe=o,qe=i,pe.attachEvent("onpropertychange",Be)):s==="focusout"&&Ae()}function De(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te(qe)}function Ee(s,o){if(s==="click")return te(o)}function Fe(s,o){if(s==="input"||s==="change")return te(o)}function Ge(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(s,o){if(He(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var i=Object.keys(s),a=Object.keys(o);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var $=i[a];if(!ja.call(o,$)||!He(s[$],o[$]))return!1}return!0}function Je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke(s,o){var i=Je(s);s=0;for(var a;i;){if(i.nodeType===3){if(a=s+i.textContent.length,s<=o&&a>=o)return{node:i,offset:o-s};s=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Le(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var s=window,o=Xa();o instanceof s.HTMLIFrameElement;){try{var i=typeof o.contentWindow.location.href=="string"}catch{i=!1}if(i)s=o.contentWindow;else break;o=Xa(s.document)}return o}function Ne(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Oe(s){var o=Me(),i=s.focusedElem,a=s.selectionRange;if(o!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(a!==null&&Ne(i)){if(o=a.start,s=a.end,s===void 0&&(s=o),"selectionStart"in i)i.selectionStart=o,i.selectionEnd=Math.min(s,i.value.length);else if(s=(o=i.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var $=i.textContent.length,j=Math.min(a.start,$);a=a.end===void 0?j:Math.min(a.end,$),!s.extend&&j>a&&($=a,a=j,j=$),$=Ke(i,j);var _e=Ke(i,a);$&&_e&&(s.rangeCount!==1||s.anchorNode!==$.node||s.anchorOffset!==$.offset||s.focusNode!==_e.node||s.focusOffset!==_e.offset)&&(o=o.createRange(),o.setStart($.node,$.offset),s.removeAllRanges(),j>a?(s.addRange(o),s.extend(_e.node,_e.offset)):(o.setEnd(_e.node,_e.offset),s.addRange(o)))}}for(o=[],s=i;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<o.length;i++)s=o[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(s,o,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(o=new td("onSelect","select",null,o,i),s.push({event:o,listeners:a}),o.target=Qe)))}function Ve(s,o){var i={};return i[s.toLowerCase()]=o.toLowerCase(),i["Webkit"+s]="webkit"+o,i["Moz"+s]="moz"+o,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(s){if(Xe[s])return Xe[s];if(!We[s])return s;var o=We[s],i;for(i in o)if(o.hasOwnProperty(i)&&i in Ye)return Xe[s]=o[i];return s}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,o){df.set(s,o),fa(o,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,o,i){var a=s.type||"unknown-event";s.currentTarget=i,Ub(a,o,void 0,s),s.currentTarget=null}function se(s,o){o=(o&4)!==0;for(var i=0;i<s.length;i++){var a=s[i],$=a.event;a=a.listeners;e:{var j=void 0;if(o)for(var _e=a.length-1;0<=_e;_e--){var et=a[_e],tt=et.instance,nt=et.currentTarget;if(et=et.listener,tt!==j&&$.isPropagationStopped())break e;nf($,et,nt),j=tt}else for(_e=0;_e<a.length;_e++){if(et=a[_e],tt=et.instance,nt=et.currentTarget,et=et.listener,tt!==j&&$.isPropagationStopped())break e;nf($,et,nt),j=tt}}}if(Qb)throw s=Rb,Qb=!1,Rb=null,s}function D(s,o){var i=o[of];i===void 0&&(i=o[of]=new Set);var a=s+"__bubble";i.has(a)||(pf(o,s,2,!1),i.add(a))}function qf(s,o,i){var a=0;o&&(a|=4),pf(i,s,a,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,s),qf(i,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(s,o,i,a){switch(jd(o)){case 1:var $=ed;break;case 4:$=gd;break;default:$=fd}i=$.bind(null,o,i,s),$=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||($=!0),a?$!==void 0?s.addEventListener(o,i,{capture:!0,passive:$}):s.addEventListener(o,i,!0):$!==void 0?s.addEventListener(o,i,{passive:$}):s.addEventListener(o,i,!1)}function hd(s,o,i,a,$){var j=a;if(!(o&1)&&!(o&2)&&a!==null)e:for(;;){if(a===null)return;var _e=a.tag;if(_e===3||_e===4){var et=a.stateNode.containerInfo;if(et===$||et.nodeType===8&&et.parentNode===$)break;if(_e===4)for(_e=a.return;_e!==null;){var tt=_e.tag;if((tt===3||tt===4)&&(tt=_e.stateNode.containerInfo,tt===$||tt.nodeType===8&&tt.parentNode===$))return;_e=_e.return}for(;et!==null;){if(_e=Wc(et),_e===null)return;if(tt=_e.tag,tt===5||tt===6){a=j=_e;continue e}et=et.parentNode}}a=a.return}Jb(function(){var nt=j,ot=xb(i),it=[];e:{var st=df.get(s);if(st!==void 0){var ut=td,lt=s;switch(s){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":ut=Rd;break;case"focusin":lt="focus",ut=Fd;break;case"focusout":lt="blur",ut=Fd;break;case"beforeblur":case"afterblur":ut=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd;break;case $e:case af:case bf:ut=Hd;break;case cf:ut=Xd;break;case"scroll":ut=vd;break;case"wheel":ut=Zd;break;case"copy":case"cut":case"paste":ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td}var rt=(o&4)!==0,dt=!rt&&s==="scroll",ct=rt?st!==null?st+"Capture":null:st;rt=[];for(var pt=nt,at;pt!==null;){at=pt;var ht=at.stateNode;if(at.tag===5&&ht!==null&&(at=ht,ct!==null&&(ht=Kb(pt,ct),ht!=null&&rt.push(tf(pt,ht,at)))),dt)break;pt=pt.return}0<rt.length&&(st=new ut(st,lt,null,i,ot),it.push({event:st,listeners:rt}))}}if(!(o&7)){e:{if(st=s==="mouseover"||s==="pointerover",ut=s==="mouseout"||s==="pointerout",st&&i!==wb&&(lt=i.relatedTarget||i.fromElement)&&(Wc(lt)||lt[uf]))break e;if((ut||st)&&(st=ot.window===ot?ot:(st=ot.ownerDocument)?st.defaultView||st.parentWindow:window,ut?(lt=i.relatedTarget||i.toElement,ut=nt,lt=lt?Wc(lt):null,lt!==null&&(dt=Vb(lt),lt!==dt||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(ut=null,lt=nt),ut!==lt)){if(rt=Bd,ht="onMouseLeave",ct="onMouseEnter",pt="mouse",(s==="pointerout"||s==="pointerover")&&(rt=Td,ht="onPointerLeave",ct="onPointerEnter",pt="pointer"),dt=ut==null?st:ue(ut),at=lt==null?st:ue(lt),st=new rt(ht,pt+"leave",ut,i,ot),st.target=dt,st.relatedTarget=at,ht=null,Wc(ot)===nt&&(rt=new rt(ct,pt+"enter",lt,i,ot),rt.target=at,rt.relatedTarget=dt,ht=rt),dt=ht,ut&&lt)t:{for(rt=ut,ct=lt,pt=0,at=rt;at;at=vf(at))pt++;for(at=0,ht=ct;ht;ht=vf(ht))at++;for(;0<pt-at;)rt=vf(rt),pt--;for(;0<at-pt;)ct=vf(ct),at--;for(;pt--;){if(rt===ct||ct!==null&&rt===ct.alternate)break t;rt=vf(rt),ct=vf(ct)}rt=null}else rt=null;ut!==null&&wf(it,st,ut,rt,!1),lt!==null&&dt!==null&&wf(it,dt,lt,rt,!0)}}e:{if(st=nt?ue(nt):window,ut=st.nodeName&&st.nodeName.toLowerCase(),ut==="select"||ut==="input"&&st.type==="file")var xt=ve;else if(me(st))if(we)xt=Fe;else{xt=De;var gt=Ce}else(ut=st.nodeName)&&ut.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(xt=Ee);if(xt&&(xt=xt(s,nt))){ne(it,xt,i,ot);break e}gt&&gt(s,st,nt),s==="focusout"&&(gt=st._wrapperState)&&gt.controlled&&st.type==="number"&&cb(st,"number",st.value)}switch(gt=nt?ue(nt):window,s){case"focusin":(me(gt)||gt.contentEditable==="true")&&(Qe=gt,Re=nt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(it,i,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(it,i,ot)}var vt;if(ae)e:{switch(s){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ie?ge(s,i)&&(ft="onCompositionEnd"):s==="keydown"&&i.keyCode===229&&(ft="onCompositionStart");ft&&(de&&i.locale!=="ko"&&(ie||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ie&&(vt=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),gt=oe(nt,ft),0<gt.length&&(ft=new Ld(ft,s,null,i,ot),it.push({event:ft,listeners:gt}),vt?ft.data=vt:(vt=he(i),vt!==null&&(ft.data=vt)))),(vt=ce?je(s,i):ke(s,i))&&(nt=oe(nt,"onBeforeInput"),0<nt.length&&(ot=new Ld("onBeforeInput","beforeinput",null,i,ot),it.push({event:ot,listeners:nt}),ot.data=vt))}se(it,o)})}function tf(s,o,i){return{instance:s,listener:o,currentTarget:i}}function oe(s,o){for(var i=o+"Capture",a=[];s!==null;){var $=s,j=$.stateNode;$.tag===5&&j!==null&&($=j,j=Kb(s,i),j!=null&&a.unshift(tf(s,j,$)),j=Kb(s,o),j!=null&&a.push(tf(s,j,$))),s=s.return}return a}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,o,i,a,$){for(var j=o._reactName,_e=[];i!==null&&i!==a;){var et=i,tt=et.alternate,nt=et.stateNode;if(tt!==null&&tt===a)break;et.tag===5&&nt!==null&&(et=nt,$?(tt=Kb(i,j),tt!=null&&_e.unshift(tf(i,tt,et))):$||(tt=Kb(i,j),tt!=null&&_e.push(tf(i,tt,et)))),i=i.return}_e.length!==0&&s.push({event:o,listeners:_e})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,o,i){if(o=zf(o),zf(s)!==o&&i)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,o){var i=o,a=0;do{var $=i.nextSibling;if(s.removeChild(i),$&&$.nodeType===8)if(i=$.data,i==="/$"){if(a===0){s.removeChild($),bd(o);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=$}while(i);bd(o)}function Lf(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var i=s.data;if(i==="$"||i==="$!"||i==="$?"){if(o===0)return s;o--}else i==="/$"&&o++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(s){var o=s[Of];if(o)return o;for(var i=s.parentNode;i;){if(o=i[uf]||i[Of]){if(i=o.alternate,o.child!==null||i!==null&&i.child!==null)for(s=Mf(s);s!==null;){if(i=s[Of])return i;s=Mf(s)}return o}s=i,i=s.parentNode}return null}function Cb(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p$2(33))}function Db(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(s,o){Tf++,Sf[Tf]=s.current,s.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,o){var i=s.type.contextTypes;if(!i)return Vf;var a=s.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===o)return a.__reactInternalMemoizedMaskedChildContext;var $={},j;for(j in i)$[j]=o[j];return a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=$),$}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E(Wf),E(H)}function ag(s,o,i){if(H.current!==Vf)throw Error(p$2(168));G(H,o),G(Wf,i)}function bg(s,o,i){var a=s.stateNode;if(o=o.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var $ in a)if(!($ in o))throw Error(p$2(108,Ra(s)||"Unknown",$));return A$1({},i,a)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,s),G(Wf,Wf.current),!0}function dg(s,o,i){var a=s.stateNode;if(!a)throw Error(p$2(169));i?(s=bg(s,o,Xf),a.__reactInternalMemoizedMergedChildContext=s,E(Wf),E(H),G(H,s)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,o=C;try{var i=eg;for(C=1;s<i.length;s++){var a=i[s];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch($){throw eg!==null&&(eg=eg.slice(s+1)),ac(fc,jg),$}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,o){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=o}function ug(s,o,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var a=rg;s=sg;var $=32-oc(a)-1;a&=~(1<<$),i+=1;var j=32-oc(o)+$;if(30<j){var _e=$-$%5;j=(a&(1<<_e)-1).toString(32),a>>=_e,$-=_e,rg=1<<32-oc(o)+$|i<<$|a,sg=j+s}else rg=1<<j|i<<$|a,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(s,o){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=o,i.return=s,o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)}function Cg(s,o){switch(s.tag){case 5:var i=s.type;return o=o.nodeType!==1||i.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,xg=s,yg=Lf(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,xg=s,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(i=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:o,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=o,i.return=s,s.child=i,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I){var o=yg;if(o){var i=o;if(!Cg(s,o)){if(Dg(s))throw Error(p$2(418));o=Lf(i.nextSibling);var a=xg;o&&Cg(s,o)?Ag(a,i):(s.flags=s.flags&-4097|2,I=!1,xg=s)}}else{if(Dg(s))throw Error(p$2(418));s.flags=s.flags&-4097|2,I=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I)return Fg(s),I=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Ef(s.type,s.memoizedProps)),o&&(o=yg)){if(Dg(s))throw Hg(),Error(p$2(418));for(;o;)Ag(s,o),o=Lf(o.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p$2(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var i=s.data;if(i==="/$"){if(o===0){yg=Lf(s.nextSibling);break e}o--}else i!=="$"&&i!=="$!"&&i!=="$?"||o++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua.ReactCurrentBatchConfig;function Lg(s,o){if(s&&s.defaultProps){o=A$1({},o),s=s.defaultProps;for(var i in s)o[i]===void 0&&(o[i]=s[i]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(s){var o=Mg.current;E(Mg),s._currentValue=o}function Sg(s,o,i){for(;s!==null;){var a=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,a!==null&&(a.childLanes|=o)):a!==null&&(a.childLanes&o)!==o&&(a.childLanes|=o),s===i)break;s=s.return}}function Tg(s,o){Ng=s,Pg=Og=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(Ug=!0),s.firstContext=null)}function Vg(s){var o=s._currentValue;if(Pg!==s)if(s={context:s,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=s,Ng.dependencies={lanes:0,firstContext:s}}else Og=Og.next=s;return o}var Wg=null;function Xg(s){Wg===null?Wg=[s]:Wg.push(s)}function Yg(s,o,i,a){var $=o.interleaved;return $===null?(i.next=i,Xg(o)):(i.next=$.next,$.next=i),o.interleaved=i,Zg(s,a)}function Zg(s,o){s.lanes|=o;var i=s.alternate;for(i!==null&&(i.lanes|=o),i=s,s=s.return;s!==null;)s.childLanes|=o,i=s.alternate,i!==null&&(i.childLanes|=o),i=s,s=s.return;return i.tag===3?i.stateNode:null}var $g=!1;function ah(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ch(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(s,o,i){var a=s.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var $=a.pending;return $===null?o.next=o:(o.next=$.next,$.next=o),a.pending=o,Zg(s,i)}return $=a.interleaved,$===null?(o.next=o,Xg(a)):(o.next=$.next,$.next=o),a.interleaved=o,Zg(s,i)}function eh(s,o,i){if(o=o.updateQueue,o!==null&&(o=o.shared,(i&4194240)!==0)){var a=o.lanes;a&=s.pendingLanes,i|=a,o.lanes=i,Cc(s,i)}}function fh(s,o){var i=s.updateQueue,a=s.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var $=null,j=null;if(i=i.firstBaseUpdate,i!==null){do{var _e={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};j===null?$=j=_e:j=j.next=_e,i=i.next}while(i!==null);j===null?$=j=o:j=j.next=o}else $=j=o;i={baseState:a.baseState,firstBaseUpdate:$,lastBaseUpdate:j,shared:a.shared,effects:a.effects},s.updateQueue=i;return}s=i.lastBaseUpdate,s===null?i.firstBaseUpdate=o:s.next=o,i.lastBaseUpdate=o}function gh(s,o,i,a){var $=s.updateQueue;$g=!1;var j=$.firstBaseUpdate,_e=$.lastBaseUpdate,et=$.shared.pending;if(et!==null){$.shared.pending=null;var tt=et,nt=tt.next;tt.next=null,_e===null?j=nt:_e.next=nt,_e=tt;var ot=s.alternate;ot!==null&&(ot=ot.updateQueue,et=ot.lastBaseUpdate,et!==_e&&(et===null?ot.firstBaseUpdate=nt:et.next=nt,ot.lastBaseUpdate=tt))}if(j!==null){var it=$.baseState;_e=0,ot=nt=tt=null,et=j;do{var st=et.lane,ut=et.eventTime;if((a&st)===st){ot!==null&&(ot=ot.next={eventTime:ut,lane:0,tag:et.tag,payload:et.payload,callback:et.callback,next:null});e:{var lt=s,rt=et;switch(st=o,ut=i,rt.tag){case 1:if(lt=rt.payload,typeof lt=="function"){it=lt.call(ut,it,st);break e}it=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=rt.payload,st=typeof lt=="function"?lt.call(ut,it,st):lt,st==null)break e;it=A$1({},it,st);break e;case 2:$g=!0}}et.callback!==null&&et.lane!==0&&(s.flags|=64,st=$.effects,st===null?$.effects=[et]:st.push(et))}else ut={eventTime:ut,lane:st,tag:et.tag,payload:et.payload,callback:et.callback,next:null},ot===null?(nt=ot=ut,tt=it):ot=ot.next=ut,_e|=st;if(et=et.next,et===null){if(et=$.shared.pending,et===null)break;st=et,et=st.next,st.next=null,$.lastBaseUpdate=st,$.shared.pending=null}}while(1);if(ot===null&&(tt=it),$.baseState=tt,$.firstBaseUpdate=nt,$.lastBaseUpdate=ot,o=$.shared.interleaved,o!==null){$=o;do _e|=$.lane,$=$.next;while($!==o)}else j===null&&($.shared.lanes=0);hh|=_e,s.lanes=_e,s.memoizedState=it}}function ih(s,o,i){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var a=s[o],$=a.callback;if($!==null){if(a.callback=null,a=i,typeof $!="function")throw Error(p$2(191,$));$.call(a)}}}var jh=new aa.Component().refs;function kh(s,o,i,a){o=s.memoizedState,i=i(a,o),i=i==null?o:A$1({},o,i),s.memoizedState=i,s.lanes===0&&(s.updateQueue.baseState=i)}var nh={isMounted:function(s){return(s=s._reactInternals)?Vb(s)===s:!1},enqueueSetState:function(s,o,i){s=s._reactInternals;var a=L(),$=lh(s),j=ch(a,$);j.payload=o,i!=null&&(j.callback=i),o=dh(s,j,$),o!==null&&(mh(o,s,$,a),eh(o,s,$))},enqueueReplaceState:function(s,o,i){s=s._reactInternals;var a=L(),$=lh(s),j=ch(a,$);j.tag=1,j.payload=o,i!=null&&(j.callback=i),o=dh(s,j,$),o!==null&&(mh(o,s,$,a),eh(o,s,$))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var i=L(),a=lh(s),$=ch(i,a);$.tag=2,o!=null&&($.callback=o),o=dh(s,$,a),o!==null&&(mh(o,s,a,i),eh(o,s,a))}};function oh(s,o,i,a,$,j,_e){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(a,j,_e):o.prototype&&o.prototype.isPureReactComponent?!Ie(i,a)||!Ie($,j):!0}function ph(s,o,i){var a=!1,$=Vf,j=o.contextType;return typeof j=="object"&&j!==null?j=Vg(j):($=Zf(o)?Xf:H.current,a=o.contextTypes,j=(a=a!=null)?Yf(s,$):Vf),o=new o(i,j),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,s.stateNode=o,o._reactInternals=s,a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=$,s.__reactInternalMemoizedMaskedChildContext=j),o}function qh(s,o,i,a){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(i,a),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(i,a),o.state!==s&&nh.enqueueReplaceState(o,o.state,null)}function rh(s,o,i,a){var $=s.stateNode;$.props=i,$.state=s.memoizedState,$.refs=jh,ah(s);var j=o.contextType;typeof j=="object"&&j!==null?$.context=Vg(j):(j=Zf(o)?Xf:H.current,$.context=Yf(s,j)),$.state=s.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(kh(s,o,j,i),$.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(o=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),o!==$.state&&nh.enqueueReplaceState($,$.state,null),gh(s,i,$,a),$.state=s.memoizedState),typeof $.componentDidMount=="function"&&(s.flags|=4194308)}function sh(s,o,i){if(s=i.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p$2(309));var a=i.stateNode}if(!a)throw Error(p$2(147,s));var $=a,j=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===j?o.ref:(o=function(_e){var et=$.refs;et===jh&&(et=$.refs={}),_e===null?delete et[j]:et[j]=_e},o._stringRef=j,o)}if(typeof s!="string")throw Error(p$2(284));if(!i._owner)throw Error(p$2(290,s))}return s}function th(s,o){throw s=Object.prototype.toString.call(o),Error(p$2(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function uh(s){var o=s._init;return o(s._payload)}function vh(s){function o(ct,pt){if(s){var at=ct.deletions;at===null?(ct.deletions=[pt],ct.flags|=16):at.push(pt)}}function i(ct,pt){if(!s)return null;for(;pt!==null;)o(ct,pt),pt=pt.sibling;return null}function a(ct,pt){for(ct=new Map;pt!==null;)pt.key!==null?ct.set(pt.key,pt):ct.set(pt.index,pt),pt=pt.sibling;return ct}function $(ct,pt){return ct=wh(ct,pt),ct.index=0,ct.sibling=null,ct}function j(ct,pt,at){return ct.index=at,s?(at=ct.alternate,at!==null?(at=at.index,at<pt?(ct.flags|=2,pt):at):(ct.flags|=2,pt)):(ct.flags|=1048576,pt)}function _e(ct){return s&&ct.alternate===null&&(ct.flags|=2),ct}function et(ct,pt,at,ht){return pt===null||pt.tag!==6?(pt=xh(at,ct.mode,ht),pt.return=ct,pt):(pt=$(pt,at),pt.return=ct,pt)}function tt(ct,pt,at,ht){var xt=at.type;return xt===ya?ot(ct,pt,at.props.children,ht,at.key):pt!==null&&(pt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&uh(xt)===pt.type)?(ht=$(pt,at.props),ht.ref=sh(ct,pt,at),ht.return=ct,ht):(ht=yh(at.type,at.key,at.props,null,ct.mode,ht),ht.ref=sh(ct,pt,at),ht.return=ct,ht)}function nt(ct,pt,at,ht){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==at.containerInfo||pt.stateNode.implementation!==at.implementation?(pt=zh(at,ct.mode,ht),pt.return=ct,pt):(pt=$(pt,at.children||[]),pt.return=ct,pt)}function ot(ct,pt,at,ht,xt){return pt===null||pt.tag!==7?(pt=Ah(at,ct.mode,ht,xt),pt.return=ct,pt):(pt=$(pt,at),pt.return=ct,pt)}function it(ct,pt,at){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return pt=xh(""+pt,ct.mode,at),pt.return=ct,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return at=yh(pt.type,pt.key,pt.props,null,ct.mode,at),at.ref=sh(ct,null,pt),at.return=ct,at;case wa:return pt=zh(pt,ct.mode,at),pt.return=ct,pt;case Ha:var ht=pt._init;return it(ct,ht(pt._payload),at)}if(eb(pt)||Ka(pt))return pt=Ah(pt,ct.mode,at,null),pt.return=ct,pt;th(ct,pt)}return null}function st(ct,pt,at,ht){var xt=pt!==null?pt.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return xt!==null?null:et(ct,pt,""+at,ht);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return at.key===xt?tt(ct,pt,at,ht):null;case wa:return at.key===xt?nt(ct,pt,at,ht):null;case Ha:return xt=at._init,st(ct,pt,xt(at._payload),ht)}if(eb(at)||Ka(at))return xt!==null?null:ot(ct,pt,at,ht,null);th(ct,at)}return null}function ut(ct,pt,at,ht,xt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ct=ct.get(at)||null,et(pt,ct,""+ht,xt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ct=ct.get(ht.key===null?at:ht.key)||null,tt(pt,ct,ht,xt);case wa:return ct=ct.get(ht.key===null?at:ht.key)||null,nt(pt,ct,ht,xt);case Ha:var gt=ht._init;return ut(ct,pt,at,gt(ht._payload),xt)}if(eb(ht)||Ka(ht))return ct=ct.get(at)||null,ot(pt,ct,ht,xt,null);th(pt,ht)}return null}function lt(ct,pt,at,ht){for(var xt=null,gt=null,vt=pt,ft=pt=0,yt=null;vt!==null&&ft<at.length;ft++){vt.index>ft?(yt=vt,vt=null):yt=vt.sibling;var mt=st(ct,vt,at[ft],ht);if(mt===null){vt===null&&(vt=yt);break}s&&vt&&mt.alternate===null&&o(ct,vt),pt=j(mt,pt,ft),gt===null?xt=mt:gt.sibling=mt,gt=mt,vt=yt}if(ft===at.length)return i(ct,vt),I&&tg(ct,ft),xt;if(vt===null){for(;ft<at.length;ft++)vt=it(ct,at[ft],ht),vt!==null&&(pt=j(vt,pt,ft),gt===null?xt=vt:gt.sibling=vt,gt=vt);return I&&tg(ct,ft),xt}for(vt=a(ct,vt);ft<at.length;ft++)yt=ut(vt,ct,ft,at[ft],ht),yt!==null&&(s&&yt.alternate!==null&&vt.delete(yt.key===null?ft:yt.key),pt=j(yt,pt,ft),gt===null?xt=yt:gt.sibling=yt,gt=yt);return s&&vt.forEach(function(St){return o(ct,St)}),I&&tg(ct,ft),xt}function rt(ct,pt,at,ht){var xt=Ka(at);if(typeof xt!="function")throw Error(p$2(150));if(at=xt.call(at),at==null)throw Error(p$2(151));for(var gt=xt=null,vt=pt,ft=pt=0,yt=null,mt=at.next();vt!==null&&!mt.done;ft++,mt=at.next()){vt.index>ft?(yt=vt,vt=null):yt=vt.sibling;var St=st(ct,vt,mt.value,ht);if(St===null){vt===null&&(vt=yt);break}s&&vt&&St.alternate===null&&o(ct,vt),pt=j(St,pt,ft),gt===null?xt=St:gt.sibling=St,gt=St,vt=yt}if(mt.done)return i(ct,vt),I&&tg(ct,ft),xt;if(vt===null){for(;!mt.done;ft++,mt=at.next())mt=it(ct,mt.value,ht),mt!==null&&(pt=j(mt,pt,ft),gt===null?xt=mt:gt.sibling=mt,gt=mt);return I&&tg(ct,ft),xt}for(vt=a(ct,vt);!mt.done;ft++,mt=at.next())mt=ut(vt,ct,ft,mt.value,ht),mt!==null&&(s&&mt.alternate!==null&&vt.delete(mt.key===null?ft:mt.key),pt=j(mt,pt,ft),gt===null?xt=mt:gt.sibling=mt,gt=mt);return s&&vt.forEach(function(At){return o(ct,At)}),I&&tg(ct,ft),xt}function dt(ct,pt,at,ht){if(typeof at=="object"&&at!==null&&at.type===ya&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case va:e:{for(var xt=at.key,gt=pt;gt!==null;){if(gt.key===xt){if(xt=at.type,xt===ya){if(gt.tag===7){i(ct,gt.sibling),pt=$(gt,at.props.children),pt.return=ct,ct=pt;break e}}else if(gt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&uh(xt)===gt.type){i(ct,gt.sibling),pt=$(gt,at.props),pt.ref=sh(ct,gt,at),pt.return=ct,ct=pt;break e}i(ct,gt);break}else o(ct,gt);gt=gt.sibling}at.type===ya?(pt=Ah(at.props.children,ct.mode,ht,at.key),pt.return=ct,ct=pt):(ht=yh(at.type,at.key,at.props,null,ct.mode,ht),ht.ref=sh(ct,pt,at),ht.return=ct,ct=ht)}return _e(ct);case wa:e:{for(gt=at.key;pt!==null;){if(pt.key===gt)if(pt.tag===4&&pt.stateNode.containerInfo===at.containerInfo&&pt.stateNode.implementation===at.implementation){i(ct,pt.sibling),pt=$(pt,at.children||[]),pt.return=ct,ct=pt;break e}else{i(ct,pt);break}else o(ct,pt);pt=pt.sibling}pt=zh(at,ct.mode,ht),pt.return=ct,ct=pt}return _e(ct);case Ha:return gt=at._init,dt(ct,pt,gt(at._payload),ht)}if(eb(at))return lt(ct,pt,at,ht);if(Ka(at))return rt(ct,pt,at,ht);th(ct,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,pt!==null&&pt.tag===6?(i(ct,pt.sibling),pt=$(pt,at),pt.return=ct,ct=pt):(i(ct,pt),pt=xh(at,ct.mode,ht),pt.return=ct,ct=pt),_e(ct)):i(ct,pt)}return dt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(s){if(s===Dh)throw Error(p$2(174));return s}function Ih(s,o){switch(G(Gh,o),G(Fh,s),G(Eh,Dh),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=lb(o,s)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(s){Hh(Gh.current);var o=Hh(Eh.current),i=lb(o,s.type);o!==i&&(G(Fh,s),G(Eh,i))}function Lh(s){Fh.current===s&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(s){for(var o=s;o!==null;){if(o.tag===13){var i=o.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var s=0;s<Nh.length;s++)Nh[s]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$2(321))}function Wh(s,o){if(o===null)return!1;for(var i=0;i<o.length&&i<s.length;i++)if(!He(s[i],o[i]))return!1;return!0}function Xh(s,o,i,a,$,j){if(Rh=j,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=s===null||s.memoizedState===null?Yh:Zh,s=i(a,$),Th){j=0;do{if(Th=!1,Uh=0,25<=j)throw Error(p$2(301));j+=1,P=O=null,o.updateQueue=null,Ph.current=$h,s=i(a,$)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p$2(300));return s}function bi(){var s=Uh!==0;return Uh=0,s}function ci(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=s:P=P.next=s,P}function di(){if(O===null){var s=N.alternate;s=s!==null?s.memoizedState:null}else s=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=s;else{if(s===null)throw Error(p$2(310));O=s,s={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=s:P=P.next=s}return P}function ei(s,o){return typeof o=="function"?o(s):o}function fi(s){var o=di(),i=o.queue;if(i===null)throw Error(p$2(311));i.lastRenderedReducer=s;var a=O,$=a.baseQueue,j=i.pending;if(j!==null){if($!==null){var _e=$.next;$.next=j.next,j.next=_e}a.baseQueue=$=j,i.pending=null}if($!==null){j=$.next,a=a.baseState;var et=_e=null,tt=null,nt=j;do{var ot=nt.lane;if((Rh&ot)===ot)tt!==null&&(tt=tt.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),a=nt.hasEagerState?nt.eagerState:s(a,nt.action);else{var it={lane:ot,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};tt===null?(et=tt=it,_e=a):tt=tt.next=it,N.lanes|=ot,hh|=ot}nt=nt.next}while(nt!==null&&nt!==j);tt===null?_e=a:tt.next=et,He(a,o.memoizedState)||(Ug=!0),o.memoizedState=a,o.baseState=_e,o.baseQueue=tt,i.lastRenderedState=a}if(s=i.interleaved,s!==null){$=s;do j=$.lane,N.lanes|=j,hh|=j,$=$.next;while($!==s)}else $===null&&(i.lanes=0);return[o.memoizedState,i.dispatch]}function gi(s){var o=di(),i=o.queue;if(i===null)throw Error(p$2(311));i.lastRenderedReducer=s;var a=i.dispatch,$=i.pending,j=o.memoizedState;if($!==null){i.pending=null;var _e=$=$.next;do j=s(j,_e.action),_e=_e.next;while(_e!==$);He(j,o.memoizedState)||(Ug=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),i.lastRenderedState=j}return[j,a]}function hi(){}function ii(s,o){var i=N,a=di(),$=o(),j=!He(a.memoizedState,$);if(j&&(a.memoizedState=$,Ug=!0),a=a.queue,ji(ki.bind(null,i,a,s),[s]),a.getSnapshot!==o||j||P!==null&&P.memoizedState.tag&1){if(i.flags|=2048,li(9,mi.bind(null,i,a,$,o),void 0,null),R===null)throw Error(p$2(349));Rh&30||ni(i,o,$)}return $}function ni(s,o,i){s.flags|=16384,s={getSnapshot:o,value:i},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[s]):(i=o.stores,i===null?o.stores=[s]:i.push(s))}function mi(s,o,i,a){o.value=i,o.getSnapshot=a,oi(o)&&pi(s)}function ki(s,o,i){return i(function(){oi(o)&&pi(s)})}function oi(s){var o=s.getSnapshot;s=s.value;try{var i=o();return!He(s,i)}catch{return!0}}function pi(s){var o=Zg(s,1);o!==null&&mh(o,s,1,-1)}function qi(s){var o=ci();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:s},o.queue=s,s=s.dispatch=ri.bind(null,N,s),[o.memoizedState,s]}function li(s,o,i,a){return s={tag:s,create:o,destroy:i,deps:a,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=s.next=s):(i=o.lastEffect,i===null?o.lastEffect=s.next=s:(a=i.next,i.next=s,s.next=a,o.lastEffect=s)),s}function si(){return di().memoizedState}function ti(s,o,i,a){var $=ci();N.flags|=s,$.memoizedState=li(1|o,i,void 0,a===void 0?null:a)}function ui(s,o,i,a){var $=di();a=a===void 0?null:a;var j=void 0;if(O!==null){var _e=O.memoizedState;if(j=_e.destroy,a!==null&&Wh(a,_e.deps)){$.memoizedState=li(o,i,j,a);return}}N.flags|=s,$.memoizedState=li(1|o,i,j,a)}function vi(s,o){return ti(8390656,8,s,o)}function ji(s,o){return ui(2048,8,s,o)}function wi(s,o){return ui(4,2,s,o)}function xi(s,o){return ui(4,4,s,o)}function yi(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function zi(s,o,i){return i=i!=null?i.concat([s]):null,ui(4,4,yi.bind(null,o,s),i)}function Ai(){}function Bi(s,o){var i=di();o=o===void 0?null:o;var a=i.memoizedState;return a!==null&&o!==null&&Wh(o,a[1])?a[0]:(i.memoizedState=[s,o],s)}function Ci(s,o){var i=di();o=o===void 0?null:o;var a=i.memoizedState;return a!==null&&o!==null&&Wh(o,a[1])?a[0]:(s=s(),i.memoizedState=[s,o],s)}function Di(s,o,i){return Rh&21?(He(i,o)||(i=yc(),N.lanes|=i,hh|=i,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,Ug=!0),s.memoizedState=i)}function Ei(s,o){var i=C;C=i!==0&&4>i?i:4,s(!0);var a=Qh.transition;Qh.transition={};try{s(!1),o()}finally{C=i,Qh.transition=a}}function Fi(){return di().memoizedState}function Gi(s,o,i){var a=lh(s);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Hi(s))Ii(o,i);else if(i=Yg(s,o,i,a),i!==null){var $=L();mh(i,s,a,$),Ji(i,o,a)}}function ri(s,o,i){var a=lh(s),$={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Hi(s))Ii(o,$);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var _e=o.lastRenderedState,et=j(_e,i);if($.hasEagerState=!0,$.eagerState=et,He(et,_e)){var tt=o.interleaved;tt===null?($.next=$,Xg(o)):($.next=tt.next,tt.next=$),o.interleaved=$;return}}catch{}finally{}i=Yg(s,o,$,a),i!==null&&($=L(),mh(i,s,a,$),Ji(i,o,a))}}function Hi(s){var o=s.alternate;return s===N||o!==null&&o===N}function Ii(s,o){Th=Sh=!0;var i=s.pending;i===null?o.next=o:(o.next=i.next,i.next=o),s.pending=o}function Ji(s,o,i){if(i&4194240){var a=o.lanes;a&=s.pendingLanes,i|=a,o.lanes=i,Cc(s,i)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(s,o){return ci().memoizedState=[s,o===void 0?null:o],s},useContext:Vg,useEffect:vi,useImperativeHandle:function(s,o,i){return i=i!=null?i.concat([s]):null,ti(4194308,4,yi.bind(null,o,s),i)},useLayoutEffect:function(s,o){return ti(4194308,4,s,o)},useInsertionEffect:function(s,o){return ti(4,2,s,o)},useMemo:function(s,o){var i=ci();return o=o===void 0?null:o,s=s(),i.memoizedState=[s,o],s},useReducer:function(s,o,i){var a=ci();return o=i!==void 0?i(o):o,a.memoizedState=a.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},a.queue=s,s=s.dispatch=Gi.bind(null,N,s),[a.memoizedState,s]},useRef:function(s){var o=ci();return s={current:s},o.memoizedState=s},useState:qi,useDebugValue:Ai,useDeferredValue:function(s){return ci().memoizedState=s},useTransition:function(){var s=qi(!1),o=s[0];return s=Ei.bind(null,s[1]),ci().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,i){var a=N,$=ci();if(I){if(i===void 0)throw Error(p$2(407));i=i()}else{if(i=o(),R===null)throw Error(p$2(349));Rh&30||ni(a,o,i)}$.memoizedState=i;var j={value:i,getSnapshot:o};return $.queue=j,vi(ki.bind(null,a,j,s),[s]),a.flags|=2048,li(9,mi.bind(null,a,j,i,o),void 0,null),i},useId:function(){var s=ci(),o=R.identifierPrefix;if(I){var i=sg,a=rg;i=(a&~(1<<32-oc(a)-1)).toString(32)+i,o=":"+o+"R"+i,i=Uh++,0<i&&(o+="H"+i.toString(32)),o+=":"}else i=Vh++,o=":"+o+"r"+i.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(s){var o=di();return Di(o,O.memoizedState,s)},useTransition:function(){var s=fi(ei)[0],o=di().memoizedState;return[s,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(s){var o=di();return O===null?o.memoizedState=s:Di(o,O.memoizedState,s)},useTransition:function(){var s=gi(ei)[0],o=di().memoizedState;return[s,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(s,o){try{var i="",a=o;do i+=Pa(a),a=a.return;while(a);var $=i}catch(j){$=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:o,stack:$,digest:null}}function Li(s,o,i){return{value:s,source:null,stack:i??null,digest:o??null}}function Mi(s,o){try{console.error(o.value)}catch(i){setTimeout(function(){throw i})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(s,o,i){i=ch(-1,i),i.tag=3,i.payload={element:null};var a=o.value;return i.callback=function(){Pi||(Pi=!0,Qi=a),Mi(s,o)},i}function Ri(s,o,i){i=ch(-1,i),i.tag=3;var a=s.type.getDerivedStateFromError;if(typeof a=="function"){var $=o.value;i.payload=function(){return a($)},i.callback=function(){Mi(s,o)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(i.callback=function(){Mi(s,o),typeof a!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var _e=o.stack;this.componentDidCatch(o.value,{componentStack:_e!==null?_e:""})}),i}function Ti(s,o,i){var a=s.pingCache;if(a===null){a=s.pingCache=new Ni;var $=new Set;a.set(o,$)}else $=a.get(o),$===void 0&&($=new Set,a.set(o,$));$.has(i)||($.add(i),s=Ui.bind(null,s,o,i),o.then(s,s))}function Vi(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Wi(s,o,i,a,$){return s.mode&1?(s.flags|=65536,s.lanes=$,s):(s===o?s.flags|=65536:(s.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(o=ch(-1,1),o.tag=2,dh(i,o,1))),i.lanes|=1),s)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(s,o,i,a){o.child=s===null?Ch(o,null,i,a):Bh(o,s.child,i,a)}function Zi(s,o,i,a,$){i=i.render;var j=o.ref;return Tg(o,$),a=Xh(s,o,i,a,j,$),i=bi(),s!==null&&!Ug?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~$,$i(s,o,$)):(I&&i&&vg(o),o.flags|=1,Yi(s,o,a,$),o.child)}function aj(s,o,i,a,$){if(s===null){var j=i.type;return typeof j=="function"&&!bj(j)&&j.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(o.tag=15,o.type=j,cj(s,o,j,a,$)):(s=yh(i.type,null,a,o,o.mode,$),s.ref=o.ref,s.return=o,o.child=s)}if(j=s.child,!(s.lanes&$)){var _e=j.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(_e,a)&&s.ref===o.ref)return $i(s,o,$)}return o.flags|=1,s=wh(j,a),s.ref=o.ref,s.return=o,o.child=s}function cj(s,o,i,a,$){if(s!==null){var j=s.memoizedProps;if(Ie(j,a)&&s.ref===o.ref)if(Ug=!1,o.pendingProps=a=j,(s.lanes&$)!==0)s.flags&131072&&(Ug=!0);else return o.lanes=s.lanes,$i(s,o,$)}return dj(s,o,i,a,$)}function ej(s,o,i){var a=o.pendingProps,$=a.children,j=s!==null?s.memoizedState:null;if(a.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=i;else{if(!(i&1073741824))return s=j!==null?j.baseLanes|i:i,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=j!==null?j.baseLanes:i,G(fj,gj),gj|=a}else j!==null?(a=j.baseLanes|i,o.memoizedState=null):a=i,G(fj,gj),gj|=a;return Yi(s,o,$,i),o.child}function hj(s,o){var i=o.ref;(s===null&&i!==null||s!==null&&s.ref!==i)&&(o.flags|=512,o.flags|=2097152)}function dj(s,o,i,a,$){var j=Zf(i)?Xf:H.current;return j=Yf(o,j),Tg(o,$),i=Xh(s,o,i,a,j,$),a=bi(),s!==null&&!Ug?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~$,$i(s,o,$)):(I&&a&&vg(o),o.flags|=1,Yi(s,o,i,$),o.child)}function ij(s,o,i,a,$){if(Zf(i)){var j=!0;cg(o)}else j=!1;if(Tg(o,$),o.stateNode===null)jj(s,o),ph(o,i,a),rh(o,i,a,$),a=!0;else if(s===null){var _e=o.stateNode,et=o.memoizedProps;_e.props=et;var tt=_e.context,nt=i.contextType;typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(i)?Xf:H.current,nt=Yf(o,nt));var ot=i.getDerivedStateFromProps,it=typeof ot=="function"||typeof _e.getSnapshotBeforeUpdate=="function";it||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(et!==a||tt!==nt)&&qh(o,_e,a,nt),$g=!1;var st=o.memoizedState;_e.state=st,gh(o,a,_e,$),tt=o.memoizedState,et!==a||st!==tt||Wf.current||$g?(typeof ot=="function"&&(kh(o,i,ot,a),tt=o.memoizedState),(et=$g||oh(o,i,et,a,st,tt,nt))?(it||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount()),typeof _e.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _e.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=a,o.memoizedState=tt),_e.props=a,_e.state=tt,_e.context=nt,a=et):(typeof _e.componentDidMount=="function"&&(o.flags|=4194308),a=!1)}else{_e=o.stateNode,bh(s,o),et=o.memoizedProps,nt=o.type===o.elementType?et:Lg(o.type,et),_e.props=nt,it=o.pendingProps,st=_e.context,tt=i.contextType,typeof tt=="object"&&tt!==null?tt=Vg(tt):(tt=Zf(i)?Xf:H.current,tt=Yf(o,tt));var ut=i.getDerivedStateFromProps;(ot=typeof ut=="function"||typeof _e.getSnapshotBeforeUpdate=="function")||typeof _e.UNSAFE_componentWillReceiveProps!="function"&&typeof _e.componentWillReceiveProps!="function"||(et!==it||st!==tt)&&qh(o,_e,a,tt),$g=!1,st=o.memoizedState,_e.state=st,gh(o,a,_e,$);var lt=o.memoizedState;et!==it||st!==lt||Wf.current||$g?(typeof ut=="function"&&(kh(o,i,ut,a),lt=o.memoizedState),(nt=$g||oh(o,i,nt,a,st,lt,tt)||!1)?(ot||typeof _e.UNSAFE_componentWillUpdate!="function"&&typeof _e.componentWillUpdate!="function"||(typeof _e.componentWillUpdate=="function"&&_e.componentWillUpdate(a,lt,tt),typeof _e.UNSAFE_componentWillUpdate=="function"&&_e.UNSAFE_componentWillUpdate(a,lt,tt)),typeof _e.componentDidUpdate=="function"&&(o.flags|=4),typeof _e.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _e.componentDidUpdate!="function"||et===s.memoizedProps&&st===s.memoizedState||(o.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||et===s.memoizedProps&&st===s.memoizedState||(o.flags|=1024),o.memoizedProps=a,o.memoizedState=lt),_e.props=a,_e.state=lt,_e.context=tt,a=nt):(typeof _e.componentDidUpdate!="function"||et===s.memoizedProps&&st===s.memoizedState||(o.flags|=4),typeof _e.getSnapshotBeforeUpdate!="function"||et===s.memoizedProps&&st===s.memoizedState||(o.flags|=1024),a=!1)}return kj(s,o,i,a,j,$)}function kj(s,o,i,a,$,j){hj(s,o);var _e=(o.flags&128)!==0;if(!a&&!_e)return $&&dg(o,i,!1),$i(s,o,j);a=o.stateNode,Xi.current=o;var et=_e&&typeof i.getDerivedStateFromError!="function"?null:a.render();return o.flags|=1,s!==null&&_e?(o.child=Bh(o,s.child,null,j),o.child=Bh(o,null,et,j)):Yi(s,o,et,j),o.memoizedState=a.state,$&&dg(o,i,!0),o.child}function lj(s){var o=s.stateNode;o.pendingContext?ag(s,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(s,o.context,!1),Ih(s,o.containerInfo)}function mj(s,o,i,a,$){return Ig(),Jg($),o.flags|=256,Yi(s,o,i,a),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(s){return{baseLanes:s,cachePool:null,transitions:null}}function pj(s,o,i){var a=o.pendingProps,$=M.current,j=!1,_e=(o.flags&128)!==0,et;if((et=_e)||(et=s!==null&&s.memoizedState===null?!1:($&2)!==0),et?(j=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&($|=1),G(M,$&1),s===null)return Eg(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(_e=a.children,s=a.fallback,j?(a=o.mode,j=o.child,_e={mode:"hidden",children:_e},!(a&1)&&j!==null?(j.childLanes=0,j.pendingProps=_e):j=qj(_e,a,0,null),s=Ah(s,a,i,null),j.return=o,s.return=o,j.sibling=s,o.child=j,o.child.memoizedState=oj(i),o.memoizedState=nj,s):rj(o,_e));if($=s.memoizedState,$!==null&&(et=$.dehydrated,et!==null))return sj(s,o,_e,a,et,$,i);if(j){j=a.fallback,_e=o.mode,$=s.child,et=$.sibling;var tt={mode:"hidden",children:a.children};return!(_e&1)&&o.child!==$?(a=o.child,a.childLanes=0,a.pendingProps=tt,o.deletions=null):(a=wh($,tt),a.subtreeFlags=$.subtreeFlags&14680064),et!==null?j=wh(et,j):(j=Ah(j,_e,i,null),j.flags|=2),j.return=o,a.return=o,a.sibling=j,o.child=a,a=j,j=o.child,_e=s.child.memoizedState,_e=_e===null?oj(i):{baseLanes:_e.baseLanes|i,cachePool:null,transitions:_e.transitions},j.memoizedState=_e,j.childLanes=s.childLanes&~i,o.memoizedState=nj,a}return j=s.child,s=j.sibling,a=wh(j,{mode:"visible",children:a.children}),!(o.mode&1)&&(a.lanes=i),a.return=o,a.sibling=null,s!==null&&(i=o.deletions,i===null?(o.deletions=[s],o.flags|=16):i.push(s)),o.child=a,o.memoizedState=null,a}function rj(s,o){return o=qj({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function tj(s,o,i,a){return a!==null&&Jg(a),Bh(o,s.child,null,i),s=rj(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function sj(s,o,i,a,$,j,_e){if(i)return o.flags&256?(o.flags&=-257,a=Li(Error(p$2(422))),tj(s,o,_e,a)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(j=a.fallback,$=o.mode,a=qj({mode:"visible",children:a.children},$,0,null),j=Ah(j,$,_e,null),j.flags|=2,a.return=o,j.return=o,a.sibling=j,o.child=a,o.mode&1&&Bh(o,s.child,null,_e),o.child.memoizedState=oj(_e),o.memoizedState=nj,j);if(!(o.mode&1))return tj(s,o,_e,null);if($.data==="$!"){if(a=$.nextSibling&&$.nextSibling.dataset,a)var et=a.dgst;return a=et,j=Error(p$2(419)),a=Li(j,a,void 0),tj(s,o,_e,a)}if(et=(_e&s.childLanes)!==0,Ug||et){if(a=R,a!==null){switch(_e&-_e){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(a.suspendedLanes|_e)?0:$,$!==0&&$!==j.retryLane&&(j.retryLane=$,Zg(s,$),mh(a,s,$,-1))}return uj(),a=Li(Error(p$2(421))),tj(s,o,_e,a)}return $.data==="$?"?(o.flags|=128,o.child=s.child,o=vj.bind(null,s),$._reactRetry=o,null):(s=j.treeContext,yg=Lf($.nextSibling),xg=o,I=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=o),o=rj(o,a.children),o.flags|=4096,o)}function wj(s,o,i){s.lanes|=o;var a=s.alternate;a!==null&&(a.lanes|=o),Sg(s.return,o,i)}function xj(s,o,i,a,$){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:$}:(j.isBackwards=o,j.rendering=null,j.renderingStartTime=0,j.last=a,j.tail=i,j.tailMode=$)}function yj(s,o,i){var a=o.pendingProps,$=a.revealOrder,j=a.tail;if(Yi(s,o,a.children,i),a=M.current,a&2)a=a&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wj(s,i,o);else if(s.tag===19)wj(s,i,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a&=1}if(G(M,a),!(o.mode&1))o.memoizedState=null;else switch($){case"forwards":for(i=o.child,$=null;i!==null;)s=i.alternate,s!==null&&Mh(s)===null&&($=i),i=i.sibling;i=$,i===null?($=o.child,o.child=null):($=i.sibling,i.sibling=null),xj(o,!1,$,i,j);break;case"backwards":for(i=null,$=o.child,o.child=null;$!==null;){if(s=$.alternate,s!==null&&Mh(s)===null){o.child=$;break}s=$.sibling,$.sibling=i,i=$,$=s}xj(o,!0,i,null,j);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function $i(s,o,i){if(s!==null&&(o.dependencies=s.dependencies),hh|=o.lanes,!(i&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(p$2(153));if(o.child!==null){for(s=o.child,i=wh(s,s.pendingProps),o.child=i,i.return=o;s.sibling!==null;)s=s.sibling,i=i.sibling=wh(s,s.pendingProps),i.return=o;i.sibling=null}return o.child}function zj(s,o,i){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var a=o.type._context,$=o.memoizedProps.value;G(Mg,a._currentValue),a._currentValue=$;break;case 13:if(a=o.memoizedState,a!==null)return a.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):i&o.child.childLanes?pj(s,o,i):(G(M,M.current&1),s=$i(s,o,i),s!==null?s.sibling:null);G(M,M.current&1);break;case 19:if(a=(i&o.childLanes)!==0,s.flags&128){if(a)return yj(s,o,i);o.flags|=128}if($=o.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),G(M,M.current),a)break;return null;case 22:case 23:return o.lanes=0,ej(s,o,i)}return $i(s,o,i)}var Aj,Bj,Cj,Dj;Aj=function(s,o){for(var i=o.child;i!==null;){if(i.tag===5||i.tag===6)s.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Bj=function(){};Cj=function(s,o,i,a){var $=s.memoizedProps;if($!==a){s=o.stateNode,Hh(Eh.current);var j=null;switch(i){case"input":$=Ya(s,$),a=Ya(s,a),j=[];break;case"select":$=A$1({},$,{value:void 0}),a=A$1({},a,{value:void 0}),j=[];break;case"textarea":$=gb(s,$),a=gb(s,a),j=[];break;default:typeof $.onClick!="function"&&typeof a.onClick=="function"&&(s.onclick=Bf)}ub(i,a);var _e;i=null;for(nt in $)if(!a.hasOwnProperty(nt)&&$.hasOwnProperty(nt)&&$[nt]!=null)if(nt==="style"){var et=$[nt];for(_e in et)et.hasOwnProperty(_e)&&(i||(i={}),i[_e]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?j||(j=[]):(j=j||[]).push(nt,null));for(nt in a){var tt=a[nt];if(et=$!=null?$[nt]:void 0,a.hasOwnProperty(nt)&&tt!==et&&(tt!=null||et!=null))if(nt==="style")if(et){for(_e in et)!et.hasOwnProperty(_e)||tt&&tt.hasOwnProperty(_e)||(i||(i={}),i[_e]="");for(_e in tt)tt.hasOwnProperty(_e)&&et[_e]!==tt[_e]&&(i||(i={}),i[_e]=tt[_e])}else i||(j||(j=[]),j.push(nt,i)),i=tt;else nt==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,et=et?et.__html:void 0,tt!=null&&et!==tt&&(j=j||[]).push(nt,tt)):nt==="children"?typeof tt!="string"&&typeof tt!="number"||(j=j||[]).push(nt,""+tt):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(nt)?(tt!=null&&nt==="onScroll"&&D("scroll",s),j||et===tt||(j=[])):(j=j||[]).push(nt,tt))}i&&(j=j||[]).push("style",i);var nt=j;(o.updateQueue=nt)&&(o.flags|=4)}};Dj=function(s,o,i,a){i!==a&&(o.flags|=4)};function Ej(s,o){if(!I)switch(s.tailMode){case"hidden":o=s.tail;for(var i=null;o!==null;)o.alternate!==null&&(i=o),o=o.sibling;i===null?s.tail=null:i.sibling=null;break;case"collapsed":i=s.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:a.sibling=null}}function S(s){var o=s.alternate!==null&&s.alternate.child===s.child,i=0,a=0;if(o)for(var $=s.child;$!==null;)i|=$.lanes|$.childLanes,a|=$.subtreeFlags&14680064,a|=$.flags&14680064,$.return=s,$=$.sibling;else for($=s.child;$!==null;)i|=$.lanes|$.childLanes,a|=$.subtreeFlags,a|=$.flags,$.return=s,$=$.sibling;return s.subtreeFlags|=a,s.childLanes=i,o}function Fj(s,o,i){var a=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return a=o.stateNode,Jh(),E(Wf),E(H),Oh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Gg(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(s,o),S(o),null;case 5:Lh(o);var $=Hh(Gh.current);if(i=o.type,s!==null&&o.stateNode!=null)Cj(s,o,i,a,$),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!a){if(o.stateNode===null)throw Error(p$2(166));return S(o),null}if(s=Hh(Eh.current),Gg(o)){a=o.stateNode,i=o.type;var j=o.memoizedProps;switch(a[Of]=o,a[Pf]=j,s=(o.mode&1)!==0,i){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,j),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!j.multiple},D("invalid",a);break;case"textarea":hb(a,j),D("invalid",a)}ub(i,j),$=null;for(var _e in j)if(j.hasOwnProperty(_e)){var et=j[_e];_e==="children"?typeof et=="string"?a.textContent!==et&&(j.suppressHydrationWarning!==!0&&Af(a.textContent,et,s),$=["children",et]):typeof et=="number"&&a.textContent!==""+et&&(j.suppressHydrationWarning!==!0&&Af(a.textContent,et,s),$=["children",""+et]):ea.hasOwnProperty(_e)&&et!=null&&_e==="onScroll"&&D("scroll",a)}switch(i){case"input":Va(a),db(a,j,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(a.onclick=Bf)}a=$,o.updateQueue=a,a!==null&&(o.flags|=4)}else{_e=$.nodeType===9?$:$.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb(i)),s==="http://www.w3.org/1999/xhtml"?i==="script"?(s=_e.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof a.is=="string"?s=_e.createElement(i,{is:a.is}):(s=_e.createElement(i),i==="select"&&(_e=s,a.multiple?_e.multiple=!0:a.size&&(_e.size=a.size))):s=_e.createElementNS(s,i),s[Of]=o,s[Pf]=a,Aj(s,o,!1,!1),o.stateNode=s;e:{switch(_e=vb(i,a),i){case"dialog":D("cancel",s),D("close",s),$=a;break;case"iframe":case"object":case"embed":D("load",s),$=a;break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],s);$=a;break;case"source":D("error",s),$=a;break;case"img":case"image":case"link":D("error",s),D("load",s),$=a;break;case"details":D("toggle",s),$=a;break;case"input":Za(s,a),$=Ya(s,a),D("invalid",s);break;case"option":$=a;break;case"select":s._wrapperState={wasMultiple:!!a.multiple},$=A$1({},a,{value:void 0}),D("invalid",s);break;case"textarea":hb(s,a),$=gb(s,a),D("invalid",s);break;default:$=a}ub(i,$),et=$;for(j in et)if(et.hasOwnProperty(j)){var tt=et[j];j==="style"?sb(s,tt):j==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,tt!=null&&nb(s,tt)):j==="children"?typeof tt=="string"?(i!=="textarea"||tt!=="")&&ob(s,tt):typeof tt=="number"&&ob(s,""+tt):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea.hasOwnProperty(j)?tt!=null&&j==="onScroll"&&D("scroll",s):tt!=null&&ta(s,j,tt,_e))}switch(i){case"input":Va(s),db(s,a,!1);break;case"textarea":Va(s),jb(s);break;case"option":a.value!=null&&s.setAttribute("value",""+Sa(a.value));break;case"select":s.multiple=!!a.multiple,j=a.value,j!=null?fb(s,!!a.multiple,j,!1):a.defaultValue!=null&&fb(s,!!a.multiple,a.defaultValue,!0);break;default:typeof $.onClick=="function"&&(s.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(s&&o.stateNode!=null)Dj(s,o,s.memoizedProps,a);else{if(typeof a!="string"&&o.stateNode===null)throw Error(p$2(166));if(i=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(a=o.stateNode,i=o.memoizedProps,a[Of]=o,(j=a.nodeValue!==i)&&(s=xg,s!==null))switch(s.tag){case 3:Af(a.nodeValue,i,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,i,(s.mode&1)!==0)}j&&(o.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Of]=o,o.stateNode=a}return S(o),null;case 13:if(E(M),a=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,j=!1;else if(j=Gg(o),a!==null&&a.dehydrated!==null){if(s===null){if(!j)throw Error(p$2(318));if(j=o.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(p$2(317));j[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),j=!1}else zg!==null&&(Gj(zg),zg=null),j=!0;if(!j)return o.flags&65536?o:null}return o.flags&128?(o.lanes=i,o):(a=a!==null,a!==(s!==null&&s.memoizedState!==null)&&a&&(o.child.flags|=8192,o.mode&1&&(s===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj(s,o),s===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),j=o.memoizedState,j===null)return S(o),null;if(a=(o.flags&128)!==0,_e=j.rendering,_e===null)if(a)Ej(j,!1);else{if(T!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(_e=Mh(s),_e!==null){for(o.flags|=128,Ej(j,!1),a=_e.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),o.subtreeFlags=0,a=i,i=o.child;i!==null;)j=i,s=a,j.flags&=14680066,_e=j.alternate,_e===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=_e.childLanes,j.lanes=_e.lanes,j.child=_e.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=_e.memoizedProps,j.memoizedState=_e.memoizedState,j.updateQueue=_e.updateQueue,j.type=_e.type,s=_e.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i=i.sibling;return G(M,M.current&1|2),o.child}s=s.sibling}j.tail!==null&&B()>Hj&&(o.flags|=128,a=!0,Ej(j,!1),o.lanes=4194304)}else{if(!a)if(s=Mh(_e),s!==null){if(o.flags|=128,a=!0,i=s.updateQueue,i!==null&&(o.updateQueue=i,o.flags|=4),Ej(j,!0),j.tail===null&&j.tailMode==="hidden"&&!_e.alternate&&!I)return S(o),null}else 2*B()-j.renderingStartTime>Hj&&i!==1073741824&&(o.flags|=128,a=!0,Ej(j,!1),o.lanes=4194304);j.isBackwards?(_e.sibling=o.child,o.child=_e):(i=j.last,i!==null?i.sibling=_e:o.child=_e,j.last=_e)}return j.tail!==null?(o=j.tail,j.rendering=o,j.tail=o.sibling,j.renderingStartTime=B(),o.sibling=null,i=M.current,G(M,a?i&1|2:i&1),o):(S(o),null);case 22:case 23:return Ij(),a=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==a&&(o.flags|=8192),a&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$2(156,o.tag))}function Jj(s,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(p$2(340));Ig()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(s,o){var i=s.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){W(s,o,a)}else i.current=null}function Nj(s,o,i){try{i()}catch(a){W(s,o,a)}}var Oj=!1;function Pj(s,o){if(Cf=dd,s=Me(),Ne(s)){if("selectionStart"in s)var i={start:s.selectionStart,end:s.selectionEnd};else e:{i=(i=s.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var $=a.anchorOffset,j=a.focusNode;a=a.focusOffset;try{i.nodeType,j.nodeType}catch{i=null;break e}var _e=0,et=-1,tt=-1,nt=0,ot=0,it=s,st=null;t:for(;;){for(var ut;it!==i||$!==0&&it.nodeType!==3||(et=_e+$),it!==j||a!==0&&it.nodeType!==3||(tt=_e+a),it.nodeType===3&&(_e+=it.nodeValue.length),(ut=it.firstChild)!==null;)st=it,it=ut;for(;;){if(it===s)break t;if(st===i&&++nt===$&&(et=_e),st===j&&++ot===a&&(tt=_e),(ut=it.nextSibling)!==null)break;it=st,st=it.parentNode}it=ut}i=et===-1||tt===-1?null:{start:et,end:tt}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:s,selectionRange:i},dd=!1,V=o;V!==null;)if(o=V,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,V=s;else for(;V!==null;){o=V;try{var lt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var rt=lt.memoizedProps,dt=lt.memoizedState,ct=o.stateNode,pt=ct.getSnapshotBeforeUpdate(o.elementType===o.type?rt:Lg(o.type,rt),dt);ct.__reactInternalSnapshotBeforeUpdate=pt}break;case 3:var at=o.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(ht){W(o,o.return,ht)}if(s=o.sibling,s!==null){s.return=o.return,V=s;break}V=o.return}return lt=Oj,Oj=!1,lt}function Qj(s,o,i){var a=o.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var $=a=a.next;do{if(($.tag&s)===s){var j=$.destroy;$.destroy=void 0,j!==void 0&&Nj(o,i,j)}$=$.next}while($!==a)}}function Rj(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&s)===s){var a=i.create;i.destroy=a()}i=i.next}while(i!==o)}}function Sj(s){var o=s.ref;if(o!==null){var i=s.stateNode;switch(s.tag){case 5:s=i;break;default:s=i}typeof o=="function"?o(s):o.current=s}}function Tj(s){var o=s.alternate;o!==null&&(s.alternate=null,Tj(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Uj(s){return s.tag===5||s.tag===3||s.tag===4}function Vj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Uj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wj(s,o,i){var a=s.tag;if(a===5||a===6)s=s.stateNode,o?i.nodeType===8?i.parentNode.insertBefore(s,o):i.insertBefore(s,o):(i.nodeType===8?(o=i.parentNode,o.insertBefore(s,i)):(o=i,o.appendChild(s)),i=i._reactRootContainer,i!=null||o.onclick!==null||(o.onclick=Bf));else if(a!==4&&(s=s.child,s!==null))for(Wj(s,o,i),s=s.sibling;s!==null;)Wj(s,o,i),s=s.sibling}function Xj(s,o,i){var a=s.tag;if(a===5||a===6)s=s.stateNode,o?i.insertBefore(s,o):i.appendChild(s);else if(a!==4&&(s=s.child,s!==null))for(Xj(s,o,i),s=s.sibling;s!==null;)Xj(s,o,i),s=s.sibling}var X=null,Yj=!1;function Zj(s,o,i){for(i=i.child;i!==null;)ak(s,o,i),i=i.sibling}function ak(s,o,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Mj(i,o);case 6:var a=X,$=Yj;X=null,Zj(s,o,i),X=a,Yj=$,X!==null&&(Yj?(s=X,i=i.stateNode,s.nodeType===8?s.parentNode.removeChild(i):s.removeChild(i)):X.removeChild(i.stateNode));break;case 18:X!==null&&(Yj?(s=X,i=i.stateNode,s.nodeType===8?Kf(s.parentNode,i):s.nodeType===1&&Kf(s,i),bd(s)):Kf(X,i.stateNode));break;case 4:a=X,$=Yj,X=i.stateNode.containerInfo,Yj=!0,Zj(s,o,i),X=a,Yj=$;break;case 0:case 11:case 14:case 15:if(!U&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){$=a=a.next;do{var j=$,_e=j.destroy;j=j.tag,_e!==void 0&&(j&2||j&4)&&Nj(i,o,_e),$=$.next}while($!==a)}Zj(s,o,i);break;case 1:if(!U&&(Mj(i,o),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(et){W(i,o,et)}Zj(s,o,i);break;case 21:Zj(s,o,i);break;case 22:i.mode&1?(U=(a=U)||i.memoizedState!==null,Zj(s,o,i),U=a):Zj(s,o,i);break;default:Zj(s,o,i)}}function bk(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var i=s.stateNode;i===null&&(i=s.stateNode=new Lj),o.forEach(function(a){var $=ck.bind(null,s,a);i.has(a)||(i.add(a),a.then($,$))})}}function dk(s,o){var i=o.deletions;if(i!==null)for(var a=0;a<i.length;a++){var $=i[a];try{var j=s,_e=o,et=_e;e:for(;et!==null;){switch(et.tag){case 5:X=et.stateNode,Yj=!1;break e;case 3:X=et.stateNode.containerInfo,Yj=!0;break e;case 4:X=et.stateNode.containerInfo,Yj=!0;break e}et=et.return}if(X===null)throw Error(p$2(160));ak(j,_e,$),X=null,Yj=!1;var tt=$.alternate;tt!==null&&(tt.return=null),$.return=null}catch(nt){W($,o,nt)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,s),o=o.sibling}function ek(s,o){var i=s.alternate,a=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dk(o,s),fk(s),a&4){try{Qj(3,s,s.return),Rj(3,s)}catch(rt){W(s,s.return,rt)}try{Qj(5,s,s.return)}catch(rt){W(s,s.return,rt)}}break;case 1:dk(o,s),fk(s),a&512&&i!==null&&Mj(i,i.return);break;case 5:if(dk(o,s),fk(s),a&512&&i!==null&&Mj(i,i.return),s.flags&32){var $=s.stateNode;try{ob($,"")}catch(rt){W(s,s.return,rt)}}if(a&4&&($=s.stateNode,$!=null)){var j=s.memoizedProps,_e=i!==null?i.memoizedProps:j,et=s.type,tt=s.updateQueue;if(s.updateQueue=null,tt!==null)try{et==="input"&&j.type==="radio"&&j.name!=null&&ab($,j),vb(et,_e);var nt=vb(et,j);for(_e=0;_e<tt.length;_e+=2){var ot=tt[_e],it=tt[_e+1];ot==="style"?sb($,it):ot==="dangerouslySetInnerHTML"?nb($,it):ot==="children"?ob($,it):ta($,ot,it,nt)}switch(et){case"input":bb($,j);break;case"textarea":ib($,j);break;case"select":var st=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!j.multiple;var ut=j.value;ut!=null?fb($,!!j.multiple,ut,!1):st!==!!j.multiple&&(j.defaultValue!=null?fb($,!!j.multiple,j.defaultValue,!0):fb($,!!j.multiple,j.multiple?[]:"",!1))}$[Pf]=j}catch(rt){W(s,s.return,rt)}}break;case 6:if(dk(o,s),fk(s),a&4){if(s.stateNode===null)throw Error(p$2(162));$=s.stateNode,j=s.memoizedProps;try{$.nodeValue=j}catch(rt){W(s,s.return,rt)}}break;case 3:if(dk(o,s),fk(s),a&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(rt){W(s,s.return,rt)}break;case 4:dk(o,s),fk(s);break;case 13:dk(o,s),fk(s),$=s.child,$.flags&8192&&(j=$.memoizedState!==null,$.stateNode.isHidden=j,!j||$.alternate!==null&&$.alternate.memoizedState!==null||(gk=B())),a&4&&bk(s);break;case 22:if(ot=i!==null&&i.memoizedState!==null,s.mode&1?(U=(nt=U)||ot,dk(o,s),U=nt):dk(o,s),fk(s),a&8192){if(nt=s.memoizedState!==null,(s.stateNode.isHidden=nt)&&!ot&&s.mode&1)for(V=s,ot=s.child;ot!==null;){for(it=V=ot;V!==null;){switch(st=V,ut=st.child,st.tag){case 0:case 11:case 14:case 15:Qj(4,st,st.return);break;case 1:Mj(st,st.return);var lt=st.stateNode;if(typeof lt.componentWillUnmount=="function"){a=st,i=st.return;try{o=a,lt.props=o.memoizedProps,lt.state=o.memoizedState,lt.componentWillUnmount()}catch(rt){W(a,i,rt)}}break;case 5:Mj(st,st.return);break;case 22:if(st.memoizedState!==null){hk(it);continue}}ut!==null?(ut.return=st,V=ut):hk(it)}ot=ot.sibling}e:for(ot=null,it=s;;){if(it.tag===5){if(ot===null){ot=it;try{$=it.stateNode,nt?(j=$.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(et=it.stateNode,tt=it.memoizedProps.style,_e=tt!=null&&tt.hasOwnProperty("display")?tt.display:null,et.style.display=rb("display",_e))}catch(rt){W(s,s.return,rt)}}}else if(it.tag===6){if(ot===null)try{it.stateNode.nodeValue=nt?"":it.memoizedProps}catch(rt){W(s,s.return,rt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===s)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===s)break e;for(;it.sibling===null;){if(it.return===null||it.return===s)break e;ot===it&&(ot=null),it=it.return}ot===it&&(ot=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:dk(o,s),fk(s),a&4&&bk(s);break;case 21:break;default:dk(o,s),fk(s)}}function fk(s){var o=s.flags;if(o&2){try{e:{for(var i=s.return;i!==null;){if(Uj(i)){var a=i;break e}i=i.return}throw Error(p$2(160))}switch(a.tag){case 5:var $=a.stateNode;a.flags&32&&(ob($,""),a.flags&=-33);var j=Vj(s);Xj(s,j,$);break;case 3:case 4:var _e=a.stateNode.containerInfo,et=Vj(s);Wj(s,et,_e);break;default:throw Error(p$2(161))}}catch(tt){W(s,s.return,tt)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function ik(s,o,i){V=s,jk(s)}function jk(s,o,i){for(var a=(s.mode&1)!==0;V!==null;){var $=V,j=$.child;if($.tag===22&&a){var _e=$.memoizedState!==null||Kj;if(!_e){var et=$.alternate,tt=et!==null&&et.memoizedState!==null||U;et=Kj;var nt=U;if(Kj=_e,(U=tt)&&!nt)for(V=$;V!==null;)_e=V,tt=_e.child,_e.tag===22&&_e.memoizedState!==null?kk($):tt!==null?(tt.return=_e,V=tt):kk($);for(;j!==null;)V=j,jk(j),j=j.sibling;V=$,Kj=et,U=nt}lk(s)}else $.subtreeFlags&8772&&j!==null?(j.return=$,V=j):lk(s)}}function lk(s){for(;V!==null;){var o=V;if(o.flags&8772){var i=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var a=o.stateNode;if(o.flags&4&&!U)if(i===null)a.componentDidMount();else{var $=o.elementType===o.type?i.memoizedProps:Lg(o.type,i.memoizedProps);a.componentDidUpdate($,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var j=o.updateQueue;j!==null&&ih(o,j,a);break;case 3:var _e=o.updateQueue;if(_e!==null){if(i=null,o.child!==null)switch(o.child.tag){case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}ih(o,_e,i)}break;case 5:var et=o.stateNode;if(i===null&&o.flags&4){i=et;var tt=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":tt.autoFocus&&i.focus();break;case"img":tt.src&&(i.src=tt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var nt=o.alternate;if(nt!==null){var ot=nt.memoizedState;if(ot!==null){var it=ot.dehydrated;it!==null&&bd(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||o.flags&512&&Sj(o)}catch(st){W(o,o.return,st)}}if(o===s){V=null;break}if(i=o.sibling,i!==null){i.return=o.return,V=i;break}V=o.return}}function hk(s){for(;V!==null;){var o=V;if(o===s){V=null;break}var i=o.sibling;if(i!==null){i.return=o.return,V=i;break}V=o.return}}function kk(s){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var i=o.return;try{Rj(4,o)}catch(tt){W(o,i,tt)}break;case 1:var a=o.stateNode;if(typeof a.componentDidMount=="function"){var $=o.return;try{a.componentDidMount()}catch(tt){W(o,$,tt)}}var j=o.return;try{Sj(o)}catch(tt){W(o,j,tt)}break;case 5:var _e=o.return;try{Sj(o)}catch(tt){W(o,_e,tt)}}}catch(tt){W(o,o.return,tt)}if(o===s){V=null;break}var et=o.sibling;if(et!==null){et.return=o.return,V=et;break}V=o.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(s){return s.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(s=C,s!==0||(s=window.event,s=s===void 0?16:jd(s.type)),s):1}function mh(s,o,i,a){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(s,i,a),(!(K&2)||s!==R)&&(s===R&&(!(K&2)&&(rk|=i),T===4&&Dk(s,Z)),Ek(s,a),i===1&&K===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(s,o){var i=s.callbackNode;wc(s,o);var a=uc(s,s===R?Z:0);if(a===0)i!==null&&bc(i),s.callbackNode=null,s.callbackPriority=0;else if(o=a&-a,s.callbackPriority!==o){if(i!=null&&bc(i),o===1)s.tag===0?ig(Fk.bind(null,s)):hg(Fk.bind(null,s)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(a)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Gk(i,Hk.bind(null,s))}s.callbackPriority=o,s.callbackNode=i}}function Hk(s,o){if(Bk=-1,Ck=0,K&6)throw Error(p$2(327));var i=s.callbackNode;if(Ik()&&s.callbackNode!==i)return null;var a=uc(s,s===R?Z:0);if(a===0)return null;if(a&30||a&s.expiredLanes||o)o=Jk(s,a);else{o=a;var $=K;K|=2;var j=Kk();(R!==s||Z!==o)&&(vk=null,Hj=B()+500,Lk(s,o));do try{Mk();break}catch(et){Nk(s,et)}while(1);Qg(),nk.current=j,K=$,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&($=xc(s),$!==0&&(a=$,o=Ok(s,$))),o===1)throw i=qk,Lk(s,0),Dk(s,a),Ek(s,B()),i;if(o===6)Dk(s,a);else{if($=s.current.alternate,!(a&30)&&!Pk($)&&(o=Jk(s,a),o===2&&(j=xc(s),j!==0&&(a=j,o=Ok(s,j))),o===1))throw i=qk,Lk(s,0),Dk(s,a),Ek(s,B()),i;switch(s.finishedWork=$,s.finishedLanes=a,o){case 0:case 1:throw Error(p$2(345));case 2:Qk(s,uk,vk);break;case 3:if(Dk(s,a),(a&130023424)===a&&(o=gk+500-B(),10<o)){if(uc(s,0)!==0)break;if($=s.suspendedLanes,($&a)!==a){L(),s.pingedLanes|=s.suspendedLanes&$;break}s.timeoutHandle=Ff(Qk.bind(null,s,uk,vk),o);break}Qk(s,uk,vk);break;case 4:if(Dk(s,a),(a&4194240)===a)break;for(o=s.eventTimes,$=-1;0<a;){var _e=31-oc(a);j=1<<_e,_e=o[_e],_e>$&&($=_e),a&=~j}if(a=$,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*mk(a/1960))-a,10<a){s.timeoutHandle=Ff(Qk.bind(null,s,uk,vk),a);break}Qk(s,uk,vk);break;case 5:Qk(s,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(s,B()),s.callbackNode===i?Hk.bind(null,s):null}function Ok(s,o){var i=tk;return s.current.memoizedState.isDehydrated&&(Lk(s,o).flags|=256),s=Jk(s,o),s!==2&&(o=uk,uk=i,o!==null&&Gj(o)),s}function Gj(s){uk===null?uk=s:uk.push.apply(uk,s)}function Pk(s){for(var o=s;;){if(o.flags&16384){var i=o.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var $=i[a],j=$.getSnapshot;$=$.value;try{if(!He(j(),$))return!1}catch{return!1}}}if(i=o.child,o.subtreeFlags&16384&&i!==null)i.return=o,o=i;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(s,o){for(o&=~sk,o&=~rk,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var i=31-oc(o),a=1<<i;s[i]=-1,o&=~a}}function Fk(s){if(K&6)throw Error(p$2(327));Ik();var o=uc(s,0);if(!(o&1))return Ek(s,B()),null;var i=Jk(s,o);if(s.tag!==0&&i===2){var a=xc(s);a!==0&&(o=a,i=Ok(s,a))}if(i===1)throw i=qk,Lk(s,0),Dk(s,o),Ek(s,B()),i;if(i===6)throw Error(p$2(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Qk(s,uk,vk),Ek(s,B()),null}function Rk(s,o){var i=K;K|=1;try{return s(o)}finally{K=i,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(s){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var o=K;K|=1;var i=pk.transition,a=C;try{if(pk.transition=null,C=1,s)return s()}finally{C=a,pk.transition=i,K=o,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(s,o){s.finishedWork=null,s.finishedLanes=0;var i=s.timeoutHandle;if(i!==-1&&(s.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var a=i;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(a);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(a.type._context);break;case 22:case 23:Ij()}i=i.return}if(R=s,Y=s=wh(s.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(i=Wg[o],a=i.interleaved,a!==null){i.interleaved=null;var $=a.next,j=i.pending;if(j!==null){var _e=j.next;j.next=$,a.next=_e}i.pending=a}Wg=null}return s}function Nk(s,o){do{var i=Y;try{if(Qg(),Ph.current=ai,Sh){for(var a=N.memoizedState;a!==null;){var $=a.queue;$!==null&&($.pending=null),a=a.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,i===null||i.return===null){T=1,qk=o,Y=null;break}e:{var j=s,_e=i.return,et=i,tt=o;if(o=Z,et.flags|=32768,tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var nt=tt,ot=et,it=ot.tag;if(!(ot.mode&1)&&(it===0||it===11||it===15)){var st=ot.alternate;st?(ot.updateQueue=st.updateQueue,ot.memoizedState=st.memoizedState,ot.lanes=st.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var ut=Vi(_e);if(ut!==null){ut.flags&=-257,Wi(ut,_e,et,j,o),ut.mode&1&&Ti(j,nt,o),o=ut,tt=nt;var lt=o.updateQueue;if(lt===null){var rt=new Set;rt.add(tt),o.updateQueue=rt}else lt.add(tt);break e}else{if(!(o&1)){Ti(j,nt,o),uj();break e}tt=Error(p$2(426))}}else if(I&&et.mode&1){var dt=Vi(_e);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),Wi(dt,_e,et,j,o),Jg(Ki(tt,et));break e}}j=tt=Ki(tt,et),T!==4&&(T=2),tk===null?tk=[j]:tk.push(j),j=_e;do{switch(j.tag){case 3:j.flags|=65536,o&=-o,j.lanes|=o;var ct=Oi(j,tt,o);fh(j,ct);break e;case 1:et=tt;var pt=j.type,at=j.stateNode;if(!(j.flags&128)&&(typeof pt.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Si===null||!Si.has(at)))){j.flags|=65536,o&=-o,j.lanes|=o;var ht=Ri(j,et,o);fh(j,ht);break e}}j=j.return}while(j!==null)}Tk(i)}catch(xt){o=xt,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(1)}function Kk(){var s=nk.current;return nk.current=ai,s===null?ai:s}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(s,o){var i=K;K|=2;var a=Kk();(R!==s||Z!==o)&&(vk=null,Lk(s,o));do try{Uk();break}catch($){Nk(s,$)}while(1);if(Qg(),K=i,nk.current=a,Y!==null)throw Error(p$2(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(s){var o=Wk(s.alternate,s,gj);s.memoizedProps=s.pendingProps,o===null?Tk(s):Y=o,ok.current=null}function Tk(s){var o=s;do{var i=o.alternate;if(s=o.return,o.flags&32768){if(i=Jj(i,o),i!==null){i.flags&=32767,Y=i;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T=6,Y=null;return}}else if(i=Fj(i,o,gj),i!==null){Y=i;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=s}while(o!==null);T===0&&(T=5)}function Qk(s,o,i){var a=C,$=pk.transition;try{pk.transition=null,C=1,Xk(s,o,i,a)}finally{pk.transition=$,C=a}return null}function Xk(s,o,i,a){do Ik();while(xk!==null);if(K&6)throw Error(p$2(327));i=s.finishedWork;var $=s.finishedLanes;if(i===null)return null;if(s.finishedWork=null,s.finishedLanes=0,i===s.current)throw Error(p$2(177));s.callbackNode=null,s.callbackPriority=0;var j=i.lanes|i.childLanes;if(Bc(s,j),s===R&&(Y=R=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),j=(i.flags&15990)!==0,i.subtreeFlags&15990||j){j=pk.transition,pk.transition=null;var _e=C;C=1;var et=K;K|=4,ok.current=null,Pj(s,i),ek(i,s),Oe(Df),dd=!!Cf,Df=Cf=null,s.current=i,ik(i),dc(),K=et,C=_e,pk.transition=j}else s.current=i;if(wk&&(wk=!1,xk=s,yk=$),j=s.pendingLanes,j===0&&(Si=null),mc(i.stateNode),Ek(s,B()),o!==null)for(a=s.onRecoverableError,i=0;i<o.length;i++)$=o[i],a($.value,{componentStack:$.stack,digest:$.digest});if(Pi)throw Pi=!1,s=Qi,Qi=null,s;return yk&1&&s.tag!==0&&Ik(),j=s.pendingLanes,j&1?s===Ak?zk++:(zk=0,Ak=s):zk=0,jg(),null}function Ik(){if(xk!==null){var s=Dc(yk),o=pk.transition,i=C;try{if(pk.transition=null,C=16>s?16:s,xk===null)var a=!1;else{if(s=xk,xk=null,yk=0,K&6)throw Error(p$2(331));var $=K;for(K|=4,V=s.current;V!==null;){var j=V,_e=j.child;if(V.flags&16){var et=j.deletions;if(et!==null){for(var tt=0;tt<et.length;tt++){var nt=et[tt];for(V=nt;V!==null;){var ot=V;switch(ot.tag){case 0:case 11:case 15:Qj(8,ot,j)}var it=ot.child;if(it!==null)it.return=ot,V=it;else for(;V!==null;){ot=V;var st=ot.sibling,ut=ot.return;if(Tj(ot),ot===nt){V=null;break}if(st!==null){st.return=ut,V=st;break}V=ut}}}var lt=j.alternate;if(lt!==null){var rt=lt.child;if(rt!==null){lt.child=null;do{var dt=rt.sibling;rt.sibling=null,rt=dt}while(rt!==null)}}V=j}}if(j.subtreeFlags&2064&&_e!==null)_e.return=j,V=_e;else e:for(;V!==null;){if(j=V,j.flags&2048)switch(j.tag){case 0:case 11:case 15:Qj(9,j,j.return)}var ct=j.sibling;if(ct!==null){ct.return=j.return,V=ct;break e}V=j.return}}var pt=s.current;for(V=pt;V!==null;){_e=V;var at=_e.child;if(_e.subtreeFlags&2064&&at!==null)at.return=_e,V=at;else e:for(_e=pt;V!==null;){if(et=V,et.flags&2048)try{switch(et.tag){case 0:case 11:case 15:Rj(9,et)}}catch(xt){W(et,et.return,xt)}if(et===_e){V=null;break e}var ht=et.sibling;if(ht!==null){ht.return=et.return,V=ht;break e}V=et.return}}if(K=$,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,s)}catch{}a=!0}return a}finally{C=i,pk.transition=o}}return!1}function Yk(s,o,i){o=Ki(i,o),o=Oi(s,o,1),s=dh(s,o,1),o=L(),s!==null&&(Ac(s,1,o),Ek(s,o))}function W(s,o,i){if(s.tag===3)Yk(s,s,i);else for(;o!==null;){if(o.tag===3){Yk(o,s,i);break}else if(o.tag===1){var a=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Si===null||!Si.has(a))){s=Ki(i,s),s=Ri(o,s,1),o=dh(o,s,1),s=L(),o!==null&&(Ac(o,1,s),Ek(o,s));break}}o=o.return}}function Ui(s,o,i){var a=s.pingCache;a!==null&&a.delete(o),o=L(),s.pingedLanes|=s.suspendedLanes&i,R===s&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(s,0):sk|=i),Ek(s,o)}function Zk(s,o){o===0&&(s.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var i=L();s=Zg(s,o),s!==null&&(Ac(s,o,i),Ek(s,i))}function vj(s){var o=s.memoizedState,i=0;o!==null&&(i=o.retryLane),Zk(s,i)}function ck(s,o){var i=0;switch(s.tag){case 13:var a=s.stateNode,$=s.memoizedState;$!==null&&(i=$.retryLane);break;case 19:a=s.stateNode;break;default:throw Error(p$2(314))}a!==null&&a.delete(o),Zk(s,i)}var Wk;Wk=function(s,o,i){if(s!==null)if(s.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(s.lanes&i)&&!(o.flags&128))return Ug=!1,zj(s,o,i);Ug=!!(s.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var a=o.type;jj(s,o),s=o.pendingProps;var $=Yf(o,H.current);Tg(o,i),$=Xh(null,o,a,s,$,i);var j=bi();return o.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(a)?(j=!0,cg(o)):j=!1,o.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,ah(o),$.updater=nh,o.stateNode=$,$._reactInternals=o,rh(o,a,s,i),o=kj(null,o,a,!0,j,i)):(o.tag=0,I&&j&&vg(o),Yi(null,o,$,i),o=o.child),o;case 16:a=o.elementType;e:{switch(jj(s,o),s=o.pendingProps,$=a._init,a=$(a._payload),o.type=a,$=o.tag=$k(a),s=Lg(a,s),$){case 0:o=dj(null,o,a,s,i);break e;case 1:o=ij(null,o,a,s,i);break e;case 11:o=Zi(null,o,a,s,i);break e;case 14:o=aj(null,o,a,Lg(a.type,s),i);break e}throw Error(p$2(306,a,""))}return o;case 0:return a=o.type,$=o.pendingProps,$=o.elementType===a?$:Lg(a,$),dj(s,o,a,$,i);case 1:return a=o.type,$=o.pendingProps,$=o.elementType===a?$:Lg(a,$),ij(s,o,a,$,i);case 3:e:{if(lj(o),s===null)throw Error(p$2(387));a=o.pendingProps,j=o.memoizedState,$=j.element,bh(s,o),gh(o,a,null,i);var _e=o.memoizedState;if(a=_e.element,j.isDehydrated)if(j={element:a,isDehydrated:!1,cache:_e.cache,pendingSuspenseBoundaries:_e.pendingSuspenseBoundaries,transitions:_e.transitions},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){$=Ki(Error(p$2(423)),o),o=mj(s,o,a,i,$);break e}else if(a!==$){$=Ki(Error(p$2(424)),o),o=mj(s,o,a,i,$);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,i=Ch(o,null,a,i),o.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),a===$){o=$i(s,o,i);break e}Yi(s,o,a,i)}o=o.child}return o;case 5:return Kh(o),s===null&&Eg(o),a=o.type,$=o.pendingProps,j=s!==null?s.memoizedProps:null,_e=$.children,Ef(a,$)?_e=null:j!==null&&Ef(a,j)&&(o.flags|=32),hj(s,o),Yi(s,o,_e,i),o.child;case 6:return s===null&&Eg(o),null;case 13:return pj(s,o,i);case 4:return Ih(o,o.stateNode.containerInfo),a=o.pendingProps,s===null?o.child=Bh(o,null,a,i):Yi(s,o,a,i),o.child;case 11:return a=o.type,$=o.pendingProps,$=o.elementType===a?$:Lg(a,$),Zi(s,o,a,$,i);case 7:return Yi(s,o,o.pendingProps,i),o.child;case 8:return Yi(s,o,o.pendingProps.children,i),o.child;case 12:return Yi(s,o,o.pendingProps.children,i),o.child;case 10:e:{if(a=o.type._context,$=o.pendingProps,j=o.memoizedProps,_e=$.value,G(Mg,a._currentValue),a._currentValue=_e,j!==null)if(He(j.value,_e)){if(j.children===$.children&&!Wf.current){o=$i(s,o,i);break e}}else for(j=o.child,j!==null&&(j.return=o);j!==null;){var et=j.dependencies;if(et!==null){_e=j.child;for(var tt=et.firstContext;tt!==null;){if(tt.context===a){if(j.tag===1){tt=ch(-1,i&-i),tt.tag=2;var nt=j.updateQueue;if(nt!==null){nt=nt.shared;var ot=nt.pending;ot===null?tt.next=tt:(tt.next=ot.next,ot.next=tt),nt.pending=tt}}j.lanes|=i,tt=j.alternate,tt!==null&&(tt.lanes|=i),Sg(j.return,i,o),et.lanes|=i;break}tt=tt.next}}else if(j.tag===10)_e=j.type===o.type?null:j.child;else if(j.tag===18){if(_e=j.return,_e===null)throw Error(p$2(341));_e.lanes|=i,et=_e.alternate,et!==null&&(et.lanes|=i),Sg(_e,i,o),_e=j.sibling}else _e=j.child;if(_e!==null)_e.return=j;else for(_e=j;_e!==null;){if(_e===o){_e=null;break}if(j=_e.sibling,j!==null){j.return=_e.return,_e=j;break}_e=_e.return}j=_e}Yi(s,o,$.children,i),o=o.child}return o;case 9:return $=o.type,a=o.pendingProps.children,Tg(o,i),$=Vg($),a=a($),o.flags|=1,Yi(s,o,a,i),o.child;case 14:return a=o.type,$=Lg(a,o.pendingProps),$=Lg(a.type,$),aj(s,o,a,$,i);case 15:return cj(s,o,o.type,o.pendingProps,i);case 17:return a=o.type,$=o.pendingProps,$=o.elementType===a?$:Lg(a,$),jj(s,o),o.tag=1,Zf(a)?(s=!0,cg(o)):s=!1,Tg(o,i),ph(o,a,$),rh(o,a,$,i),kj(null,o,a,!0,s,i);case 19:return yj(s,o,i);case 22:return ej(s,o,i)}throw Error(p$2(156,o.tag))};function Gk(s,o){return ac(s,o)}function al(s,o,i,a){this.tag=s,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,o,i,a){return new al(s,o,i,a)}function bj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $k(s){if(typeof s=="function")return bj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da)return 11;if(s===Ga)return 14}return 2}function wh(s,o){var i=s.alternate;return i===null?(i=Bg(s.tag,o,s.key,s.mode),i.elementType=s.elementType,i.type=s.type,i.stateNode=s.stateNode,i.alternate=s,s.alternate=i):(i.pendingProps=o,i.type=s.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=s.flags&14680064,i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,o=s.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},i.sibling=s.sibling,i.index=s.index,i.ref=s.ref,i}function yh(s,o,i,a,$,j){var _e=2;if(a=s,typeof s=="function")bj(s)&&(_e=1);else if(typeof s=="string")_e=5;else e:switch(s){case ya:return Ah(i.children,$,j,o);case za:_e=8,$|=8;break;case Aa:return s=Bg(12,i,o,$|2),s.elementType=Aa,s.lanes=j,s;case Ea:return s=Bg(13,i,o,$),s.elementType=Ea,s.lanes=j,s;case Fa:return s=Bg(19,i,o,$),s.elementType=Fa,s.lanes=j,s;case Ia:return qj(i,$,j,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba:_e=10;break e;case Ca:_e=9;break e;case Da:_e=11;break e;case Ga:_e=14;break e;case Ha:_e=16,a=null;break e}throw Error(p$2(130,s==null?s:typeof s,""))}return o=Bg(_e,i,o,$),o.elementType=s,o.type=a,o.lanes=j,o}function Ah(s,o,i,a){return s=Bg(7,s,a,o),s.lanes=i,s}function qj(s,o,i,a){return s=Bg(22,s,a,o),s.elementType=Ia,s.lanes=i,s.stateNode={isHidden:!1},s}function xh(s,o,i){return s=Bg(6,s,null,o),s.lanes=i,s}function zh(s,o,i){return o=Bg(4,s.children!==null?s.children:[],s.key,o),o.lanes=i,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function bl(s,o,i,a,$){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function cl(s,o,i,a,$,j,_e,et,tt){return s=new bl(s,o,i,et,tt),o===1?(o=1,j===!0&&(o|=8)):o=0,j=Bg(3,null,null,o),s.current=j,j.stateNode=s,j.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(j),s}function dl(s,o,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:s,containerInfo:o,implementation:i}}function el(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb(s)!==s||s.tag!==1)throw Error(p$2(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$2(171))}if(s.tag===1){var i=s.type;if(Zf(i))return bg(s,i,o)}return o}function fl(s,o,i,a,$,j,_e,et,tt){return s=cl(i,a,!0,s,$,j,_e,et,tt),s.context=el(null),i=s.current,a=L(),$=lh(i),j=ch(a,$),j.callback=o??null,dh(i,j,$),s.current.lanes=$,Ac(s,$,a),Ek(s,a),s}function gl(s,o,i,a){var $=o.current,j=L(),_e=lh($);return i=el(i),o.context===null?o.context=i:o.pendingContext=i,o=ch(j,_e),o.payload={element:s},a=a===void 0?null:a,a!==null&&(o.callback=a),s=dh($,o,_e),s!==null&&(mh(s,$,_e,j),eh(s,$,_e)),_e}function hl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function il(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var i=s.retryLane;s.retryLane=i!==0&&i<o?i:o}}function jl(s,o){il(s,o),(s=s.alternate)&&il(s,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(s){console.error(s)};function ml(s){this._internalRoot=s}nl.prototype.render=ml.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(p$2(409));gl(s,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Sk(function(){gl(null,s,null,null)}),o[uf]=null}};function nl(s){this._internalRoot=s}nl.prototype.unstable_scheduleHydration=function(s){if(s){var o=Hc();s={blockedOn:null,target:s,priority:o};for(var i=0;i<Qc.length&&o!==0&&o<Qc[i].priority;i++);Qc.splice(i,0,s),i===0&&Vc(s)}};function ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(s,o,i,a,$){if($){if(typeof a=="function"){var j=a;a=function(){var nt=hl(_e);j.call(nt)}}var _e=fl(o,a,s,0,null,!1,!1,"",ql);return s._reactRootContainer=_e,s[uf]=_e.current,sf(s.nodeType===8?s.parentNode:s),Sk(),_e}for(;$=s.lastChild;)s.removeChild($);if(typeof a=="function"){var et=a;a=function(){var nt=hl(tt);et.call(nt)}}var tt=cl(s,0,!1,null,null,!1,!1,"",ql);return s._reactRootContainer=tt,s[uf]=tt.current,sf(s.nodeType===8?s.parentNode:s),Sk(function(){gl(o,tt,i,a)}),tt}function sl(s,o,i,a,$){var j=i._reactRootContainer;if(j){var _e=j;if(typeof $=="function"){var et=$;$=function(){var tt=hl(_e);et.call(tt)}}gl(o,_e,s,$)}else _e=rl(i,o,s,$,a);return hl(_e)}Ec=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var i=tc(o.pendingLanes);i!==0&&(Cc(o,i|1),Ek(o,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var a=Zg(s,1);if(a!==null){var $=L();mh(a,s,1,$)}}),jl(s,1)}};Fc=function(s){if(s.tag===13){var o=Zg(s,134217728);if(o!==null){var i=L();mh(o,s,134217728,i)}jl(s,134217728)}};Gc=function(s){if(s.tag===13){var o=lh(s),i=Zg(s,o);if(i!==null){var a=L();mh(i,s,o,a)}jl(s,o)}};Hc=function(){return C};Ic=function(s,o){var i=C;try{return C=s,o()}finally{C=i}};yb=function(s,o,i){switch(o){case"input":if(bb(s,i),o=i.name,i.type==="radio"&&o!=null){for(i=s;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<i.length;o++){var a=i[o];if(a!==s&&a.form===s.form){var $=Db(a);if(!$)throw Error(p$2(90));Wa(a),bb(a,$)}}}break;case"textarea":ib(s,i);break;case"select":o=i.value,o!=null&&fb(s,!!i.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(s,o){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$2(200));return dl(s,o,null,i)};reactDom_production_min.createRoot=function(s,o){if(!ol(s))throw Error(p$2(299));var i=!1,a="",$=ll;return o!=null&&(o.unstable_strictMode===!0&&(i=!0),o.identifierPrefix!==void 0&&(a=o.identifierPrefix),o.onRecoverableError!==void 0&&($=o.onRecoverableError)),o=cl(s,1,!1,null,null,i,!1,a,$),s[uf]=o.current,sf(s.nodeType===8?s.parentNode:s),new ml(o)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(p$2(188)):(s=Object.keys(s).join(","),Error(p$2(268,s)));return s=Zb(o),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Sk(s)};reactDom_production_min.hydrate=function(s,o,i){if(!pl(o))throw Error(p$2(200));return sl(null,s,o,!0,i)};reactDom_production_min.hydrateRoot=function(s,o,i){if(!ol(s))throw Error(p$2(405));var a=i!=null&&i.hydratedSources||null,$=!1,j="",_e=ll;if(i!=null&&(i.unstable_strictMode===!0&&($=!0),i.identifierPrefix!==void 0&&(j=i.identifierPrefix),i.onRecoverableError!==void 0&&(_e=i.onRecoverableError)),o=fl(o,null,s,1,i??null,$,!1,j,_e),s[uf]=o.current,sf(s),a)for(s=0;s<a.length;s++)i=a[s],$=i._getVersion,$=$(i._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[i,$]:o.mutableSourceEagerHydrationData.push(i,$);return new nl(o)};reactDom_production_min.render=function(s,o,i){if(!pl(o))throw Error(p$2(200));return sl(null,s,o,!1,i)};reactDom_production_min.unmountComponentAtNode=function(s){if(!pl(s))throw Error(p$2(40));return s._reactRootContainer?(Sk(function(){sl(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,o,i,a){if(!pl(i))throw Error(p$2(200));if(s==null||s._reactInternals===void 0)throw Error(p$2(38));return sl(s,o,i,!1,a)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(s){function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(i){console.error(i)}}o(),s.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;const index="",bootstrap_min="";/**
 * @remix-run/router v1.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},_extends$2.apply(this,arguments)}var Action;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(s){s===void 0&&(s={});function o($,j){let{pathname:_e="/",search:et="",hash:tt=""}=parsePath($.location.hash.substr(1));return createLocation("",{pathname:_e,search:et,hash:tt},j.state&&j.state.usr||null,j.state&&j.state.key||"default")}function i($,j){let _e=$.document.querySelector("base"),et="";if(_e&&_e.getAttribute("href")){let tt=$.location.href,nt=tt.indexOf("#");et=nt===-1?tt:tt.slice(0,nt)}return et+"#"+(typeof j=="string"?j:createPath(j))}function a($,j){warning$1($.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(j)+")")}return getUrlBasedHistory(o,i,a,s)}function invariant$1(s,o){if(s===!1||s===null||typeof s>"u")throw new Error(o)}function warning$1(s,o){if(!s){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(s){return{usr:s.state,key:s.key}}function createLocation(s,o,i,a){return i===void 0&&(i=null),_extends$2({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:i,key:o&&o.key||a||createKey()})}function createPath(s){let{pathname:o="/",search:i="",hash:a=""}=s;return i&&i!=="?"&&(o+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(o+=a.charAt(0)==="#"?a:"#"+a),o}function parsePath(s){let o={};if(s){let i=s.indexOf("#");i>=0&&(o.hash=s.substr(i),s=s.substr(0,i));let a=s.indexOf("?");a>=0&&(o.search=s.substr(a),s=s.substr(0,a)),s&&(o.pathname=s)}return o}function createClientSideURL(s){let o=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,i=typeof s=="string"?s:createPath(s);return invariant$1(o,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,o)}function getUrlBasedHistory(s,o,i,a){a===void 0&&(a={});let{window:$=document.defaultView,v5Compat:j=!1}=a,_e=$.history,et=Action.Pop,tt=null;function nt(){et=Action.Pop,tt&&tt({action:et,location:st.location})}function ot(ut,lt){et=Action.Push;let rt=createLocation(st.location,ut,lt);i&&i(rt,ut);let dt=getHistoryState(rt),ct=st.createHref(rt);try{_e.pushState(dt,"",ct)}catch{$.location.assign(ct)}j&&tt&&tt({action:et,location:st.location})}function it(ut,lt){et=Action.Replace;let rt=createLocation(st.location,ut,lt);i&&i(rt,ut);let dt=getHistoryState(rt),ct=st.createHref(rt);_e.replaceState(dt,"",ct),j&&tt&&tt({action:et,location:st.location})}let st={get action(){return et},get location(){return s($,_e)},listen(ut){if(tt)throw new Error("A history only accepts one active listener");return $.addEventListener(PopStateEventType,nt),tt=ut,()=>{$.removeEventListener(PopStateEventType,nt),tt=null}},createHref(ut){return o($,ut)},encodeLocation(ut){let lt=createClientSideURL(typeof ut=="string"?ut:createPath(ut));return{pathname:lt.pathname,search:lt.search,hash:lt.hash}},push:ot,replace:it,go(ut){return _e.go(ut)}};return st}var ResultType;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ResultType||(ResultType={}));function matchRoutes(s,o,i){i===void 0&&(i="/");let a=typeof o=="string"?parsePath(o):o,$=stripBasename(a.pathname||"/",i);if($==null)return null;let j=flattenRoutes(s);rankRouteBranches(j);let _e=null;for(let et=0;_e==null&&et<j.length;++et)_e=matchRouteBranch(j[et],safelyDecodeURI($));return _e}function flattenRoutes(s,o,i,a){o===void 0&&(o=[]),i===void 0&&(i=[]),a===void 0&&(a="");let $=(j,_e,et)=>{let tt={relativePath:et===void 0?j.path||"":et,caseSensitive:j.caseSensitive===!0,childrenIndex:_e,route:j};tt.relativePath.startsWith("/")&&(invariant$1(tt.relativePath.startsWith(a),'Absolute route path "'+tt.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),tt.relativePath=tt.relativePath.slice(a.length));let nt=joinPaths([a,tt.relativePath]),ot=i.concat(tt);j.children&&j.children.length>0&&(invariant$1(j.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+nt+'".')),flattenRoutes(j.children,o,ot,nt)),!(j.path==null&&!j.index)&&o.push({path:nt,score:computeScore(nt,j.index),routesMeta:ot})};return s.forEach((j,_e)=>{var et;if(j.path===""||!((et=j.path)!=null&&et.includes("?")))$(j,_e);else for(let tt of explodeOptionalSegments(j.path))$(j,_e,tt)}),o}function explodeOptionalSegments(s){let o=s.split("/");if(o.length===0)return[];let[i,...a]=o,$=i.endsWith("?"),j=i.replace(/\?$/,"");if(a.length===0)return $?[j,""]:[j];let _e=explodeOptionalSegments(a.join("/")),et=[];return et.push(..._e.map(tt=>tt===""?j:[j,tt].join("/"))),$&&et.push(..._e),et.map(tt=>s.startsWith("/")&&tt===""?"/":tt)}function rankRouteBranches(s){s.sort((o,i)=>o.score!==i.score?i.score-o.score:compareIndexes(o.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,o){let i=s.split("/"),a=i.length;return i.some(isSplat)&&(a+=splatPenalty),o&&(a+=indexRouteValue),i.filter($=>!isSplat($)).reduce(($,j)=>$+(paramRe.test(j)?dynamicSegmentValue:j===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(s,o){return s.length===o.length&&s.slice(0,-1).every((a,$)=>a===o[$])?s[s.length-1]-o[o.length-1]:0}function matchRouteBranch(s,o){let{routesMeta:i}=s,a={},$="/",j=[];for(let _e=0;_e<i.length;++_e){let et=i[_e],tt=_e===i.length-1,nt=$==="/"?o:o.slice($.length)||"/",ot=matchPath({path:et.relativePath,caseSensitive:et.caseSensitive,end:tt},nt);if(!ot)return null;Object.assign(a,ot.params);let it=et.route;j.push({params:a,pathname:joinPaths([$,ot.pathname]),pathnameBase:normalizePathname(joinPaths([$,ot.pathnameBase])),route:it}),ot.pathnameBase!=="/"&&($=joinPaths([$,ot.pathnameBase]))}return j}function matchPath(s,o){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=compilePath(s.path,s.caseSensitive,s.end),$=o.match(i);if(!$)return null;let j=$[0],_e=j.replace(/(.)\/+$/,"$1"),et=$.slice(1);return{params:a.reduce((nt,ot,it)=>{if(ot==="*"){let st=et[it]||"";_e=j.slice(0,j.length-st.length).replace(/(.)\/+$/,"$1")}return nt[ot]=safelyDecodeURIComponent(et[it]||"",ot),nt},{}),pathname:j,pathnameBase:_e,pattern:s}}function compilePath(s,o,i){o===void 0&&(o=!1),i===void 0&&(i=!0),warning$2(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let a=[],$="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(_e,et)=>(a.push(et),"/([^\\/]+)"));return s.endsWith("*")?(a.push("*"),$+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?$+="\\/*$":s!==""&&s!=="/"&&($+="(?:(?=\\/|$))"),[new RegExp($,o?void 0:"i"),a]}function safelyDecodeURI(s){try{return decodeURI(s)}catch(o){return warning$2(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),s}}function safelyDecodeURIComponent(s,o){try{return decodeURIComponent(s)}catch(i){return warning$2(!1,'The value for the URL param "'+o+'" will not be decoded because'+(' the string "'+s+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+i+").")),s}}function stripBasename(s,o){if(o==="/")return s;if(!s.toLowerCase().startsWith(o.toLowerCase()))return null;let i=o.endsWith("/")?o.length-1:o.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function warning$2(s,o){if(!s){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function resolvePath(s,o){o===void 0&&(o="/");let{pathname:i,search:a="",hash:$=""}=typeof s=="string"?parsePath(s):s;return{pathname:i?i.startsWith("/")?i:resolvePathname(i,o):o,search:normalizeSearch(a),hash:normalizeHash($)}}function resolvePathname(s,o){let i=o.replace(/\/+$/,"").split("/");return s.split("/").forEach($=>{$===".."?i.length>1&&i.pop():$!=="."&&i.push($)}),i.length>1?i.join("/"):"/"}function getInvalidPathError(s,o,i,a){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(s){return s.filter((o,i)=>i===0||o.route.path&&o.route.path.length>0)}function resolveTo(s,o,i,a){a===void 0&&(a=!1);let $;typeof s=="string"?$=parsePath(s):($=_extends$2({},s),invariant$1(!$.pathname||!$.pathname.includes("?"),getInvalidPathError("?","pathname","search",$)),invariant$1(!$.pathname||!$.pathname.includes("#"),getInvalidPathError("#","pathname","hash",$)),invariant$1(!$.search||!$.search.includes("#"),getInvalidPathError("#","search","hash",$)));let j=s===""||$.pathname==="",_e=j?"/":$.pathname,et;if(a||_e==null)et=i;else{let it=o.length-1;if(_e.startsWith("..")){let st=_e.split("/");for(;st[0]==="..";)st.shift(),it-=1;$.pathname=st.join("/")}et=it>=0?o[it]:"/"}let tt=resolvePath($,et),nt=_e&&_e!=="/"&&_e.endsWith("/"),ot=(j||_e===".")&&i.endsWith("/");return!tt.pathname.endsWith("/")&&(nt||ot)&&(tt.pathname+="/"),tt}const joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;class ErrorResponse{constructor(o,i,a,$){$===void 0&&($=!1),this.status=o,this.statusText=i||"",this.internal=$,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function isRouteErrorResponse(s){return s instanceof ErrorResponse}const validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];/**
 * React Router v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},_extends$1.apply(this,arguments)}function isPolyfill(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2(s,o,i){const a=o(),[{inst:$},j]=useState({inst:{value:a,getSnapshot:o}});return useLayoutEffect(()=>{$.value=a,$.getSnapshot=o,checkIfSnapshotChanged($)&&j({inst:$})},[s,a,o]),useEffect(()=>(checkIfSnapshotChanged($)&&j({inst:$}),s(()=>{checkIfSnapshotChanged($)&&j({inst:$})})),[s]),useDebugValue(a),a}function checkIfSnapshotChanged(s){const o=s.getSnapshot,i=s.value;try{const a=o();return!is(i,a)}catch{return!0}}function useSyncExternalStore$1(s,o,i){return o()}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM$1,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&(s=>s.useSyncExternalStore)(React$1);const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[]}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant$1(!1);let{basename:s,navigator:o}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:a}=useLocation(),$=JSON.stringify(getPathContributingMatches(i).map(et=>et.pathnameBase)),j=reactExports.useRef(!1);return reactExports.useEffect(()=>{j.current=!0}),reactExports.useCallback(function(et,tt){if(tt===void 0&&(tt={}),!j.current)return;if(typeof et=="number"){o.go(et);return}let nt=resolveTo(et,JSON.parse($),a,tt.relative==="path");s!=="/"&&(nt.pathname=nt.pathname==="/"?s:joinPaths([s,nt.pathname])),(tt.replace?o.replace:o.push)(nt,tt.state,tt)},[s,o,$,a])}function useRoutes(s,o){useInRouterContext()||invariant$1(!1);let{navigator:i}=reactExports.useContext(NavigationContext),a=reactExports.useContext(DataRouterStateContext),{matches:$}=reactExports.useContext(RouteContext),j=$[$.length-1],_e=j?j.params:{};j&&j.pathname;let et=j?j.pathnameBase:"/";j&&j.route;let tt=useLocation(),nt;if(o){var ot;let rt=typeof o=="string"?parsePath(o):o;et==="/"||(ot=rt.pathname)!=null&&ot.startsWith(et)||invariant$1(!1),nt=rt}else nt=tt;let it=nt.pathname||"/",st=et==="/"?it:it.slice(et.length)||"/",ut=matchRoutes(s,{pathname:st}),lt=_renderMatches(ut&&ut.map(rt=>Object.assign({},rt,{params:Object.assign({},_e,rt.params),pathname:joinPaths([et,i.encodeLocation?i.encodeLocation(rt.pathname).pathname:rt.pathname]),pathnameBase:rt.pathnameBase==="/"?et:joinPaths([et,i.encodeLocation?i.encodeLocation(rt.pathnameBase).pathname:rt.pathnameBase])})),$,a||void 0);return o&&lt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},nt),navigationType:Action.Pop}},lt):lt}function DefaultErrorElement(){let s=useRouteError(),o=isRouteErrorResponse(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",$={padding:"0.5rem",backgroundColor:a},j={padding:"2px 4px",backgroundColor:a};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unhandled Thrown Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),i?reactExports.createElement("pre",{style:$},i):null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",reactExports.createElement("code",{style:j},"errorElement")," props on",reactExports.createElement("code",{style:j},"<Route>")))}class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,i){return i.location!==o.location?{error:o.error,location:o.location}:{error:o.error||i.error,location:i.location}}componentDidCatch(o,i){console.error("React Router caught the following error during render",o,i)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(s){let{routeContext:o,match:i,children:a}=s,$=reactExports.useContext(DataRouterContext);return $&&$.static&&$.staticContext&&i.route.errorElement&&($.staticContext._deepestRenderedBoundaryId=i.route.id),reactExports.createElement(RouteContext.Provider,{value:o},a)}function _renderMatches(s,o,i){if(o===void 0&&(o=[]),s==null)if(i!=null&&i.errors)s=i.matches;else return null;let a=s,$=i==null?void 0:i.errors;if($!=null){let j=a.findIndex(_e=>_e.route.id&&($==null?void 0:$[_e.route.id]));j>=0||invariant$1(!1),a=a.slice(0,Math.min(a.length,j+1))}return a.reduceRight((j,_e,et)=>{let tt=_e.route.id?$==null?void 0:$[_e.route.id]:null,nt=i?_e.route.errorElement||reactExports.createElement(DefaultErrorElement,null):null,ot=o.concat(a.slice(0,et+1)),it=()=>reactExports.createElement(RenderedRoute,{match:_e,routeContext:{outlet:j,matches:ot}},tt?nt:_e.route.element!==void 0?_e.route.element:j);return i&&(_e.route.errorElement||et===0)?reactExports.createElement(RenderErrorBoundary,{location:i.location,component:nt,error:tt,children:it(),routeContext:{outlet:null,matches:ot}}):it()},null)}var DataRouterHook$1;(function(s){s.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(s){s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(s){let o=reactExports.useContext(DataRouterStateContext);return o||invariant$1(!1),o}function useRouteContext(s){let o=reactExports.useContext(RouteContext);return o||invariant$1(!1),o}function useCurrentRouteId(s){let o=useRouteContext(),i=o.matches[o.matches.length-1];return i.route.id||invariant$1(!1),i.route.id}function useRouteError(){var s;let o=reactExports.useContext(RouteErrorContext),i=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return o||((s=i.errors)==null?void 0:s[a])}function Route(s){invariant$1(!1)}function Router(s){let{basename:o="/",children:i=null,location:a,navigationType:$=Action.Pop,navigator:j,static:_e=!1}=s;useInRouterContext()&&invariant$1(!1);let et=o.replace(/^\/*/,"/"),tt=reactExports.useMemo(()=>({basename:et,navigator:j,static:_e}),[et,j,_e]);typeof a=="string"&&(a=parsePath(a));let{pathname:nt="/",search:ot="",hash:it="",state:st=null,key:ut="default"}=a,lt=reactExports.useMemo(()=>{let rt=stripBasename(nt,et);return rt==null?null:{pathname:rt,search:ot,hash:it,state:st,key:ut}},[et,nt,ot,it,st,ut]);return lt==null?null:reactExports.createElement(NavigationContext.Provider,{value:tt},reactExports.createElement(LocationContext.Provider,{children:i,value:{location:lt,navigationType:$}}))}function Routes(s){let{children:o,location:i}=s,a=reactExports.useContext(DataRouterContext),$=a&&!o?a.router.routes:createRoutesFromChildren(o);return useRoutes($,i)}var AwaitRenderStatus;(function(s){s[s.pending=0]="pending",s[s.success=1]="success",s[s.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(s,o){o===void 0&&(o=[]);let i=[];return reactExports.Children.forEach(s,(a,$)=>{if(!reactExports.isValidElement(a))return;if(a.type===reactExports.Fragment){i.push.apply(i,createRoutesFromChildren(a.props.children,o));return}a.type!==Route&&invariant$1(!1),!a.props.index||!a.props.children||invariant$1(!1);let j=[...o,$],_e={id:a.props.id||j.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,hasErrorBoundary:a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle};a.props.children&&(_e.children=createRoutesFromChildren(a.props.children,j)),i.push(_e)}),i}/**
 * React Router DOM v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function HashRouter(s){let{basename:o,children:i,window:a}=s,$=reactExports.useRef();$.current==null&&($.current=createHashHistory({window:a,v5Compat:!0}));let j=$.current,[_e,et]=reactExports.useState({action:j.action,location:j.location});return reactExports.useLayoutEffect(()=>j.listen(et),[j]),reactExports.createElement(Router,{basename:o,children:i,location:_e.location,navigationType:_e.action,navigator:j})}var DataRouterHook;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmitImpl="useSubmitImpl",s.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(s){s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const App$1="";var classnamesExports={},classnames={get exports(){return classnamesExports},set exports(s){classnamesExports=s}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(s){(function(){var o={}.hasOwnProperty;function i(){for(var a=[],$=0;$<arguments.length;$++){var j=arguments[$];if(j){var _e=typeof j;if(_e==="string"||_e==="number")a.push(j);else if(Array.isArray(j)){if(j.length){var et=i.apply(null,j);et&&a.push(et)}}else if(_e==="object"){if(j.toString!==Object.prototype.toString&&!j.toString.toString().includes("[native code]")){a.push(j.toString());continue}for(var tt in j)o.call(j,tt)&&j[tt]&&a.push(tt)}}}return a.join(" ")}s.exports?(i.default=i,s.exports=i):window.classNames=i})()})(classnames);const classNames=classnamesExports,DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext$3=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT});function useBootstrapPrefix(s,o){const{prefixes:i}=reactExports.useContext(ThemeContext$3);return s||i[o]||o}function useBootstrapBreakpoints(){const{breakpoints:s}=reactExports.useContext(ThemeContext$3);return s}function useBootstrapMinBreakpoint(){const{minBreakpoint:s}=reactExports.useContext(ThemeContext$3);return s}const defaultProps$d={fluid:!1},Container=reactExports.forwardRef(({bsPrefix:s,fluid:o,as:i="div",className:a,...$},j)=>{const _e=useBootstrapPrefix(s,"container"),et=typeof o=="string"?`-${o}`:"-fluid";return jsx(i,{ref:j,...$,className:classNames(a,o?`${_e}${et}`:_e)})});Container.displayName="Container";Container.defaultProps=defaultProps$d;const Container$1=Container;var allExports={},all={get exports(){return allExports},set exports(s){allExports=s}},createChainableTypeCheckerExports={},createChainableTypeChecker={get exports(){return createChainableTypeCheckerExports},set exports(s){createChainableTypeCheckerExports=s}};(function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=i;function i(a){function $(_e,et,tt,nt,ot,it){var st=nt||"<<anonymous>>",ut=it||tt;if(et[tt]==null)return _e?new Error("Required "+ot+" `"+ut+"` was not specified "+("in `"+st+"`.")):null;for(var lt=arguments.length,rt=Array(lt>6?lt-6:0),dt=6;dt<lt;dt++)rt[dt-6]=arguments[dt];return a.apply(void 0,[et,tt,st,ot,ut].concat(rt))}var j=$.bind(null,!1);return j.isRequired=$.bind(null,!0),j}s.exports=o.default})(createChainableTypeChecker,createChainableTypeCheckerExports);(function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=j;var i=createChainableTypeCheckerExports,a=$(i);function $(_e){return _e&&_e.__esModule?_e:{default:_e}}function j(){for(var _e=arguments.length,et=Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];function nt(){for(var ot=arguments.length,it=Array(ot),st=0;st<ot;st++)it[st]=arguments[st];var ut=null;return et.forEach(function(lt){if(ut==null){var rt=lt.apply(void 0,it);rt!=null&&(ut=rt)}}),ut}return(0,a.default)(nt)}s.exports=o.default})(all,allExports);function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$5(s,o){if(s==null)return{};var i={},a=Object.keys(s),$,j;for(j=0;j<a.length;j++)$=a[j],!(o.indexOf($)>=0)&&(i[$]=s[$]);return i}function defaultKey(s){return"default"+s.charAt(0).toUpperCase()+s.substr(1)}function _toPropertyKey$1(s){var o=_toPrimitive$1(s,"string");return typeof o=="symbol"?o:String(o)}function _toPrimitive$1(s,o){if(typeof s!="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,o||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}function useUncontrolledProp(s,o,i){var a=reactExports.useRef(s!==void 0),$=reactExports.useState(o),j=$[0],_e=$[1],et=s!==void 0,tt=a.current;return a.current=et,!et&&tt&&j!==o&&_e(o),[et?s:j,reactExports.useCallback(function(nt){for(var ot=arguments.length,it=new Array(ot>1?ot-1:0),st=1;st<ot;st++)it[st-1]=arguments[st];i&&i.apply(void 0,[nt].concat(it)),_e(nt)},[i])]}function useUncontrolled(s,o){return Object.keys(o).reduce(function(i,a){var $,j=i,_e=j[defaultKey(a)],et=j[a],tt=_objectWithoutPropertiesLoose$5(j,[defaultKey(a),a].map(_toPropertyKey$1)),nt=o[a],ot=useUncontrolledProp(et,_e,s[nt]),it=ot[0],st=ot[1];return _extends({},tt,($={},$[a]=it,$[nt]=st,$))},s)}function _setPrototypeOf(s,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,$){return a.__proto__=$,a},_setPrototypeOf(s,o)}function _inheritsLoose(s,o){s.prototype=Object.create(o.prototype),s.prototype.constructor=s,_setPrototypeOf(s,o)}var toArray=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(s,o){return toArray(s.querySelectorAll(o))}function useForceUpdate(){var s=reactExports.useReducer(function(i){return!i},!1),o=s[1];return o}var toFnRef=function(o){return!o||typeof o=="function"?o:function(i){o.current=i}};function mergeRefs(s,o){var i=toFnRef(s),a=toFnRef(o);return function($){i&&i($),a&&a($)}}function useMergedRefs(s,o){return reactExports.useMemo(function(){return mergeRefs(s,o)},[s,o])}const NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const SelectableContext=reactExports.createContext(null),makeEventKey=(s,o=null)=>s!=null?String(s):o||null,TabContext=reactExports.createContext(null),ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(s){return`${ATTRIBUTE_PREFIX}${s}`}function dataProp(s){return`${PROPERTY_PREFIX}${s}`}function useCommittedRef(s){var o=reactExports.useRef(s);return reactExports.useEffect(function(){o.current=s},[s]),o}function useEventCallback$1(s){var o=useCommittedRef(s);return reactExports.useCallback(function(){return o.current&&o.current.apply(o,arguments)},[o])}const _excluded$1m=["as","disabled"];function _objectWithoutPropertiesLoose$4(s,o){if(s==null)return{};var i={},a=Object.keys(s),$,j;for(j=0;j<a.length;j++)$=a[j],!(o.indexOf($)>=0)&&(i[$]=s[$]);return i}function isTrivialHref$1(s){return!s||s.trim()==="#"}function useButtonProps({tagName:s,disabled:o,href:i,target:a,rel:$,role:j,onClick:_e,tabIndex:et=0,type:tt}){s||(i!=null||a!=null||$!=null?s="a":s="button");const nt={tagName:s};if(s==="button")return[{type:tt||"button",disabled:o},nt];const ot=st=>{if((o||s==="a"&&isTrivialHref$1(i))&&st.preventDefault(),o){st.stopPropagation();return}_e==null||_e(st)},it=st=>{st.key===" "&&(st.preventDefault(),ot(st))};return s==="a"&&(i||(i="#"),o&&(i=void 0)),[{role:j??"button",disabled:void 0,tabIndex:o?void 0:et,href:i,target:s==="a"?a:void 0,"aria-disabled":o||void 0,rel:s==="a"?$:void 0,onClick:ot,onKeyDown:it},nt]}const Button$2=reactExports.forwardRef((s,o)=>{let{as:i,disabled:a}=s,$=_objectWithoutPropertiesLoose$4(s,_excluded$1m);const[j,{tagName:_e}]=useButtonProps(Object.assign({tagName:i,disabled:a},$));return jsx(_e,Object.assign({},$,j,{ref:o}))});Button$2.displayName="Button";const _excluded$1l=["as","active","eventKey"];function _objectWithoutPropertiesLoose$3(s,o){if(s==null)return{};var i={},a=Object.keys(s),$,j;for(j=0;j<a.length;j++)$=a[j],!(o.indexOf($)>=0)&&(i[$]=s[$]);return i}function useNavItem({key:s,onClick:o,active:i,id:a,role:$,disabled:j}){const _e=reactExports.useContext(SelectableContext),et=reactExports.useContext(NavContext),tt=reactExports.useContext(TabContext);let nt=i;const ot={role:$};if(et){!$&&et.role==="tablist"&&(ot.role="tab");const it=et.getControllerId(s??null),st=et.getControlledId(s??null);ot[dataAttr("event-key")]=s,ot.id=it||a,nt=i==null&&s!=null?et.activeKey===s:i,(nt||!(tt!=null&&tt.unmountOnExit)&&!(tt!=null&&tt.mountOnEnter))&&(ot["aria-controls"]=st)}return ot.role==="tab"&&(ot["aria-selected"]=nt,nt||(ot.tabIndex=-1),j&&(ot.tabIndex=-1,ot["aria-disabled"]=!0)),ot.onClick=useEventCallback$1(it=>{j||(o==null||o(it),s!=null&&_e&&!it.isPropagationStopped()&&_e(s,it))}),[ot,{isActive:nt}]}const NavItem$1=reactExports.forwardRef((s,o)=>{let{as:i=Button$2,active:a,eventKey:$}=s,j=_objectWithoutPropertiesLoose$3(s,_excluded$1l);const[_e,et]=useNavItem(Object.assign({key:makeEventKey($,j.href),active:a},j));return _e[dataAttr("active")]=et.isActive,jsx(i,Object.assign({},j,_e,{ref:o}))});NavItem$1.displayName="NavItem";const _excluded$1k=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$2(s,o){if(s==null)return{};var i={},a=Object.keys(s),$,j;for(j=0;j<a.length;j++)$=a[j],!(o.indexOf($)>=0)&&(i[$]=s[$]);return i}const noop$4=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav$2=reactExports.forwardRef((s,o)=>{let{as:i="div",onSelect:a,activeKey:$,role:j,onKeyDown:_e}=s,et=_objectWithoutPropertiesLoose$2(s,_excluded$1k);const tt=useForceUpdate(),nt=reactExports.useRef(!1),ot=reactExports.useContext(SelectableContext),it=reactExports.useContext(TabContext);let st,ut;it&&(j=j||"tablist",$=it.activeKey,st=it.getControlledId,ut=it.getControllerId);const lt=reactExports.useRef(null),rt=at=>{const ht=lt.current;if(!ht)return null;const xt=qsa(ht,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),gt=ht.querySelector("[aria-selected=true]");if(!gt||gt!==document.activeElement)return null;const vt=xt.indexOf(gt);if(vt===-1)return null;let ft=vt+at;return ft>=xt.length&&(ft=0),ft<0&&(ft=xt.length-1),xt[ft]},dt=(at,ht)=>{at!=null&&(a==null||a(at,ht),ot==null||ot(at,ht))},ct=at=>{if(_e==null||_e(at),!it)return;let ht;switch(at.key){case"ArrowLeft":case"ArrowUp":ht=rt(-1);break;case"ArrowRight":case"ArrowDown":ht=rt(1);break;default:return}ht&&(at.preventDefault(),dt(ht.dataset[dataProp("EventKey")]||null,at),nt.current=!0,tt())};reactExports.useEffect(()=>{if(lt.current&&nt.current){const at=lt.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);at==null||at.focus()}nt.current=!1});const pt=useMergedRefs(o,lt);return jsx(SelectableContext.Provider,{value:dt,children:jsx(NavContext.Provider,{value:{role:j,activeKey:makeEventKey($),getControlledId:st||noop$4,getControllerId:ut||noop$4},children:jsx(i,Object.assign({},et,{onKeyDown:ct,ref:pt,role:j}))})})});Nav$2.displayName="Nav";const BaseNav=Object.assign(Nav$2,{Item:NavItem$1}),context$1=reactExports.createContext(null);context$1.displayName="NavbarContext";const context=reactExports.createContext(null);context.displayName="CardHeaderContext";var rHyphen=/-(.)/g;function camelize(s){return s.replace(rHyphen,function(o,i){return i.toUpperCase()})}const pascalCase=s=>s[0].toUpperCase()+camelize(s).slice(1);function createWithBsPrefix(s,{displayName:o=pascalCase(s),Component:i,defaultProps:a}={}){const $=reactExports.forwardRef(({className:j,bsPrefix:_e,as:et=i||"div",...tt},nt)=>{const ot=useBootstrapPrefix(_e,s);return jsx(et,{ref:nt,className:classNames(j,ot),...tt})});return $.defaultProps=a,$.displayName=o,$}const NavItem=createWithBsPrefix("nav-item");function useMounted(){var s=reactExports.useRef(!0),o=reactExports.useRef(function(){return s.current});return reactExports.useEffect(function(){return s.current=!0,function(){s.current=!1}},[]),o.current}function usePrevious(s){var o=reactExports.useRef(null);return reactExports.useEffect(function(){o.current=s}),o.current}var isReactNative$1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM=typeof document<"u";const useIsomorphicEffect=isDOM||isReactNative$1?reactExports.useLayoutEffect:reactExports.useEffect,_excluded$1j=["onKeyDown"];function _objectWithoutPropertiesLoose$1(s,o){if(s==null)return{};var i={},a=Object.keys(s),$,j;for(j=0;j<a.length;j++)$=a[j],!(o.indexOf($)>=0)&&(i[$]=s[$]);return i}function isTrivialHref(s){return!s||s.trim()==="#"}const Anchor=reactExports.forwardRef((s,o)=>{let{onKeyDown:i}=s,a=_objectWithoutPropertiesLoose$1(s,_excluded$1j);const[$]=useButtonProps(Object.assign({tagName:"a"},a)),j=useEventCallback$1(_e=>{$.onKeyDown(_e),i==null||i(_e)});return isTrivialHref(a.href)||a.role==="button"?jsx("a",Object.assign({ref:o},a,$,{onKeyDown:j})):jsx("a",Object.assign({ref:o},a,{onKeyDown:i}))});Anchor.displayName="Anchor";const defaultProps$c={disabled:!1},NavLink=reactExports.forwardRef(({bsPrefix:s,className:o,as:i=Anchor,active:a,eventKey:$,...j},_e)=>{s=useBootstrapPrefix(s,"nav-link");const[et,tt]=useNavItem({key:makeEventKey($,j.href),active:a,...j});return jsx(i,{...j,...et,ref:_e,className:classNames(o,s,j.disabled&&"disabled",tt.isActive&&"active")})});NavLink.displayName="NavLink";NavLink.defaultProps=defaultProps$c;const NavLink$1=NavLink,defaultProps$b={justify:!1,fill:!1},Nav=reactExports.forwardRef((s,o)=>{const{as:i="div",bsPrefix:a,variant:$,fill:j,justify:_e,navbar:et,navbarScroll:tt,className:nt,activeKey:ot,...it}=useUncontrolled(s,{activeKey:"onSelect"}),st=useBootstrapPrefix(a,"nav");let ut,lt,rt=!1;const dt=reactExports.useContext(context$1),ct=reactExports.useContext(context);return dt?(ut=dt.bsPrefix,rt=et??!0):ct&&({cardHeaderBsPrefix:lt}=ct),jsx(BaseNav,{as:i,ref:o,activeKey:ot,className:classNames(nt,{[st]:!rt,[`${ut}-nav`]:rt,[`${ut}-nav-scroll`]:rt&&tt,[`${lt}-${$}`]:!!lt,[`${st}-${$}`]:!!$,[`${st}-fill`]:j,[`${st}-justified`]:_e}),...it})});Nav.displayName="Nav";Nav.defaultProps=defaultProps$b;const Nav$1=Object.assign(Nav,{Item:NavItem,Link:NavLink$1}),NavbarBrand=reactExports.forwardRef(({bsPrefix:s,className:o,as:i,...a},$)=>{s=useBootstrapPrefix(s,"navbar-brand");const j=i||(a.href?"a":"span");return jsx(j,{...a,ref:$,className:classNames(o,s)})});NavbarBrand.displayName="NavbarBrand";const NavbarBrand$1=NavbarBrand;function ownerDocument$1(s){return s&&s.ownerDocument||document}function ownerWindow$1(s){var o=ownerDocument$1(s);return o&&o.defaultView||window}function getComputedStyle$2(s,o){return ownerWindow$1(s).getComputedStyle(s,o)}var rUpper=/([A-Z])/g;function hyphenate(s){return s.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(s){return hyphenate(s).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(s){return!!(s&&supportedTransforms.test(s))}function style$3(s,o){var i="",a="";if(typeof o=="string")return s.style.getPropertyValue(hyphenateStyleName(o))||getComputedStyle$2(s).getPropertyValue(hyphenateStyleName(o));Object.keys(o).forEach(function($){var j=o[$];!j&&j!==0?s.style.removeProperty(hyphenateStyleName($)):isTransform($)?a+=$+"("+j+") ":i+=hyphenateStyleName($)+": "+j+";"}),a&&(i+="transform: "+a+";"),s.style.cssText+=";"+i}var propTypesExports={},propTypes$3={get exports(){return propTypesExports},set exports(s){propTypesExports=s}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function s(a,$,j,_e,et,tt){if(tt!==ReactPropTypesSecret){var nt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw nt.name="Invariant Violation",nt}}s.isRequired=s;function o(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes$3.exports=factoryWithThrowingShims();const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(o){return o.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(s){_inheritsLoose(o,s);function o(a,$){var j;j=s.call(this,a,$)||this;var _e=$,et=_e&&!_e.isMounting?a.enter:a.appear,tt;return j.appearStatus=null,a.in?et?(tt=EXITED,j.appearStatus=ENTERING):tt=ENTERED:a.unmountOnExit||a.mountOnEnter?tt=UNMOUNTED:tt=EXITED,j.state={status:tt},j.nextCallback=null,j}o.getDerivedStateFromProps=function($,j){var _e=$.in;return _e&&j.status===UNMOUNTED?{status:EXITED}:null};var i=o.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function($){var j=null;if($!==this.props){var _e=this.state.status;this.props.in?_e!==ENTERING&&_e!==ENTERED&&(j=ENTERING):(_e===ENTERING||_e===ENTERED)&&(j=EXITING)}this.updateStatus(!1,j)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var $=this.props.timeout,j,_e,et;return j=_e=et=$,$!=null&&typeof $!="number"&&(j=$.exit,_e=$.enter,et=$.appear!==void 0?$.appear:_e),{exit:j,enter:_e,appear:et}},i.updateStatus=function($,j){if($===void 0&&($=!1),j!==null)if(this.cancelNextCallback(),j===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var _e=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);_e&&forceReflow(_e)}this.performEnter($)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},i.performEnter=function($){var j=this,_e=this.props.enter,et=this.context?this.context.isMounting:$,tt=this.props.nodeRef?[et]:[ReactDOM.findDOMNode(this),et],nt=tt[0],ot=tt[1],it=this.getTimeouts(),st=et?it.appear:it.enter;if(!$&&!_e||config.disabled){this.safeSetState({status:ENTERED},function(){j.props.onEntered(nt)});return}this.props.onEnter(nt,ot),this.safeSetState({status:ENTERING},function(){j.props.onEntering(nt,ot),j.onTransitionEnd(st,function(){j.safeSetState({status:ENTERED},function(){j.props.onEntered(nt,ot)})})})},i.performExit=function(){var $=this,j=this.props.exit,_e=this.getTimeouts(),et=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!j||config.disabled){this.safeSetState({status:EXITED},function(){$.props.onExited(et)});return}this.props.onExit(et),this.safeSetState({status:EXITING},function(){$.props.onExiting(et),$.onTransitionEnd(_e.exit,function(){$.safeSetState({status:EXITED},function(){$.props.onExited(et)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function($,j){j=this.setNextCallback(j),this.setState($,j)},i.setNextCallback=function($){var j=this,_e=!0;return this.nextCallback=function(et){_e&&(_e=!1,j.nextCallback=null,$(et))},this.nextCallback.cancel=function(){_e=!1},this.nextCallback},i.onTransitionEnd=function($,j){this.setNextCallback(j);var _e=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),et=$==null&&!this.props.addEndListener;if(!_e||et){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var tt=this.props.nodeRef?[this.nextCallback]:[_e,this.nextCallback],nt=tt[0],ot=tt[1];this.props.addEndListener(nt,ot)}$!=null&&setTimeout(this.nextCallback,$)},i.render=function(){var $=this.state.status;if($===UNMOUNTED)return null;var j=this.props,_e=j.children;j.in,j.mountOnEnter,j.unmountOnExit,j.appear,j.enter,j.exit,j.timeout,j.addEndListener,j.onEnter,j.onEntering,j.onEntered,j.onExit,j.onExiting,j.onExited,j.nodeRef;var et=_objectWithoutPropertiesLoose$5(j,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof _e=="function"?_e($,et):React.cloneElement(React.Children.only(_e),et))},o}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$3(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$3,onEntering:noop$3,onEntered:noop$3,onExit:noop$3,onExiting:noop$3,onExited:noop$3};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options$1={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options$1,options$1),window.removeEventListener("test",options$1,!0))}catch{}function addEventListener$1(s,o,i,a){if(a&&typeof a!="boolean"&&!onceSupported){var $=a.once,j=a.capture,_e=i;!onceSupported&&$&&(_e=i.__once||function et(tt){this.removeEventListener(o,et,j),i.call(this,tt)},i.__once=_e),s.addEventListener(o,_e,optionsSupported?a:j)}s.addEventListener(o,i,a)}function removeEventListener(s,o,i,a){var $=a&&typeof a!="boolean"?a.capture:a;s.removeEventListener(o,i,$),i.__once&&s.removeEventListener(o,i.__once,$)}function listen(s,o,i,a){return addEventListener$1(s,o,i,a),function(){removeEventListener(s,o,i,a)}}function triggerEvent(s,o,i,a){if(i===void 0&&(i=!1),a===void 0&&(a=!0),s){var $=document.createEvent("HTMLEvents");$.initEvent(o,i,a),s.dispatchEvent($)}}function parseDuration$1(s){var o=style$3(s,"transitionDuration")||"",i=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*i}function emulateTransitionEnd(s,o,i){i===void 0&&(i=5);var a=!1,$=setTimeout(function(){a||triggerEvent(s,"transitionend",!0)},o+i),j=listen(s,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout($),j()}}function transitionEnd(s,o,i,a){i==null&&(i=parseDuration$1(s)||0);var $=emulateTransitionEnd(s,i,a),j=listen(s,"transitionend",o);return function(){$(),j()}}function parseDuration(s,o){const i=style$3(s,o)||"",a=i.indexOf("ms")===-1?1e3:1;return parseFloat(i)*a}function transitionEndListener(s,o){const i=parseDuration(s,"transitionDuration"),a=parseDuration(s,"transitionDelay"),$=transitionEnd(s,j=>{j.target===s&&($(),o(j))},i+a)}function createChainedFunction$1(...s){return s.filter(o=>o!=null).reduce((o,i)=>{if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return o===null?i:function(...$){o.apply(this,$),i.apply(this,$)}},null)}function triggerBrowserReflow(s){s.offsetHeight}function safeFindDOMNode(s){return s&&"setState"in s?ReactDOM.findDOMNode(s):s??null}const TransitionWrapper=React.forwardRef(({onEnter:s,onEntering:o,onEntered:i,onExit:a,onExiting:$,onExited:j,addEndListener:_e,children:et,childRef:tt,...nt},ot)=>{const it=reactExports.useRef(null),st=useMergedRefs(it,tt),ut=gt=>{st(safeFindDOMNode(gt))},lt=gt=>vt=>{gt&&it.current&&gt(it.current,vt)},rt=reactExports.useCallback(lt(s),[s]),dt=reactExports.useCallback(lt(o),[o]),ct=reactExports.useCallback(lt(i),[i]),pt=reactExports.useCallback(lt(a),[a]),at=reactExports.useCallback(lt($),[$]),ht=reactExports.useCallback(lt(j),[j]),xt=reactExports.useCallback(lt(_e),[_e]);return jsx(Transition,{ref:ot,...nt,onEnter:rt,onEntered:ct,onEntering:dt,onExit:pt,onExited:ht,onExiting:at,addEndListener:xt,nodeRef:it,children:typeof et=="function"?(gt,vt)=>et(gt,{...vt,ref:ut}):React.cloneElement(et,{ref:ut})})}),TransitionWrapper$1=TransitionWrapper,MARGINS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function getDefaultDimensionValue(s,o){const i=`offset${s[0].toUpperCase()}${s.slice(1)}`,a=o[i],$=MARGINS[s];return a+parseInt(style$3(o,$[0]),10)+parseInt(style$3(o,$[1]),10)}const collapseStyles={[EXITED]:"collapse",[EXITING]:"collapsing",[ENTERING]:"collapsing",[ENTERED]:"collapse show"},defaultProps$a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:getDefaultDimensionValue},Collapse=React.forwardRef(({onEnter:s,onEntering:o,onEntered:i,onExit:a,onExiting:$,className:j,children:_e,dimension:et="height",getDimensionValue:tt=getDefaultDimensionValue,...nt},ot)=>{const it=typeof et=="function"?et():et,st=reactExports.useMemo(()=>createChainedFunction$1(ct=>{ct.style[it]="0"},s),[it,s]),ut=reactExports.useMemo(()=>createChainedFunction$1(ct=>{const pt=`scroll${it[0].toUpperCase()}${it.slice(1)}`;ct.style[it]=`${ct[pt]}px`},o),[it,o]),lt=reactExports.useMemo(()=>createChainedFunction$1(ct=>{ct.style[it]=null},i),[it,i]),rt=reactExports.useMemo(()=>createChainedFunction$1(ct=>{ct.style[it]=`${tt(it,ct)}px`,triggerBrowserReflow(ct)},a),[a,tt,it]),dt=reactExports.useMemo(()=>createChainedFunction$1(ct=>{ct.style[it]=null},$),[it,$]);return jsx(TransitionWrapper$1,{ref:ot,addEndListener:transitionEndListener,...nt,"aria-expanded":nt.role?nt.in:null,onEnter:st,onEntering:ut,onEntered:lt,onExit:rt,onExiting:dt,childRef:_e.ref,children:(ct,pt)=>React.cloneElement(_e,{...pt,className:classNames(j,_e.props.className,collapseStyles[ct],it==="width"&&"collapse-horizontal")})})});Collapse.defaultProps=defaultProps$a;const Collapse$1=Collapse,NavbarCollapse=reactExports.forwardRef(({children:s,bsPrefix:o,...i},a)=>{o=useBootstrapPrefix(o,"navbar-collapse");const $=reactExports.useContext(context$1);return jsx(Collapse$1,{in:!!($&&$.expanded),...i,children:jsx("div",{ref:a,className:o,children:s})})});NavbarCollapse.displayName="NavbarCollapse";const NavbarCollapse$1=NavbarCollapse,defaultProps$9={label:"Toggle navigation"},NavbarToggle=reactExports.forwardRef(({bsPrefix:s,className:o,children:i,label:a,as:$="button",onClick:j,..._e},et)=>{s=useBootstrapPrefix(s,"navbar-toggler");const{onToggle:tt,expanded:nt}=reactExports.useContext(context$1)||{},ot=useEventCallback$1(it=>{j&&j(it),tt&&tt()});return $==="button"&&(_e.type="button"),jsx($,{..._e,ref:et,onClick:ot,"aria-label":a,className:classNames(o,s,!nt&&"collapsed"),children:i||jsx("span",{className:`${s}-icon`})})});NavbarToggle.displayName="NavbarToggle";NavbarToggle.defaultProps=defaultProps$9;const NavbarToggle$1=NavbarToggle;var matchersByWindow=new WeakMap,getMatcher=function(o,i){if(!(!o||!i)){var a=matchersByWindow.get(i)||new Map;matchersByWindow.set(i,a);var $=a.get(o);return $||($=i.matchMedia(o),$.refCount=0,a.set($.media,$)),$}};function useMediaQuery$1(s,o){o===void 0&&(o=typeof window>"u"?void 0:window);var i=getMatcher(s,o),a=reactExports.useState(function(){return i?i.matches:!1}),$=a[0],j=a[1];return useIsomorphicEffect(function(){var _e=getMatcher(s,o);if(!_e)return j(!1);var et=matchersByWindow.get(o),tt=function(){j(_e.matches)};return _e.refCount++,_e.addListener(tt),tt(),function(){_e.removeListener(tt),_e.refCount--,_e.refCount<=0&&(et==null||et.delete(_e.media)),_e=void 0}},[s]),$}function createBreakpointHook(s){var o=Object.keys(s);function i(et,tt){return et===tt?tt:et?et+" and "+tt:tt}function a(et){return o[Math.min(o.indexOf(et)+1,o.length-1)]}function $(et){var tt=a(et),nt=s[tt];return typeof nt=="number"?nt=nt-.2+"px":nt="calc("+nt+" - 0.2px)","(max-width: "+nt+")"}function j(et){var tt=s[et];return typeof tt=="number"&&(tt=tt+"px"),"(min-width: "+tt+")"}function _e(et,tt,nt){var ot;if(typeof et=="object")ot=et,nt=tt,tt=!0;else{var it;tt=tt||!0,ot=(it={},it[et]=tt,it)}var st=reactExports.useMemo(function(){return Object.entries(ot).reduce(function(ut,lt){var rt=lt[0],dt=lt[1];return(dt==="up"||dt===!0)&&(ut=i(ut,j(rt))),(dt==="down"||dt===!0)&&(ut=i(ut,$(rt))),ut},"")},[JSON.stringify(ot)]);return useMediaQuery$1(st,nt)}return _e}var useBreakpoint=createBreakpointHook({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function activeElement(s){s===void 0&&(s=ownerDocument$1());try{var o=s.activeElement;return!o||!o.nodeName?null:o}catch{return s.body}}function contains$2(s,o){if(s.contains)return s.contains(o);if(s.compareDocumentPosition)return s===o||!!(s.compareDocumentPosition(o)&16)}function useUpdatedRef(s){var o=reactExports.useRef(s);return o.current=s,o}function useWillUnmount(s){var o=useUpdatedRef(s);reactExports.useEffect(function(){return function(){return o.current()}},[])}function getBodyScrollbarWidth(s=document){const o=s.defaultView;return Math.abs(o.innerWidth-s.documentElement.clientWidth)}const OPEN_DATA_ATTRIBUTE=dataAttr("modal-open");let ModalManager$1=class{constructor({ownerDocument:o,handleContainerOverflow:i=!0,isRTL:a=!1}={}){this.handleContainerOverflow=i,this.isRTL=a,this.modals=[],this.ownerDocument=o}getScrollbarWidth(){return getBodyScrollbarWidth(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(o){}removeModalAttributes(o){}setContainerStyle(o){const i={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",$=this.getElement();o.style={overflow:$.style.overflow,[a]:$.style[a]},o.scrollBarWidth&&(i[a]=`${parseInt(style$3($,a)||"0",10)+o.scrollBarWidth}px`),$.setAttribute(OPEN_DATA_ATTRIBUTE,""),style$3($,i)}reset(){[...this.modals].forEach(o=>this.remove(o))}removeContainerStyle(o){const i=this.getElement();i.removeAttribute(OPEN_DATA_ATTRIBUTE),Object.assign(i.style,o.style)}add(o){let i=this.modals.indexOf(o);return i!==-1||(i=this.modals.length,this.modals.push(o),this.setModalAttributes(o),i!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),i}remove(o){const i=this.modals.indexOf(o);i!==-1&&(this.modals.splice(i,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(o))}isTopModal(o){return!!this.modals.length&&this.modals[this.modals.length-1]===o}};const Context=reactExports.createContext(canUseDOM?window:void 0);Context.Provider;function useWindow(){return reactExports.useContext(Context)}const resolveContainerRef=(s,o)=>canUseDOM?s==null?(o||ownerDocument$1()).body:(typeof s=="function"&&(s=s()),s&&"current"in s&&(s=s.current),s&&("nodeType"in s||s.getBoundingClientRect)?s:null):null;function useWaitForDOMRef(s,o){const i=useWindow(),[a,$]=reactExports.useState(()=>resolveContainerRef(s,i==null?void 0:i.document));if(!a){const j=resolveContainerRef(s);j&&$(j)}return reactExports.useEffect(()=>{o&&a&&o(a)},[o,a]),reactExports.useEffect(()=>{const j=resolveContainerRef(s);j!==a&&$(j)},[s,a]),a}const _excluded$1i=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _objectWithoutPropertiesLoose(s,o){if(s==null)return{};var i={},a=Object.keys(s),$,j;for(j=0;j<a.length;j++)$=a[j],!(o.indexOf($)>=0)&&(i[$]=s[$]);return i}let manager;function getManager(s){return manager||(manager=new ModalManager$1({ownerDocument:s==null?void 0:s.document})),manager}function useModalManager(s){const o=useWindow(),i=s||getManager(o),a=reactExports.useRef({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>i.add(a.current),remove:()=>i.remove(a.current),isTopModal:()=>i.isTopModal(a.current),setDialogRef:reactExports.useCallback($=>{a.current.dialog=$},[]),setBackdropRef:reactExports.useCallback($=>{a.current.backdrop=$},[])})}const Modal$2=reactExports.forwardRef((s,o)=>{let{show:i=!1,role:a="dialog",className:$,style:j,children:_e,backdrop:et=!0,keyboard:tt=!0,onBackdropClick:nt,onEscapeKeyDown:ot,transition:it,backdropTransition:st,autoFocus:ut=!0,enforceFocus:lt=!0,restoreFocus:rt=!0,restoreFocusOptions:dt,renderDialog:ct,renderBackdrop:pt=kt=>jsx("div",Object.assign({},kt)),manager:at,container:ht,onShow:xt,onHide:gt=()=>{},onExit:vt,onExited:ft,onExiting:yt,onEnter:mt,onEntering:St,onEntered:At}=s,Ft=_objectWithoutPropertiesLoose(s,_excluded$1i);const Tt=useWaitForDOMRef(ht),Dt=useModalManager(at),It=useMounted(),Rt=usePrevious(i),[Pt,Nt]=reactExports.useState(!i),Lt=reactExports.useRef(null);reactExports.useImperativeHandle(o,()=>Dt,[Dt]),canUseDOM&&!Rt&&i&&(Lt.current=activeElement()),!it&&!i&&!Pt?Nt(!0):i&&Pt&&Nt(!1);const zt=useEventCallback$1(()=>{if(Dt.add(),$t.current=listen(document,"keydown",Ot),Ut.current=listen(document,"focus",()=>setTimeout(Et),!0),xt&&xt(),ut){const kt=activeElement(document);Dt.dialog&&kt&&!contains$2(Dt.dialog,kt)&&(Lt.current=kt,Dt.dialog.focus())}}),Mt=useEventCallback$1(()=>{if(Dt.remove(),$t.current==null||$t.current(),Ut.current==null||Ut.current(),rt){var kt;(kt=Lt.current)==null||kt.focus==null||kt.focus(dt),Lt.current=null}});reactExports.useEffect(()=>{!i||!Tt||zt()},[i,Tt,zt]),reactExports.useEffect(()=>{Pt&&Mt()},[Pt,Mt]),useWillUnmount(()=>{Mt()});const Et=useEventCallback$1(()=>{if(!lt||!It()||!Dt.isTopModal())return;const kt=activeElement();Dt.dialog&&kt&&!contains$2(Dt.dialog,kt)&&Dt.dialog.focus()}),Ct=useEventCallback$1(kt=>{kt.target===kt.currentTarget&&(nt==null||nt(kt),et===!0&&gt())}),Ot=useEventCallback$1(kt=>{tt&&kt.keyCode===27&&Dt.isTopModal()&&(ot==null||ot(kt),kt.defaultPrevented||gt())}),Ut=reactExports.useRef(),$t=reactExports.useRef(),Bt=(...kt)=>{Nt(!0),ft==null||ft(...kt)},Wt=it;if(!Tt||!(i||Wt&&!Pt))return null;const Gt=Object.assign({role:a,ref:Dt.setDialogRef,"aria-modal":a==="dialog"?!0:void 0},Ft,{style:j,className:$,tabIndex:-1});let bt=ct?ct(Gt):jsx("div",Object.assign({},Gt,{children:reactExports.cloneElement(_e,{role:"document"})}));Wt&&(bt=jsx(Wt,{appear:!0,unmountOnExit:!0,in:!!i,onExit:vt,onExiting:yt,onExited:Bt,onEnter:mt,onEntering:St,onEntered:At,children:bt}));let wt=null;if(et){const kt=st;wt=pt({ref:Dt.setBackdropRef,onClick:Ct}),kt&&(wt=jsx(kt,{appear:!0,in:!!i,children:wt}))}return jsx(Fragment,{children:ReactDOM.createPortal(jsxs(Fragment,{children:[wt,bt]}),Tt)})});Modal$2.displayName="Modal";const BaseModal=Object.assign(Modal$2,{Manager:ModalManager$1}),defaultProps$8={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade$2=reactExports.forwardRef(({className:s,children:o,transitionClasses:i={},...a},$)=>{const j=reactExports.useCallback((_e,et)=>{triggerBrowserReflow(_e),a.onEnter==null||a.onEnter(_e,et)},[a]);return jsx(TransitionWrapper$1,{ref:$,addEndListener:transitionEndListener,...a,onEnter:j,childRef:o.ref,children:(_e,et)=>reactExports.cloneElement(o,{...et,className:classNames("fade",s,o.props.className,fadeStyles[_e],i[_e])})})});Fade$2.defaultProps=defaultProps$8;Fade$2.displayName="Fade";const Fade$3=Fade$2,OffcanvasBody=createWithBsPrefix("offcanvas-body"),defaultProps$7={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},transitionStyles={[ENTERING]:"show",[ENTERED]:"show"},OffcanvasToggling=reactExports.forwardRef(({bsPrefix:s,className:o,children:i,...a},$)=>(s=useBootstrapPrefix(s,"offcanvas"),jsx(TransitionWrapper$1,{ref:$,addEndListener:transitionEndListener,...a,childRef:i.ref,children:(j,_e)=>reactExports.cloneElement(i,{..._e,className:classNames(o,i.props.className,(j===ENTERING||j===EXITING)&&`${s}-toggling`,transitionStyles[j])})})));OffcanvasToggling.defaultProps=defaultProps$7;OffcanvasToggling.displayName="OffcanvasToggling";const OffcanvasToggling$1=OffcanvasToggling,ModalContext=reactExports.createContext({onHide(){}}),ModalContext$1=ModalContext,propTypes$2={"aria-label":propTypesExports.string,onClick:propTypesExports.func,variant:propTypesExports.oneOf(["white"])},defaultProps$6={"aria-label":"Close"},CloseButton=reactExports.forwardRef(({className:s,variant:o,...i},a)=>jsx("button",{ref:a,type:"button",className:classNames("btn-close",o&&`btn-close-${o}`,s),...i}));CloseButton.displayName="CloseButton";CloseButton.propTypes=propTypes$2;CloseButton.defaultProps=defaultProps$6;const CloseButton$1=CloseButton,defaultProps$5={closeLabel:"Close",closeButton:!1},AbstractModalHeader=reactExports.forwardRef(({closeLabel:s,closeVariant:o,closeButton:i,onHide:a,children:$,...j},_e)=>{const et=reactExports.useContext(ModalContext$1),tt=useEventCallback$1(()=>{et==null||et.onHide(),a==null||a()});return jsxs("div",{ref:_e,...j,children:[$,i&&jsx(CloseButton$1,{"aria-label":s,variant:o,onClick:tt})]})});AbstractModalHeader.defaultProps=defaultProps$5;const AbstractModalHeader$1=AbstractModalHeader,defaultProps$4={closeLabel:"Close",closeButton:!1},OffcanvasHeader=reactExports.forwardRef(({bsPrefix:s,className:o,...i},a)=>(s=useBootstrapPrefix(s,"offcanvas-header"),jsx(AbstractModalHeader$1,{ref:a,...i,className:classNames(o,s)})));OffcanvasHeader.displayName="OffcanvasHeader";OffcanvasHeader.defaultProps=defaultProps$4;const OffcanvasHeader$1=OffcanvasHeader,divWithClassName=s=>reactExports.forwardRef((o,i)=>jsx("div",{...o,ref:i,className:classNames(o.className,s)})),DivStyledAsH5=divWithClassName("h5"),OffcanvasTitle=createWithBsPrefix("offcanvas-title",{Component:DivStyledAsH5});function hasClass(s,o){return s.classList?!!o&&s.classList.contains(o):(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+o+" ")!==-1}function addClass(s,o){s.classList?s.classList.add(o):hasClass(s,o)||(typeof s.className=="string"?s.className=s.className+" "+o:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+o))}function replaceClassName(s,o){return s.replace(new RegExp("(^|\\s)"+o+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(s,o){s.classList?s.classList.remove(o):typeof s.className=="string"?s.className=replaceClassName(s.className,o):s.setAttribute("class",replaceClassName(s.className&&s.className.baseVal||"",o))}const Selector={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class BootstrapModalManager extends ModalManager$1{adjustAndStore(o,i,a){const $=i.style[o];i.dataset[o]=$,style$3(i,{[o]:`${parseFloat(style$3(i,o))+a}px`})}restore(o,i){const a=i.dataset[o];a!==void 0&&(delete i.dataset[o],style$3(i,{[o]:a}))}setContainerStyle(o){super.setContainerStyle(o);const i=this.getElement();if(addClass(i,"modal-open"),!o.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",$=this.isRTL?"marginLeft":"marginRight";qsa(i,Selector.FIXED_CONTENT).forEach(j=>this.adjustAndStore(a,j,o.scrollBarWidth)),qsa(i,Selector.STICKY_CONTENT).forEach(j=>this.adjustAndStore($,j,-o.scrollBarWidth)),qsa(i,Selector.NAVBAR_TOGGLER).forEach(j=>this.adjustAndStore($,j,o.scrollBarWidth))}removeContainerStyle(o){super.removeContainerStyle(o);const i=this.getElement();removeClass$1(i,"modal-open");const a=this.isRTL?"paddingLeft":"paddingRight",$=this.isRTL?"marginLeft":"marginRight";qsa(i,Selector.FIXED_CONTENT).forEach(j=>this.restore(a,j)),qsa(i,Selector.STICKY_CONTENT).forEach(j=>this.restore($,j)),qsa(i,Selector.NAVBAR_TOGGLER).forEach(j=>this.restore($,j))}}let sharedManager;function getSharedManager(s){return sharedManager||(sharedManager=new BootstrapModalManager(s)),sharedManager}const BootstrapModalManager$1=BootstrapModalManager,defaultProps$3={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function DialogTransition(s){return jsx(OffcanvasToggling$1,{...s})}function BackdropTransition(s){return jsx(Fade$3,{...s})}const Offcanvas=reactExports.forwardRef(({bsPrefix:s,className:o,children:i,"aria-labelledby":a,placement:$,responsive:j,show:_e,backdrop:et,keyboard:tt,scroll:nt,onEscapeKeyDown:ot,onShow:it,onHide:st,container:ut,autoFocus:lt,enforceFocus:rt,restoreFocus:dt,restoreFocusOptions:ct,onEntered:pt,onExit:at,onExiting:ht,onEnter:xt,onEntering:gt,onExited:vt,backdropClassName:ft,manager:yt,renderStaticNode:mt,...St},At)=>{const Ft=reactExports.useRef();s=useBootstrapPrefix(s,"offcanvas");const{onToggle:Tt}=reactExports.useContext(context$1)||{},[Dt,It]=reactExports.useState(!1),Rt=useBreakpoint(j||"xs","up");reactExports.useEffect(()=>{It(j?_e&&!Rt:_e)},[_e,j,Rt]);const Pt=useEventCallback$1(()=>{Tt==null||Tt(),st==null||st()}),Nt=reactExports.useMemo(()=>({onHide:Pt}),[Pt]);function Lt(){return yt||(nt?(Ft.current||(Ft.current=new BootstrapModalManager$1({handleContainerOverflow:!1})),Ft.current):getSharedManager())}const zt=(Ot,...Ut)=>{Ot&&(Ot.style.visibility="visible"),xt==null||xt(Ot,...Ut)},Mt=(Ot,...Ut)=>{Ot&&(Ot.style.visibility=""),vt==null||vt(...Ut)},Et=reactExports.useCallback(Ot=>jsx("div",{...Ot,className:classNames(`${s}-backdrop`,ft)}),[ft,s]),Ct=Ot=>jsx("div",{...Ot,...St,className:classNames(o,j?`${s}-${j}`:s,`${s}-${$}`),"aria-labelledby":a,children:i});return jsxs(Fragment,{children:[!Dt&&(j||mt)&&Ct({}),jsx(ModalContext$1.Provider,{value:Nt,children:jsx(BaseModal,{show:Dt,ref:At,backdrop:et,container:ut,keyboard:tt,autoFocus:lt,enforceFocus:rt&&!nt,restoreFocus:dt,restoreFocusOptions:ct,onEscapeKeyDown:ot,onShow:it,onHide:Pt,onEnter:zt,onEntering:gt,onEntered:pt,onExit:at,onExiting:ht,onExited:Mt,manager:Lt(),transition:DialogTransition,backdropTransition:BackdropTransition,renderBackdrop:Et,renderDialog:Ct})})]})});Offcanvas.displayName="Offcanvas";Offcanvas.defaultProps=defaultProps$3;const Offcanvas$1=Object.assign(Offcanvas,{Body:OffcanvasBody,Header:OffcanvasHeader$1,Title:OffcanvasTitle}),NavbarOffcanvas=reactExports.forwardRef((s,o)=>{const i=reactExports.useContext(context$1);return jsx(Offcanvas$1,{ref:o,show:!!(i!=null&&i.expanded),...s,renderStaticNode:!0})});NavbarOffcanvas.displayName="NavbarOffcanvas";const NavbarOffcanvas$1=NavbarOffcanvas,NavbarText=createWithBsPrefix("navbar-text",{Component:"span"}),defaultProps$2={expand:!0,variant:"light",collapseOnSelect:!1},Navbar$1=reactExports.forwardRef((s,o)=>{const{bsPrefix:i,expand:a,variant:$,bg:j,fixed:_e,sticky:et,className:tt,as:nt="nav",expanded:ot,onToggle:it,onSelect:st,collapseOnSelect:ut,...lt}=useUncontrolled(s,{expanded:"onToggle"}),rt=useBootstrapPrefix(i,"navbar"),dt=reactExports.useCallback((...at)=>{st==null||st(...at),ut&&ot&&(it==null||it(!1))},[st,ut,ot,it]);lt.role===void 0&&nt!=="nav"&&(lt.role="navigation");let ct=`${rt}-expand`;typeof a=="string"&&(ct=`${ct}-${a}`);const pt=reactExports.useMemo(()=>({onToggle:()=>it==null?void 0:it(!ot),bsPrefix:rt,expanded:!!ot,expand:a}),[rt,ot,a,it]);return jsx(context$1.Provider,{value:pt,children:jsx(SelectableContext.Provider,{value:dt,children:jsx(nt,{ref:o,...lt,className:classNames(tt,rt,a&&ct,$&&`${rt}-${$}`,j&&`bg-${j}`,et&&`sticky-${et}`,_e&&`fixed-${_e}`)})})})});Navbar$1.defaultProps=defaultProps$2;Navbar$1.displayName="Navbar";const NavbarReact=Object.assign(Navbar$1,{Brand:NavbarBrand$1,Collapse:NavbarCollapse$1,Offcanvas:NavbarOffcanvas$1,Text:NavbarText,Toggle:NavbarToggle$1}),Navbar=()=>jsx("div",{children:jsx(NavbarReact,{bg:"light",expand:"lg",children:jsxs(Container$1,{children:[jsx(NavbarReact.Brand,{href:"#/",style:{fontSize:"2rem"},children:"VidreBany"}),jsx(NavbarReact.Collapse,{id:"basic-navbar-nav",children:jsxs(Nav$1,{className:"me-auto",children:[jsx(Nav$1.Link,{href:"#/",children:"Inici"}),jsx(Nav$1.Link,{href:"#/processes",children:"Processos"}),jsx(Nav$1.Link,{href:"#/users",children:"Usuaris"}),jsx(Nav$1.Link,{href:"#/edit",children:"Ordres"}),jsx(Nav$1.Link,{href:"#/transport",children:"Transports"}),jsx(Nav$1.Link,{href:"#/incidencies",children:"No conformitats"}),jsx(Nav$1.Link,{href:"#/admins",children:"Administradors"}),jsx(Nav$1.Link,{href:"#/tecnic",children:"Servei Tcnic"})]})}),jsx(NavbarReact.Toggle,{"aria-controls":"basic-navbar-nav"})]})})});function App(){const s=useNavigate();return jsxs("div",{className:"container",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[jsx(Navbar,{}),jsx("h1",{children:"Panel VidreBany"}),jsx("p",{className:"display-6",children:"Men d'operacions:"}),jsxs("div",{className:"d-flex flex-column justify-content-center",children:[jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/processes"),children:"PROCESSOS"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/users"),children:"USUARIS"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/edit"),children:"ORDRES"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/transport"),children:"TRANSPORTS"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/incidencies"),children:"NO CONFORMITATS"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/admins"),children:"ADMINISTRADORS"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/tecnic"),children:"SERVEI TCNIC"})]})]})}const scriptRel="modulepreload",assetsURL=function(s){return"/VidreBanyCPanel/"+s},seen={},__vitePreload=function(o,i,a){if(!i||i.length===0)return o();const $=document.getElementsByTagName("link");return Promise.all(i.map(j=>{if(j=assetsURL(j),j in seen)return;seen[j]=!0;const _e=j.endsWith(".css"),et=_e?'[rel="stylesheet"]':"";if(!!a)for(let ot=$.length-1;ot>=0;ot--){const it=$[ot];if(it.href===j&&(!_e||it.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${j}"]${et}`))return;const nt=document.createElement("link");if(nt.rel=_e?"stylesheet":scriptRel,_e||(nt.as="script",nt.crossOrigin=""),nt.href=j,document.head.appendChild(nt),_e)return new Promise((ot,it)=>{nt.addEventListener("load",ot),nt.addEventListener("error",()=>it(new Error(`Unable to preload CSS for ${j}`)))})})).then(()=>o())},reportWebVitals=s=>{s&&s instanceof Function&&__vitePreload(()=>import("./web-vitals-60d3425a.js"),[]).then(({getCLS:o,getFID:i,getFCP:a,getLCP:$,getTTFB:j})=>{o(s),i(s),a(s),$(s),j(s)})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert=function(s,o){if(!s)throw assertionError(o)},assertionError=function(s){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(s){const o=[];let i=0;for(let a=0;a<s.length;a++){let $=s.charCodeAt(a);$<128?o[i++]=$:$<2048?(o[i++]=$>>6|192,o[i++]=$&63|128):($&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?($=65536+(($&1023)<<10)+(s.charCodeAt(++a)&1023),o[i++]=$>>18|240,o[i++]=$>>12&63|128,o[i++]=$>>6&63|128,o[i++]=$&63|128):(o[i++]=$>>12|224,o[i++]=$>>6&63|128,o[i++]=$&63|128)}return o},byteArrayToString=function(s){const o=[];let i=0,a=0;for(;i<s.length;){const $=s[i++];if($<128)o[a++]=String.fromCharCode($);else if($>191&&$<224){const j=s[i++];o[a++]=String.fromCharCode(($&31)<<6|j&63)}else if($>239&&$<365){const j=s[i++],_e=s[i++],et=s[i++],tt=(($&7)<<18|(j&63)<<12|(_e&63)<<6|et&63)-65536;o[a++]=String.fromCharCode(55296+(tt>>10)),o[a++]=String.fromCharCode(56320+(tt&1023))}else{const j=s[i++],_e=s[i++];o[a++]=String.fromCharCode(($&15)<<12|(j&63)<<6|_e&63)}}return o.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,o){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=o?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let $=0;$<s.length;$+=3){const j=s[$],_e=$+1<s.length,et=_e?s[$+1]:0,tt=$+2<s.length,nt=tt?s[$+2]:0,ot=j>>2,it=(j&3)<<4|et>>4;let st=(et&15)<<2|nt>>6,ut=nt&63;tt||(ut=64,_e||(st=64)),a.push(i[ot],i[it],i[st],i[ut])}return a.join("")},encodeString(s,o){return this.HAS_NATIVE_SUPPORT&&!o?btoa(s):this.encodeByteArray(stringToByteArray$1(s),o)},decodeString(s,o){return this.HAS_NATIVE_SUPPORT&&!o?atob(s):byteArrayToString(this.decodeStringToByteArray(s,o))},decodeStringToByteArray(s,o){this.init_();const i=o?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let $=0;$<s.length;){const j=i[s.charAt($++)],et=$<s.length?i[s.charAt($)]:0;++$;const nt=$<s.length?i[s.charAt($)]:64;++$;const it=$<s.length?i[s.charAt($)]:64;if(++$,j==null||et==null||nt==null||it==null)throw Error();const st=j<<2|et>>4;if(a.push(st),nt!==64){const ut=et<<4&240|nt>>2;if(a.push(ut),it!==64){const lt=nt<<6&192|it;a.push(lt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}},base64Encode=function(s){const o=stringToByteArray$1(s);return base64.encodeByteArray(o,!0)},base64urlEncodeWithoutPadding=function(s){return base64Encode(s).replace(/\./g,"")},base64Decode=function(s){try{return base64.decodeString(s,!0)}catch(o){console.error("base64Decode failed: ",o)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy(s){return deepExtend(void 0,s)}function deepExtend(s,o){if(!(o instanceof Object))return o;switch(o.constructor){case Date:const i=o;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return o}for(const i in o)!o.hasOwnProperty(i)||!isValidKey$1(i)||(s[i]=deepExtend(s[i],o[i]));return s}function isValidKey$1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isNodeSdk(){return CONSTANTS.NODE_ADMIN===!0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((s,o)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(a);$.onsuccess=()=>{$.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},$.onupgradeneeded=()=>{i=!1},$.onerror=()=>{var j;o(((j=$.error)===null||j===void 0?void 0:j.message)||"")}}catch(i){o(i)}})}function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof process.env>"u")return;const s={}.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const o=s&&base64Decode(s[1]);return o&&JSON.parse(o)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},getDefaultEmulatorHost=s=>{var o,i;return(i=(o=getDefaults())===null||o===void 0?void 0:o.emulatorHosts)===null||i===void 0?void 0:i[s]},getDefaultEmulatorHostnameAndPort=s=>{const o=getDefaultEmulatorHost(s);if(!o)return;const i=o.lastIndexOf(":");if(i<=0||i+1===o.length)throw new Error(`Invalid host ${o} with no separate hostname and port!`);const a=parseInt(o.substring(i+1),10);return o[0]==="["?[o.substring(1,i-1),a]:[o.substring(0,i),a]},getDefaultAppConfig=()=>{var s;return(s=getDefaults())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((o,i)=>{this.resolve=o,this.reject=i})}wrapCallback(o){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof o=="function"&&(this.promise.catch(()=>{}),o.length===1?o(i):o(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(s,o){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=o||"demo-project",$=s.iat||0,j=s.sub||s.user_id;if(!j)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _e=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:$,exp:$+3600,auth_time:$,sub:j,user_id:j,firebase:{sign_in_provider:"custom",identities:{}}},s),et="";return[base64urlEncodeWithoutPadding(JSON.stringify(i)),base64urlEncodeWithoutPadding(JSON.stringify(_e)),et].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(o,i,a){super(i),this.code=o,this.customData=a,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(o,i,a){this.service=o,this.serviceName=i,this.errors=a}create(o,...i){const a=i[0]||{},$=`${this.service}/${o}`,j=this.errors[o],_e=j?replaceTemplate(j,a):"Error",et=`${this.serviceName}: ${_e} (${$}).`;return new FirebaseError($,et,a)}}function replaceTemplate(s,o){return s.replace(PATTERN,(i,a)=>{const $=o[a];return $!=null?String($):`<${a}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(s){return JSON.parse(s)}function stringify$1(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const decode=function(s){let o={},i={},a={},$="";try{const j=s.split(".");o=jsonEval(base64Decode(j[0])||""),i=jsonEval(base64Decode(j[1])||""),$=j[2],a=i.d||{},delete i.d}catch{}return{header:o,claims:i,data:a,signature:$}},isValidFormat=function(s){const o=decode(s),i=o.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},isAdmin=function(s){const o=decode(s).claims;return typeof o=="object"&&o.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains$1(s,o){return Object.prototype.hasOwnProperty.call(s,o)}function safeGet(s,o){if(Object.prototype.hasOwnProperty.call(s,o))return s[o]}function isEmpty$5(s){for(const o in s)if(Object.prototype.hasOwnProperty.call(s,o))return!1;return!0}function map(s,o,i){const a={};for(const $ in s)Object.prototype.hasOwnProperty.call(s,$)&&(a[$]=o.call(i,s[$],$,s));return a}function deepEqual(s,o){if(s===o)return!0;const i=Object.keys(s),a=Object.keys(o);for(const $ of i){if(!a.includes($))return!1;const j=s[$],_e=o[$];if(isObject(j)&&isObject(_e)){if(!deepEqual(j,_e))return!1}else if(j!==_e)return!1}for(const $ of a)if(!i.includes($))return!1;return!0}function isObject(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(s){const o=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach($=>{o.push(encodeURIComponent(i)+"="+encodeURIComponent($))}):o.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return o.length?"&"+o.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let o=1;o<this.blockSize;++o)this.pad_[o]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(o,i){i||(i=0);const a=this.W_;if(typeof o=="string")for(let it=0;it<16;it++)a[it]=o.charCodeAt(i)<<24|o.charCodeAt(i+1)<<16|o.charCodeAt(i+2)<<8|o.charCodeAt(i+3),i+=4;else for(let it=0;it<16;it++)a[it]=o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3],i+=4;for(let it=16;it<80;it++){const st=a[it-3]^a[it-8]^a[it-14]^a[it-16];a[it]=(st<<1|st>>>31)&4294967295}let $=this.chain_[0],j=this.chain_[1],_e=this.chain_[2],et=this.chain_[3],tt=this.chain_[4],nt,ot;for(let it=0;it<80;it++){it<40?it<20?(nt=et^j&(_e^et),ot=1518500249):(nt=j^_e^et,ot=1859775393):it<60?(nt=j&_e|et&(j|_e),ot=2400959708):(nt=j^_e^et,ot=3395469782);const st=($<<5|$>>>27)+nt+tt+ot+a[it]&4294967295;tt=et,et=_e,_e=(j<<30|j>>>2)&4294967295,j=$,$=st}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+j&4294967295,this.chain_[2]=this.chain_[2]+_e&4294967295,this.chain_[3]=this.chain_[3]+et&4294967295,this.chain_[4]=this.chain_[4]+tt&4294967295}update(o,i){if(o==null)return;i===void 0&&(i=o.length);const a=i-this.blockSize;let $=0;const j=this.buf_;let _e=this.inbuf_;for(;$<i;){if(_e===0)for(;$<=a;)this.compress_(o,$),$+=this.blockSize;if(typeof o=="string"){for(;$<i;)if(j[_e]=o.charCodeAt($),++_e,++$,_e===this.blockSize){this.compress_(j),_e=0;break}}else for(;$<i;)if(j[_e]=o[$],++_e,++$,_e===this.blockSize){this.compress_(j),_e=0;break}}this.inbuf_=_e,this.total_+=i}digest(){const o=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let $=0;$<5;$++)for(let j=24;j>=0;j-=8)o[a]=this.chain_[$]>>j&255,++a;return o}}function errorPrefix(s,o){return`${s} failed: ${o} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray=function(s){const o=[];let i=0;for(let a=0;a<s.length;a++){let $=s.charCodeAt(a);if($>=55296&&$<=56319){const j=$-55296;a++,assert(a<s.length,"Surrogate pair missing trail surrogate.");const _e=s.charCodeAt(a)-56320;$=65536+(j<<10)+_e}$<128?o[i++]=$:$<2048?(o[i++]=$>>6|192,o[i++]=$&63|128):$<65536?(o[i++]=$>>12|224,o[i++]=$>>6&63|128,o[i++]=$&63|128):(o[i++]=$>>18|240,o[i++]=$>>12&63|128,o[i++]=$>>6&63|128,o[i++]=$&63|128)}return o},stringLength=function(s){let o=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?o++:a<2048?o+=2:a>=55296&&a<=56319?(o+=4,i++):o+=3}return o};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(s){return s&&s._delegate?s._delegate:s}class Component{constructor(o,i,a){this.name=o,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(o){return this.instantiationMode=o,this}setMultipleInstances(o){return this.multipleInstances=o,this}setServiceProps(o){return this.serviceProps=o,this}setInstanceCreatedCallback(o){return this.onInstanceCreated=o,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(o,i){this.name=o,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(o){const i=this.normalizeInstanceIdentifier(o);if(!this.instancesDeferred.has(i)){const a=new Deferred;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const $=this.getOrInitializeService({instanceIdentifier:i});$&&a.resolve($)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(o){var i;const a=this.normalizeInstanceIdentifier(o==null?void 0:o.identifier),$=(i=o==null?void 0:o.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(j){if($)return null;throw j}else{if($)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(o){if(o.name!==this.name)throw Error(`Mismatching Component ${o.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=o,!!this.shouldAutoInitialize()){if(isComponentEager(o))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const $=this.normalizeInstanceIdentifier(i);try{const j=this.getOrInitializeService({instanceIdentifier:$});a.resolve(j)}catch{}}}}clearInstance(o=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(o),this.instancesOptions.delete(o),this.instances.delete(o)}async delete(){const o=Array.from(this.instances.values());await Promise.all([...o.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...o.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(o=DEFAULT_ENTRY_NAME$1){return this.instances.has(o)}getOptions(o=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(o)||{}}initialize(o={}){const{options:i={}}=o,a=this.normalizeInstanceIdentifier(o.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[j,_e]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(j);a===et&&_e.resolve($)}return $}onInit(o,i){var a;const $=this.normalizeInstanceIdentifier(i),j=(a=this.onInitCallbacks.get($))!==null&&a!==void 0?a:new Set;j.add(o),this.onInitCallbacks.set($,j);const _e=this.instances.get($);return _e&&o(_e,$),()=>{j.delete(o)}}invokeOnInitCallbacks(o,i){const a=this.onInitCallbacks.get(i);if(a)for(const $ of a)try{$(o,i)}catch{}}getOrInitializeService({instanceIdentifier:o,options:i={}}){let a=this.instances.get(o);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(o),options:i}),this.instances.set(o,a),this.instancesOptions.set(o,i),this.invokeOnInitCallbacks(a,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,o,a)}catch{}return a||null}normalizeInstanceIdentifier(o=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?o:DEFAULT_ENTRY_NAME$1:o}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(s){return s===DEFAULT_ENTRY_NAME$1?void 0:s}function isComponentEager(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(o){this.name=o,this.providers=new Map}addComponent(o){const i=this.getProvider(o.name);if(i.isComponentSet())throw new Error(`Component ${o.name} has already been registered with ${this.name}`);i.setComponent(o)}addOrOverwriteComponent(o){this.getProvider(o.name).isComponentSet()&&this.providers.delete(o.name),this.addComponent(o)}getProvider(o){if(this.providers.has(o))return this.providers.get(o);const i=new Provider(o,this);return this.providers.set(o,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(s,o,...i)=>{if(o<s.logLevel)return;const a=new Date().toISOString(),$=ConsoleMethod[o];if($)console[$](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${o})`)};class Logger{constructor(o){this.name=o,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(o){if(!(o in LogLevel))throw new TypeError(`Invalid value "${o}" assigned to \`logLevel\``);this._logLevel=o}setLogLevel(o){this._logLevel=typeof o=="string"?levelStringToEnum[o]:o}get logHandler(){return this._logHandler}set logHandler(o){if(typeof o!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=o}get userLogHandler(){return this._userLogHandler}set userLogHandler(o){this._userLogHandler=o}debug(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...o),this._logHandler(this,LogLevel.DEBUG,...o)}log(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...o),this._logHandler(this,LogLevel.VERBOSE,...o)}info(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...o),this._logHandler(this,LogLevel.INFO,...o)}warn(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...o),this._logHandler(this,LogLevel.WARN,...o)}error(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...o),this._logHandler(this,LogLevel.ERROR,...o)}}const instanceOfAny=(s,o)=>o.some(i=>s instanceof i);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(s){const o=new Promise((i,a)=>{const $=()=>{s.removeEventListener("success",j),s.removeEventListener("error",_e)},j=()=>{i(wrap(s.result)),$()},_e=()=>{a(s.error),$()};s.addEventListener("success",j),s.addEventListener("error",_e)});return o.then(i=>{i instanceof IDBCursor&&cursorRequestMap.set(i,s)}).catch(()=>{}),reverseTransformCache.set(o,s),o}function cacheDonePromiseForTransaction(s){if(transactionDoneMap.has(s))return;const o=new Promise((i,a)=>{const $=()=>{s.removeEventListener("complete",j),s.removeEventListener("error",_e),s.removeEventListener("abort",_e)},j=()=>{i(),$()},_e=()=>{a(s.error||new DOMException("AbortError","AbortError")),$()};s.addEventListener("complete",j),s.addEventListener("error",_e),s.addEventListener("abort",_e)});transactionDoneMap.set(s,o)}let idbProxyTraps={get(s,o,i){if(s instanceof IDBTransaction){if(o==="done")return transactionDoneMap.get(s);if(o==="objectStoreNames")return s.objectStoreNames||transactionStoreNamesMap.get(s);if(o==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wrap(s[o])},set(s,o,i){return s[o]=i,!0},has(s,o){return s instanceof IDBTransaction&&(o==="done"||o==="store")?!0:o in s}};function replaceTraps(s){idbProxyTraps=s(idbProxyTraps)}function wrapFunction(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(o,...i){const a=s.call(unwrap(this),o,...i);return transactionStoreNamesMap.set(a,o.sort?o.sort():[o]),wrap(a)}:getCursorAdvanceMethods().includes(s)?function(...o){return s.apply(unwrap(this),o),wrap(cursorRequestMap.get(this))}:function(...o){return wrap(s.apply(unwrap(this),o))}}function transformCachableValue(s){return typeof s=="function"?wrapFunction(s):(s instanceof IDBTransaction&&cacheDonePromiseForTransaction(s),instanceOfAny(s,getIdbProxyableTypes())?new Proxy(s,idbProxyTraps):s)}function wrap(s){if(s instanceof IDBRequest)return promisifyRequest(s);if(transformCache.has(s))return transformCache.get(s);const o=transformCachableValue(s);return o!==s&&(transformCache.set(s,o),reverseTransformCache.set(o,s)),o}const unwrap=s=>reverseTransformCache.get(s);function openDB(s,o,{blocked:i,upgrade:a,blocking:$,terminated:j}={}){const _e=indexedDB.open(s,o),et=wrap(_e);return a&&_e.addEventListener("upgradeneeded",tt=>{a(wrap(_e.result),tt.oldVersion,tt.newVersion,wrap(_e.transaction))}),i&&_e.addEventListener("blocked",()=>i()),et.then(tt=>{j&&tt.addEventListener("close",()=>j()),$&&tt.addEventListener("versionchange",()=>$())}).catch(()=>{}),et}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(s,o){if(!(s instanceof IDBDatabase&&!(o in s)&&typeof o=="string"))return;if(cachedMethods.get(o))return cachedMethods.get(o);const i=o.replace(/FromIndex$/,""),a=o!==i,$=writeMethods.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!($||readMethods.includes(i)))return;const j=async function(_e,...et){const tt=this.transaction(_e,$?"readwrite":"readonly");let nt=tt.store;return a&&(nt=nt.index(et.shift())),(await Promise.all([nt[i](...et),$&&tt.done]))[0]};return cachedMethods.set(o,j),j}replaceTraps(s=>({...s,get:(o,i,a)=>getMethod(o,i)||s.get(o,i,a),has:(o,i)=>!!getMethod(o,i)||s.has(o,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(o){this.container=o}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(isVersionServiceProvider(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function isVersionServiceProvider(s){const o=s.getComponent();return(o==null?void 0:o.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$3="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(s,o){try{s.container.addComponent(o)}catch(i){logger$1.debug(`Component ${o.name} failed to register with FirebaseApp ${s.name}`,i)}}function _registerComponent(s){const o=s.name;if(_components.has(o))return logger$1.debug(`There were multiple attempts to register component ${o}.`),!1;_components.set(o,s);for(const i of _apps.values())_addComponent(i,s);return!0}function _getProvider(s,o){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(o,i,a){this._isDeleted=!1,this._options=Object.assign({},o),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(o){this.checkDestroyed(),this._automaticDataCollectionEnabled=o}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(o){this._isDeleted=o}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION$1=version$3;function initializeApp(s,o={}){let i=s;typeof o!="object"&&(o={name:o});const a=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},o),$=a.name;if(typeof $!="string"||!$)throw ERROR_FACTORY.create("bad-app-name",{appName:String($)});if(i||(i=getDefaultAppConfig()),!i)throw ERROR_FACTORY.create("no-options");const j=_apps.get($);if(j){if(deepEqual(i,j.options)&&deepEqual(a,j.config))return j;throw ERROR_FACTORY.create("duplicate-app",{appName:$})}const _e=new ComponentContainer($);for(const tt of _components.values())_e.addComponent(tt);const et=new FirebaseAppImpl(i,a,_e);return _apps.set($,et),et}function getApp(s=DEFAULT_ENTRY_NAME){const o=_apps.get(s);if(!o&&s===DEFAULT_ENTRY_NAME)return initializeApp();if(!o)throw ERROR_FACTORY.create("no-app",{appName:s});return o}function registerVersion(s,o,i){var a;let $=(a=PLATFORM_LOG_STRING[s])!==null&&a!==void 0?a:s;i&&($+=`-${i}`);const j=$.match(/\s|\//),_e=o.match(/\s|\//);if(j||_e){const et=[`Unable to register library "${$}" with version "${o}":`];j&&et.push(`library name "${$}" contains illegal characters (whitespace or "/")`),j&&_e&&et.push("and"),_e&&et.push(`version name "${o}" contains illegal characters (whitespace or "/")`),logger$1.warn(et.join(" "));return}_registerComponent(new Component(`${$}-version`,()=>({library:$,version:o}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade:(s,o)=>{switch(o){case 0:s.createObjectStore(STORE_NAME)}}}).catch(s=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:s.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(s){try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(s))}catch(o){if(o instanceof FirebaseError)logger$1.warn(o.message);else{const i=ERROR_FACTORY.create("idb-get",{originalErrorMessage:o==null?void 0:o.message});logger$1.warn(i.message)}}}async function writeHeartbeatsToIndexedDB(s,o){try{const a=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await a.objectStore(STORE_NAME).put(o,computeKey(s)),a.done}catch(i){if(i instanceof FirebaseError)logger$1.warn(i.message);else{const a=ERROR_FACTORY.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});logger$1.warn(a.message)}}}function computeKey(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(o){this.container=o,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some($=>$.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter($=>{const j=new Date($.date).valueOf();return Date.now()-j<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const o=getUTCDateString(),{heartbeatsToSend:i,unsentEntries:a}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),$=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=o,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),$}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(s,o=MAX_HEADER_BYTES){const i=[];let a=s.slice();for(const $ of s){const j=i.find(_e=>_e.agent===$.agent);if(j){if(j.dates.push($.date),countBytes(i)>o){j.dates.pop();break}}else if(i.push({agent:$.agent,dates:[$.date]}),countBytes(i)>o){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class HeartbeatStorageImpl{constructor(o){this.app=o,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(o){var i;if(await this._canUseIndexedDBPromise){const $=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(i=o.lastSentHeartbeatDate)!==null&&i!==void 0?i:$.lastSentHeartbeatDate,heartbeats:o.heartbeats})}else return}async add(o){var i;if(await this._canUseIndexedDBPromise){const $=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(i=o.lastSentHeartbeatDate)!==null&&i!==void 0?i:$.lastSentHeartbeatDate,heartbeats:[...$.heartbeats,...o.heartbeats]})}else return}}function countBytes(s){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(s){_registerComponent(new Component("platform-logger",o=>new PlatformLoggerServiceImpl(o),"PRIVATE")),_registerComponent(new Component("heartbeat",o=>new HeartbeatServiceImpl(o),"PRIVATE")),registerVersion(name$o,version$1$1,s),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");const name$2="@firebase/database",version$2="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SDK_VERSION="";function setSDKVersion(s){SDK_VERSION=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DOMStorageWrapper{constructor(o){this.domStorage_=o,this.prefix_="firebase:"}set(o,i){i==null?this.domStorage_.removeItem(this.prefixedName_(o)):this.domStorage_.setItem(this.prefixedName_(o),stringify$1(i))}get(o){const i=this.domStorage_.getItem(this.prefixedName_(o));return i==null?null:jsonEval(i)}remove(o){this.domStorage_.removeItem(this.prefixedName_(o))}prefixedName_(o){return this.prefix_+o}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(o,i){i==null?delete this.cache_[o]:this.cache_[o]=i}get(o){return contains$1(this.cache_,o)?this.cache_[o]:null}remove(o){delete this.cache_[o]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const createStoragefor=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const o=window[s];return o.setItem("firebase:sentinel","cache"),o.removeItem("firebase:sentinel"),new DOMStorageWrapper(o)}}catch{}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/database"),LUIDGenerator=function(){let s=1;return function(){return s++}}(),sha1=function(s){const o=stringToByteArray(s),i=new Sha1;i.update(o);const a=i.digest();return base64.encodeByteArray(a)},buildLogMessage_=function(...s){let o="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?o+=buildLogMessage_.apply(null,a):typeof a=="object"?o+=stringify$1(a):o+=a,o+=" "}return o};let logger=null,firstLog_=!0;const enableLogging$1=function(s,o){assert(!o||s===!0||s===!1,"Can't turn on custom loggers persistently."),s===!0?(logClient.logLevel=LogLevel.VERBOSE,logger=logClient.log.bind(logClient),o&&SessionStorage.set("logging_enabled",!0)):typeof s=="function"?logger=s:(logger=null,SessionStorage.remove("logging_enabled"))},log=function(...s){if(firstLog_===!0&&(firstLog_=!1,logger===null&&SessionStorage.get("logging_enabled")===!0&&enableLogging$1(!0)),logger){const o=buildLogMessage_.apply(null,s);logger(o)}},logWrapper=function(s){return function(...o){log(s,...o)}},error=function(...s){const o="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...s);logClient.error(o)},fatal=function(...s){const o=`FIREBASE FATAL ERROR: ${buildLogMessage_(...s)}`;throw logClient.error(o),new Error(o)},warn=function(...s){const o="FIREBASE WARNING: "+buildLogMessage_(...s);logClient.warn(o)},warnIfPageIsSecure=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(s){if(document.readyState==="complete")s();else{let o=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}o||(o=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(s,o){if(s===o)return 0;if(s===MIN_NAME||o===MAX_NAME)return-1;if(o===MIN_NAME||s===MAX_NAME)return 1;{const i=tryParseInt(s),a=tryParseInt(o);return i!==null?a!==null?i-a===0?s.length-o.length:i-a:-1:a!==null?1:s<o?-1:1}},stringCompare=function(s,o){return s===o?0:s<o?-1:1},requireKey=function(s,o){if(o&&s in o)return o[s];throw new Error("Missing required key ("+s+") in object: "+stringify$1(o))},ObjectToUniqueKey=function(s){if(typeof s!="object"||s===null)return stringify$1(s);const o=[];for(const a in s)o.push(a);o.sort();let i="{";for(let a=0;a<o.length;a++)a!==0&&(i+=","),i+=stringify$1(o[a]),i+=":",i+=ObjectToUniqueKey(s[o[a]]);return i+="}",i},splitStringBySize=function(s,o){const i=s.length;if(i<=o)return[s];const a=[];for(let $=0;$<i;$+=o)$+o>i?a.push(s.substring($,i)):a.push(s.substring($,$+o));return a};function each(s,o){for(const i in s)s.hasOwnProperty(i)&&o(i,s[i])}const doubleToIEEE754String=function(s){assert(!isInvalidJSONNumber(s),"Invalid JSON number");const o=11,i=52,a=(1<<o-1)-1;let $,j,_e,et,tt;s===0?(j=0,_e=0,$=1/s===-1/0?1:0):($=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(et=Math.min(Math.floor(Math.log(s)/Math.LN2),a),j=et+a,_e=Math.round(s*Math.pow(2,i-et)-Math.pow(2,i))):(j=0,_e=Math.round(s/Math.pow(2,1-a-i))));const nt=[];for(tt=i;tt;tt-=1)nt.push(_e%2?1:0),_e=Math.floor(_e/2);for(tt=o;tt;tt-=1)nt.push(j%2?1:0),j=Math.floor(j/2);nt.push($?1:0),nt.reverse();const ot=nt.join("");let it="";for(tt=0;tt<64;tt+=8){let st=parseInt(ot.substr(tt,8),2).toString(16);st.length===1&&(st="0"+st),it=it+st}return it.toLowerCase()},isChromeExtensionContentScript=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function errorForServerCode(s,o){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+o._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(s){if(INTEGER_REGEXP_.test(s)){const o=Number(s);if(o>=INTEGER_32_MIN&&o<=INTEGER_32_MAX)return o}return null},exceptionGuard=function(s){try{s()}catch(o){setTimeout(()=>{const i=o.stack||"";throw warn("Exception was thrown by user callback.",i),o},Math.floor(0))}},beingCrawled=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(s,o){const i=setTimeout(s,o);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckTokenProvider{constructor(o,i){this.appName_=o,this.appCheckProvider=i,this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a)}getToken(o){return this.appCheck?this.appCheck.getToken(o):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(o).then(i,a):i(null)},0)})}addTokenChangeListener(o){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(a=>a.addTokenListener(o))}notifyForInvalidToken(){warn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAuthTokenProvider{constructor(o,i,a){this.appName_=o,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit($=>this.auth_=$)}getToken(o){return this.auth_?this.auth_.getToken(o).catch(i=>i&&i.code==="auth/token-not-initialized"?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(o).then(i,a):i(null)},0)})}addTokenChangeListener(o){this.auth_?this.auth_.addAuthTokenListener(o):this.authProvider_.get().then(i=>i.addAuthTokenListener(o))}removeTokenChangeListener(o){this.authProvider_.get().then(i=>i.removeAuthTokenListener(o))}notifyForInvalidToken(){let o='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?o+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?o+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':o+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn(o)}}class EmulatorTokenProvider{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RepoInfo{constructor(o,i,a,$,j=!1,_e="",et=!1){this.secure=i,this.namespace=a,this.webSocketOnly=$,this.nodeAdmin=j,this.persistenceKey=_e,this.includeNamespaceInQueryParams=et,this._host=o.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+o)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(o){o!==this.internalHost&&(this.internalHost=o,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let o=this.toURLString();return this.persistenceKey&&(o+="<"+this.persistenceKey+">"),o}toURLString(){const o=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${o}${this.host}/${i}`}}function repoInfoNeedsQueryParam(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function repoInfoConnectionURL(s,o,i){assert(typeof o=="string","typeof type must == string"),assert(typeof i=="object","typeof params must == object");let a;if(o===WEBSOCKET)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(o===LONG_POLLING)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+o);repoInfoNeedsQueryParam(s)&&(i.ns=s.namespace);const $=[];return each(i,(j,_e)=>{$.push(j+"="+_e)}),a+$.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsCollection{constructor(){this.counters_={}}incrementCounter(o,i=1){contains$1(this.counters_,o)||(this.counters_[o]=0),this.counters_[o]+=i}get(){return deepCopy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const collections={},reporters={};function statsManagerGetCollection(s){const o=s.toString();return collections[o]||(collections[o]=new StatsCollection),collections[o]}function statsManagerGetOrCreateReporter(s,o){const i=s.toString();return reporters[i]||(reporters[i]=o()),reporters[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PacketReceiver{constructor(o){this.onMessage_=o,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(o,i){this.closeAfterResponse=o,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(o,i){for(this.pendingResponses[o]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let $=0;$<a.length;++$)a[$]&&exceptionGuard(()=>{this.onMessage_(a[$])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(o,i,a,$,j,_e,et){this.connId=o,this.repoInfo=i,this.applicationId=a,this.appCheckToken=$,this.authToken=j,this.transportSessionId=_e,this.lastSessionId=et,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(o),this.stats_=statsManagerGetCollection(i),this.urlFn=tt=>(this.appCheckToken&&(tt[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(i,LONG_POLLING,tt))}open(o,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new PacketReceiver(o),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...j)=>{const[_e,et,tt,nt,ot]=j;if(this.incrementIncomingBytes_(j),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,_e===FIREBASE_LONGPOLL_START_PARAM)this.id=et,this.password=tt;else if(_e===FIREBASE_LONGPOLL_CLOSE_COMMAND)et?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(et,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+_e)},(...j)=>{const[_e,et]=j;this.incrementIncomingBytes_(j),this.myPacketOrderer.handleResponse(_e,et)},()=>{this.onClosed_()},this.urlFn);const a={};a[FIREBASE_LONGPOLL_START_PARAM]="t",a[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),a[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(a[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(a[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(a[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(a[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(a[REFERER_PARAM]=FORGE_REF);const $=this.urlFn(a);this.log_("Connecting via long-poll to "+$),this.scriptTagHolder.addTag($,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return BrowserPollConnection.forceAllow_?!0:!BrowserPollConnection.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(o){const i=stringify$1(o);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=base64Encode(i),$=splitStringBySize(a,MAX_PAYLOAD_SIZE);for(let j=0;j<$.length;j++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,$.length,$[j]),this.curSegmentNum++}addDisconnectPingFrame(o,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",a[FIREBASE_LONGPOLL_ID_PARAM]=o,a[FIREBASE_LONGPOLL_PW_PARAM]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(o){const i=stringify$1(o).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class FirebaseIFrameScriptHolder{constructor(o,i,a,$){this.onDisconnect=a,this.urlFn=$,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=o,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=i,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let j="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(j='<script>document.domain="'+document.domain+'";<\/script>');const _e="<html><body>"+j+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(_e),this.myIFrame.doc.close()}catch(et){log("frame writing exception"),et.stack&&log(et.stack),log(et)}}}static createIFrame_(){const o=document.createElement("iframe");if(o.style.display="none",document.body){document.body.appendChild(o);try{o.contentWindow.document||log("No IE domain setting required")}catch{const a=document.domain;o.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return o.contentDocument?o.doc=o.contentDocument:o.contentWindow?o.doc=o.contentWindow.document:o.document&&(o.doc=o.document),o}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const o=this.onDisconnect;o&&(this.onDisconnect=null,o())}startLongPoll(o,i){for(this.myID=o,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const o={};o[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,o[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,o[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let i=this.urlFn(o),a="",$=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SEG_HEADER_SIZE+a.length<=MAX_URL_DATA_SIZE;){const _e=this.pendingSegs.shift();a=a+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+$+"="+_e.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+$+"="+_e.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+$+"="+_e.d,$++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(o,i,a){this.pendingSegs.push({seg:o,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(o,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},$=setTimeout(a,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),j=()=>{clearTimeout($),a()};this.addTag(o,j)}addTag(o,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=o,a.onload=a.onreadystatechange=function(){const $=a.readyState;(!$||$==="loaded"||$==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{log("Long-poll script failed to load: "+o),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;typeof MozWebSocket<"u"?WebSocketImpl=MozWebSocket:typeof WebSocket<"u"&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(o,i,a,$,j,_e,et){this.connId=o,this.applicationId=a,this.appCheckToken=$,this.authToken=j,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(i),this.connURL=WebSocketConnection.connectionURL_(i,_e,et,$,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(o,i,a,$,j){const _e={};return _e[VERSION_PARAM]=PROTOCOL_VERSION,typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(_e[REFERER_PARAM]=FORGE_REF),i&&(_e[TRANSPORT_SESSION_PARAM]=i),a&&(_e[LAST_SESSION_PARAM]=a),$&&(_e[APP_CHECK_TOKEN_PARAM]=$),j&&(_e[APPLICATION_ID_PARAM]=j),repoInfoConnectionURL(o,WEBSOCKET,_e)}open(o,i){this.onDisconnect=i,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let a;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const $=a.message||a.data;$&&this.log_($),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const $=a.message||a.data;$&&this.log_($),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(o=!0)}return!o&&WebSocketImpl!==null&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||PersistentStorage.get("previous_websocket_failure")===!0}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=jsonEval(i);this.onMessage(a)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if(assert(this.frames===null,"We already have a frame buffer"),o.length<=6){const i=Number(o);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(this.mySock===null)return;const i=o.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(o){this.resetKeepAlive();const i=stringify$1(o);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=splitStringBySize(i,WEBSOCKET_MAX_FRAME_SIZE);a.length>1&&this.sendString_(String(a.length));for(let $=0;$<a.length;$++)this.sendString_(a[$])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(o){try{this.mySock.send(o)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2;WebSocketConnection.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransportManager{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const i=WebSocketConnection&&WebSocketConnection.isAvailable();let a=i&&!WebSocketConnection.previouslyFailed();if(o.webSocketOnly&&(i||warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[WebSocketConnection];else{const $=this.transports_=[];for(const j of TransportManager.ALL_TRANSPORTS)j&&j.isAvailable()&&$.push(j);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10*1024,BYTES_RECEIVED_HEALTHY_OVERRIDE=100*1024,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(o,i,a,$,j,_e,et,tt,nt,ot){this.id=o,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=$,this.authToken_=j,this.onMessage_=_e,this.onReady_=et,this.onDisconnect_=tt,this.onKill_=nt,this.lastSessionId=ot,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(i),this.log_("Connection created"),this.start_()}start_(){const o=this.transportManager_.initialTransport();this.conn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const $=o.healthyTimeout||0;$>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor($)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(o){return i=>{o===this.conn_?this.onConnectionLost_(i):o===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(o){return i=>{this.state_!==2&&(o===this.rx_?this.onPrimaryMessageReceived_(i):o===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(o){const i={t:"d",d:o};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(o){if(MESSAGE_TYPE in o){const i=o[MESSAGE_TYPE];i===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():i===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(o){const i=requireKey("t",o),a=requireKey("d",o);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(o){const i=requireKey("t",o),a=requireKey("d",o);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(o){this.onPrimaryResponse_(),this.onMessage_(o)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(o){const i=requireKey(MESSAGE_TYPE,o);if(MESSAGE_DATA in o){const a=o[MESSAGE_DATA];if(i===SERVER_HELLO)this.onHandshake_(a);else if(i===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let $=0;$<this.pendingDataMessages.length;++$)this.onDataMessage_(this.pendingDataMessages[$]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===CONTROL_SHUTDOWN?this.onConnectionShutdown_(a):i===CONTROL_RESET?this.onReset_(a):i===CONTROL_ERROR?error("Server Error: "+a):i===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+i)}}onHandshake_(o){const i=o.ts,a=o.v,$=o.h;this.sessionId=o.s,this.repoInfo_.host=$,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),PROTOCOL_VERSION!==a&&warn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const o=this.transportManager_.upgradeTransport();o&&this.startUpgrade_(o)}startUpgrade_(o){this.secondaryConn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(o){this.log_("Reset packet received.  New host: "+o),this.repoInfo_.host=o,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(o,i){this.log_("Realtime connection established."),this.conn_=o,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const o=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===o||this.rx_===o)&&this.close()}onConnectionLost_(o){this.conn_=null,!o&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(o){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(o),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(o){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(o)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ServerActions{put(o,i,a,$){}merge(o,i,a,$){}refreshAuthToken(o){}refreshAppCheckToken(o){}onDisconnectPut(o,i,a){}onDisconnectMerge(o,i,a){}onDisconnectCancel(o,i){}reportStats(o){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventEmitter{constructor(o){this.allowedEvents_=o,this.listeners_={},assert(Array.isArray(o)&&o.length>0,"Requires a non-empty array")}trigger(o,...i){if(Array.isArray(this.listeners_[o])){const a=[...this.listeners_[o]];for(let $=0;$<a.length;$++)a[$].callback.apply(a[$].context,i)}}on(o,i,a){this.validateEventType_(o),this.listeners_[o]=this.listeners_[o]||[],this.listeners_[o].push({callback:i,context:a});const $=this.getInitialEvent(o);$&&i.apply(a,$)}off(o,i,a){this.validateEventType_(o);const $=this.listeners_[o]||[];for(let j=0;j<$.length;j++)if($[j].callback===i&&(!a||a===$[j].context)){$.splice(j,1);return}}validateEventType_(o){assert(this.allowedEvents_.find(i=>i===o),"Unknown event: "+o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnlineMonitor extends EventEmitter{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OnlineMonitor}getInitialEvent(o){return assert(o==="online","Unknown event type: "+o),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;class Path{constructor(o,i){if(i===void 0){this.pieces_=o.split("/");let a=0;for(let $=0;$<this.pieces_.length;$++)this.pieces_[$].length>0&&(this.pieces_[a]=this.pieces_[$],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=o,this.pieceNum_=i}toString(){let o="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(o+="/"+this.pieces_[i]);return o||"/"}}function newEmptyPath(){return new Path("")}function pathGetFront(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function pathGetLength(s){return s.pieces_.length-s.pieceNum_}function pathPopFront(s){let o=s.pieceNum_;return o<s.pieces_.length&&o++,new Path(s.pieces_,o)}function pathGetBack(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function pathToUrlEncodedString(s){let o="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(o+="/"+encodeURIComponent(String(s.pieces_[i])));return o||"/"}function pathSlice(s,o=0){return s.pieces_.slice(s.pieceNum_+o)}function pathParent(s){if(s.pieceNum_>=s.pieces_.length)return null;const o=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)o.push(s.pieces_[i]);return new Path(o,0)}function pathChild(s,o){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(o instanceof Path)for(let a=o.pieceNum_;a<o.pieces_.length;a++)i.push(o.pieces_[a]);else{const a=o.split("/");for(let $=0;$<a.length;$++)a[$].length>0&&i.push(a[$])}return new Path(i,0)}function pathIsEmpty(s){return s.pieceNum_>=s.pieces_.length}function newRelativePath(s,o){const i=pathGetFront(s),a=pathGetFront(o);if(i===null)return o;if(i===a)return newRelativePath(pathPopFront(s),pathPopFront(o));throw new Error("INTERNAL ERROR: innerPath ("+o+") is not within outerPath ("+s+")")}function pathCompare(s,o){const i=pathSlice(s,0),a=pathSlice(o,0);for(let $=0;$<i.length&&$<a.length;$++){const j=nameCompare(i[$],a[$]);if(j!==0)return j}return i.length===a.length?0:i.length<a.length?-1:1}function pathEquals(s,o){if(pathGetLength(s)!==pathGetLength(o))return!1;for(let i=s.pieceNum_,a=o.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==o.pieces_[a])return!1;return!0}function pathContains(s,o){let i=s.pieceNum_,a=o.pieceNum_;if(pathGetLength(s)>pathGetLength(o))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==o.pieces_[a])return!1;++i,++a}return!0}class ValidationPath{constructor(o,i){this.errorPrefix_=i,this.parts_=pathSlice(o,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=stringLength(this.parts_[a]);validationPathCheckValid(this)}}function validationPathPush(s,o){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(o),s.byteLength_+=stringLength(o),validationPathCheckValid(s)}function validationPathPop(s){const o=s.parts_.pop();s.byteLength_-=stringLength(o),s.parts_.length>0&&(s.byteLength_-=1)}function validationPathCheckValid(s){if(s.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(s.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+s.byteLength_+").");if(s.parts_.length>MAX_PATH_DEPTH)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(s))}function validationPathToErrorString(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VisibilityMonitor extends EventEmitter{constructor(){super(["visible"]);let o,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",o="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",o="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",o="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",o="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[o];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent(o){return assert(o==="visible","Unknown event type: "+o),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=60*5*1e3,RECONNECT_MAX_DELAY_FOR_ADMINS=30*1e3,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(o,i,a,$,j,_e,et,tt){if(super(),this.repoInfo_=o,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=$,this.onServerInfoUpdate_=j,this.authTokenProvider_=_e,this.appCheckTokenProvider_=et,this.authOverride_=tt,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,tt&&!isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),o.host.indexOf("fblocal")===-1&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(o,i,a){const $=++this.requestNumber_,j={r:$,a:o,b:i};this.log_(stringify$1(j)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(j),a&&(this.requestCBHash_[$]=a)}get(o){this.initConnection_();const i=new Deferred,$={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:_e=>{const et=_e.d;_e.s==="ok"?i.resolve(et):i.reject(et)}};this.outstandingGets_.push($),this.outstandingGetCount_++;const j=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(j),i.promise}listen(o,i,a,$){this.initConnection_();const j=o._queryIdentifier,_e=o._path.toString();this.log_("Listen called for "+_e+" "+j),this.listens.has(_e)||this.listens.set(_e,new Map),assert(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(_e).has(j),"listen() called twice for same path/queryId.");const et={onComplete:$,hashFn:i,query:o,tag:a};this.listens.get(_e).set(j,et),this.connected_&&this.sendListen_(et)}sendGet_(o){const i=this.outstandingGets_[o];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(o){const i=o.query,a=i._path.toString(),$=i._queryIdentifier;this.log_("Listen on "+a+" for "+$);const j={p:a},_e="q";o.tag&&(j.q=i._queryObject,j.t=o.tag),j.h=o.hashFn(),this.sendRequest(_e,j,et=>{const tt=et.d,nt=et.s;PersistentConnection.warnOnListenWarnings_(tt,i),(this.listens.get(a)&&this.listens.get(a).get($))===o&&(this.log_("listen response",et),nt!=="ok"&&this.removeListen_(a,$),o.onComplete&&o.onComplete(nt,tt))})}static warnOnListenWarnings_(o,i){if(o&&typeof o=="object"&&contains$1(o,"w")){const a=safeGet(o,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const $='".indexOn": "'+i._queryParams.getIndex().toString()+'"',j=i._path.toString();warn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${$} at ${j} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&o.length===40||isAdmin(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,i=isValidFormat(o)?"auth":"gauth",a={cred:o};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,$=>{const j=$.s,_e=$.d||"error";this.authToken_===o&&(j==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(j,_e))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const i=o.s,a=o.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(o,i){const a=o._path.toString(),$=o._queryIdentifier;this.log_("Unlisten called for "+a+" "+$),assert(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,$)&&this.connected_&&this.sendUnlisten_(a,$,o._queryObject,i)}sendUnlisten_(o,i,a,$){this.log_("Unlisten on "+o+" for "+i);const j={p:o},_e="n";$&&(j.q=a,j.t=$),this.sendRequest(_e,j)}onDisconnectPut(o,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,i,a):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:i,onComplete:a})}onDisconnectMerge(o,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,i,a):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:i,onComplete:a})}onDisconnectCancel(o,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,i):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(o,i,a,$){const j={p:i,d:a};this.log_("onDisconnect "+o,j),this.sendRequest(o,j,_e=>{$&&setTimeout(()=>{$(_e.s,_e.d)},Math.floor(0))})}put(o,i,a,$){this.putInternal("p",o,i,a,$)}merge(o,i,a,$){this.putInternal("m",o,i,a,$)}putInternal(o,i,a,$,j){this.initConnection_();const _e={p:i,d:a};j!==void 0&&(_e.h=j),this.outstandingPuts_.push({action:o,request:_e,onComplete:$}),this.outstandingPutCount_++;const et=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(et):this.log_("Buffering put: "+i)}sendPut_(o){const i=this.outstandingPuts_[o].action,a=this.outstandingPuts_[o].request,$=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(i,a,j=>{this.log_(i+" response",j),delete this.outstandingPuts_[o],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),$&&$(j.s,j.d)})}reportStats(o){if(this.connected_){const i={c:o};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const j=a.d;this.log_("reportStats","Error sending stats: "+j)}})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+stringify$1(o));const i=o.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,i){this.log_("handleServerMessage",o,i),o==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):o==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):o==="c"?this.onListenRevoked_(i.p,i.q):o==="ac"?this.onAuthRevoked_(i.s,i.d):o==="apc"?this.onAppCheckRevoked_(i.s,i.d):o==="sd"?this.onSecurityDebugPacket_(i):error("Unrecognized action received from server: "+stringify$1(o)+`
Are you using the latest client?`)}onReady_(o,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(o),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const o=new Date().getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-o);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const o=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),$=this.id+":"+PersistentConnection.nextConnectionId_++,j=this.lastSessionId;let _e=!1,et=null;const tt=function(){et?et.close():(_e=!0,a())},nt=function(it){assert(et,"sendRequest call when we're not connected not allowed."),et.sendRequest(it)};this.realtime_={close:tt,sendRequest:nt};const ot=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[it,st]=await Promise.all([this.authTokenProvider_.getToken(ot),this.appCheckTokenProvider_.getToken(ot)]);_e?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=it&&it.accessToken,this.appCheckToken_=st&&st.token,et=new Connection($,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,o,i,a,ut=>{warn(ut+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},j))}catch(it){this.log_("Failed to get token: "+it),_e||(this.repoInfo_.nodeAdmin&&warn(it),tt())}}}interrupt(o){log("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){log("Resuming connection for reason: "+o),delete this.interruptReasons_[o],isEmpty$5(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const i=o-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const i=this.outstandingPuts_[o];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(o,i){let a;i?a=i.map(j=>ObjectToUniqueKey(j)).join("$"):a="default";const $=this.removeListen_(o,a);$&&$.onComplete&&$.onComplete("permission_denied")}removeListen_(o,i){const a=new Path(o).toString();let $;if(this.listens.has(a)){const j=this.listens.get(a);$=j.get(i),j.delete(i),j.size===0&&this.listens.delete(a)}else $=void 0;return $}onAuthRevoked_(o,i){log("Auth token revoked: "+o+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(o==="invalid_token"||o==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,i){log("App check token revoked: "+o+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(o==="invalid_token"||o==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const i of o.values())this.sendListen_(i);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let i="js";o["sdk."+i+"."+SDK_VERSION.replace(/\./g,"-")]=1,isMobileCordova()?o["framework.cordova"]=1:isReactNative()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=OnlineMonitor.getInstance().currentlyOnline();return isEmpty$5(this.interruptReasons_)&&o}}PersistentConnection.nextPersistentConnectionId_=0;PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NamedNode{constructor(o,i){this.name=o,this.node=i}static Wrap(o,i){return new NamedNode(o,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(o,i){const a=new NamedNode(MIN_NAME,o),$=new NamedNode(MIN_NAME,i);return this.compare(a,$)!==0}minPost(){return NamedNode.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __EMPTY_NODE;class KeyIndex extends Index{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(o){__EMPTY_NODE=o}compare(o,i){return nameCompare(o.name,i.name)}isDefinedOn(o){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(o,i){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(o,i){return assert(typeof o=="string","KeyIndex indexValue must always be a string."),new NamedNode(o,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMapIterator{constructor(o,i,a,$,j=null){this.isReverse_=$,this.resultGenerator_=j,this.nodeStack_=[];let _e=1;for(;!o.isEmpty();)if(o=o,_e=i?a(o.key,i):1,$&&(_e*=-1),_e<0)this.isReverse_?o=o.left:o=o.right;else if(_e===0){this.nodeStack_.push(o);break}else this.nodeStack_.push(o),this.isReverse_?o=o.right:o=o.left}getNext(){if(this.nodeStack_.length===0)return null;let o=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(o.key,o.value):i={key:o.key,value:o.value},this.isReverse_)for(o=o.left;!o.isEmpty();)this.nodeStack_.push(o),o=o.right;else for(o=o.right;!o.isEmpty();)this.nodeStack_.push(o),o=o.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const o=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(o.key,o.value):{key:o.key,value:o.value}}}class LLRBNode{constructor(o,i,a,$,j){this.key=o,this.value=i,this.color=a??LLRBNode.RED,this.left=$??SortedMap.EMPTY_NODE,this.right=j??SortedMap.EMPTY_NODE}copy(o,i,a,$,j){return new LLRBNode(o??this.key,i??this.value,a??this.color,$??this.left,j??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,i,a){let $=this;const j=a(o,$.key);return j<0?$=$.copy(null,null,null,$.left.insert(o,i,a),null):j===0?$=$.copy(null,i,null,null,null):$=$.copy(null,null,null,null,$.right.insert(o,i,a)),$.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,i){let a,$;if(a=this,i(o,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(o,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(o,a.key)===0){if(a.right.isEmpty())return SortedMap.EMPTY_NODE;$=a.right.min_(),a=a.copy($.key,$.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(o,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,i)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}LLRBNode.RED=!0;LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(o,i,a,$,j){return this}insert(o,i,a){return new LLRBNode(o,i,null)}remove(o,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(o,i=SortedMap.EMPTY_NODE){this.comparator_=o,this.root_=i}insert(o,i){return new SortedMap(this.comparator_,this.root_.insert(o,i,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(o){return new SortedMap(this.comparator_,this.root_.remove(o,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(o){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(o,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(o){let i,a=this.root_,$=null;for(;!a.isEmpty();)if(i=this.comparator_(o,a.key),i===0){if(a.left.isEmpty())return $?$.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&($=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(o){return this.root_.inorderTraversal(o)}reverseTraversal(o){return this.root_.reverseTraversal(o)}getIterator(o){return new SortedMapIterator(this.root_,null,this.comparator_,!1,o)}getIteratorFrom(o,i){return new SortedMapIterator(this.root_,o,this.comparator_,!1,i)}getReverseIteratorFrom(o,i){return new SortedMapIterator(this.root_,o,this.comparator_,!0,i)}getReverseIterator(o){return new SortedMapIterator(this.root_,null,this.comparator_,!0,o)}}SortedMap.EMPTY_NODE=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR(s,o){return nameCompare(s.name,o.name)}function NAME_COMPARATOR(s,o){return nameCompare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MAX_NODE$2;function setMaxNode$1(s){MAX_NODE$2=s}const priorityHashText=function(s){return typeof s=="number"?"number:"+doubleToIEEE754String(s):"string:"+s},validatePriorityNode=function(s){if(s.isLeafNode()){const o=s.val();assert(typeof o=="string"||typeof o=="number"||typeof o=="object"&&contains$1(o,".sv"),"Priority must be a string or number.")}else assert(s===MAX_NODE$2||s.isEmpty(),"priority of unexpected type.");assert(s===MAX_NODE$2||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __childrenNodeConstructor;class LeafNode{constructor(o,i=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=i,this.lazyHash_=null,assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}static set __childrenNodeConstructor(o){__childrenNodeConstructor=o}static get __childrenNodeConstructor(){return __childrenNodeConstructor}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new LeafNode(this.value_,o)}getImmediateChild(o){return o===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return pathIsEmpty(o)?this:pathGetFront(o)===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,i){return null}updateImmediateChild(o,i){return o===".priority"?this.updatePriority(i):i.isEmpty()&&o!==".priority"?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,i).updatePriority(this.priorityNode_)}updateChild(o,i){const a=pathGetFront(o);return a===null?i:i.isEmpty()&&a!==".priority"?this:(assert(a!==".priority"||pathGetLength(o)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(o),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,i){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+priorityHashText(this.priorityNode_.val())+":");const i=typeof this.value_;o+=i+":",i==="number"?o+=doubleToIEEE754String(this.value_):o+=this.value_,this.lazyHash_=sha1(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof LeafNode.__childrenNodeConstructor?-1:(assert(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const i=typeof o.value_,a=typeof this.value_,$=LeafNode.VALUE_TYPE_ORDER.indexOf(i),j=LeafNode.VALUE_TYPE_ORDER.indexOf(a);return assert($>=0,"Unknown leaf type: "+i),assert(j>=0,"Unknown leaf type: "+a),$===j?a==="object"?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:j-$}withIndex(){return this}isIndexed(){return!0}equals(o){if(o===this)return!0;if(o.isLeafNode()){const i=o;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON(s){nodeFromJSON$1=s}function setMaxNode(s){MAX_NODE$1=s}class PriorityIndex extends Index{compare(o,i){const a=o.node.getPriority(),$=i.node.getPriority(),j=a.compareTo($);return j===0?nameCompare(o.name,i.name):j}isDefinedOn(o){return!o.getPriority().isEmpty()}indexedValueChanged(o,i){return!o.getPriority().equals(i.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(o,i){const a=nodeFromJSON$1(o);return new NamedNode(i,new LeafNode("[PRIORITY-POST]",a))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOG_2=Math.log(2);class Base12Num{constructor(o){const i=j=>parseInt(Math.log(j)/LOG_2,10),a=j=>parseInt(Array(j+1).join("1"),2);this.count=i(o+1),this.current_=this.count-1;const $=a(this.count);this.bits_=o+1&$}nextBitIsOne(){const o=!(this.bits_&1<<this.current_);return this.current_--,o}}const buildChildSet=function(s,o,i,a){s.sort(o);const $=function(tt,nt){const ot=nt-tt;let it,st;if(ot===0)return null;if(ot===1)return it=s[tt],st=i?i(it):it,new LLRBNode(st,it.node,LLRBNode.BLACK,null,null);{const ut=parseInt(ot/2,10)+tt,lt=$(tt,ut),rt=$(ut+1,nt);return it=s[ut],st=i?i(it):it,new LLRBNode(st,it.node,LLRBNode.BLACK,lt,rt)}},j=function(tt){let nt=null,ot=null,it=s.length;const st=function(lt,rt){const dt=it-lt,ct=it;it-=lt;const pt=$(dt+1,ct),at=s[dt],ht=i?i(at):at;ut(new LLRBNode(ht,at.node,rt,null,pt))},ut=function(lt){nt?(nt.left=lt,nt=lt):(ot=lt,nt=lt)};for(let lt=0;lt<tt.count;++lt){const rt=tt.nextBitIsOne(),dt=Math.pow(2,tt.count-(lt+1));rt?st(dt,LLRBNode.BLACK):(st(dt,LLRBNode.BLACK),st(dt,LLRBNode.RED))}return ot},_e=new Base12Num(s.length),et=j(_e);return new SortedMap(a||o,et)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _defaultIndexMap;const fallbackObject={};class IndexMap{constructor(o,i){this.indexes_=o,this.indexSet_=i}static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}get(o){const i=safeGet(this.indexes_,o);if(!i)throw new Error("No index defined for "+o);return i instanceof SortedMap?i:null}hasIndex(o){return contains$1(this.indexSet_,o.toString())}addIndex(o,i){assert(o!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let $=!1;const j=i.getIterator(NamedNode.Wrap);let _e=j.getNext();for(;_e;)$=$||o.isDefinedOn(_e.node),a.push(_e),_e=j.getNext();let et;$?et=buildChildSet(a,o.getCompare()):et=fallbackObject;const tt=o.toString(),nt=Object.assign({},this.indexSet_);nt[tt]=o;const ot=Object.assign({},this.indexes_);return ot[tt]=et,new IndexMap(ot,nt)}addToIndexes(o,i){const a=map(this.indexes_,($,j)=>{const _e=safeGet(this.indexSet_,j);if(assert(_e,"Missing index implementation for "+j),$===fallbackObject)if(_e.isDefinedOn(o.node)){const et=[],tt=i.getIterator(NamedNode.Wrap);let nt=tt.getNext();for(;nt;)nt.name!==o.name&&et.push(nt),nt=tt.getNext();return et.push(o),buildChildSet(et,_e.getCompare())}else return fallbackObject;else{const et=i.get(o.name);let tt=$;return et&&(tt=tt.remove(new NamedNode(o.name,et))),tt.insert(o,o.node)}});return new IndexMap(a,this.indexSet_)}removeFromIndexes(o,i){const a=map(this.indexes_,$=>{if($===fallbackObject)return $;{const j=i.get(o.name);return j?$.remove(new NamedNode(o.name,j)):$}});return new IndexMap(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EMPTY_NODE;class ChildrenNode{constructor(o,i,a){this.children_=o,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(o){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,o,this.indexMap_)}getImmediateChild(o){if(o===".priority")return this.getPriority();{const i=this.children_.get(o);return i===null?EMPTY_NODE:i}}getChild(o){const i=pathGetFront(o);return i===null?this:this.getImmediateChild(i).getChild(pathPopFront(o))}hasChild(o){return this.children_.get(o)!==null}updateImmediateChild(o,i){if(assert(i,"We should always be passing snapshot nodes"),o===".priority")return this.updatePriority(i);{const a=new NamedNode(o,i);let $,j;i.isEmpty()?($=this.children_.remove(o),j=this.indexMap_.removeFromIndexes(a,this.children_)):($=this.children_.insert(o,i),j=this.indexMap_.addToIndexes(a,this.children_));const _e=$.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode($,_e,j)}}updateChild(o,i){const a=pathGetFront(o);if(a===null)return i;{assert(pathGetFront(o)!==".priority"||pathGetLength(o)===1,".priority must be the last token in a path");const $=this.getImmediateChild(a).updateChild(pathPopFront(o),i);return this.updateImmediateChild(a,$)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const i={};let a=0,$=0,j=!0;if(this.forEachChild(PRIORITY_INDEX,(_e,et)=>{i[_e]=et.val(o),a++,j&&ChildrenNode.INTEGER_REGEXP_.test(_e)?$=Math.max($,Number(_e)):j=!1}),!o&&j&&$<2*a){const _e=[];for(const et in i)_e[et]=i[et];return _e}else return o&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let o="";this.getPriority().isEmpty()||(o+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(i,a)=>{const $=a.hash();$!==""&&(o+=":"+i+":"+$)}),this.lazyHash_=o===""?"":sha1(o)}return this.lazyHash_}getPredecessorChildName(o,i,a){const $=this.resolveIndex_(a);if($){const j=$.getPredecessorKey(new NamedNode(o,i));return j?j.name:null}else return this.children_.getPredecessorKey(o)}getFirstChildName(o){const i=this.resolveIndex_(o);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(o){const i=this.getFirstChildName(o);return i?new NamedNode(i,this.children_.get(i)):null}getLastChildName(o){const i=this.resolveIndex_(o);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(o){const i=this.getLastChildName(o);return i?new NamedNode(i,this.children_.get(i)):null}forEachChild(o,i){const a=this.resolveIndex_(o);return a?a.inorderTraversal($=>i($.name,$.node)):this.children_.inorderTraversal(i)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(o,$=>$);{const $=this.children_.getIteratorFrom(o.name,NamedNode.Wrap);let j=$.peek();for(;j!=null&&i.compare(j,o)<0;)$.getNext(),j=$.peek();return $}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(o,$=>$);{const $=this.children_.getReverseIteratorFrom(o.name,NamedNode.Wrap);let j=$.peek();for(;j!=null&&i.compare(j,o)>0;)$.getNext(),j=$.peek();return $}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===MAX_NODE?-1:0}withIndex(o){if(o===KEY_INDEX||this.indexMap_.hasIndex(o))return this;{const i=this.indexMap_.addIndex(o,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,i)}}isIndexed(o){return o===KEY_INDEX||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const i=o;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(PRIORITY_INDEX),$=i.getIterator(PRIORITY_INDEX);let j=a.getNext(),_e=$.getNext();for(;j&&_e;){if(j.name!==_e.name||!j.node.equals(_e.node))return!1;j=a.getNext(),_e=$.getNext()}return j===null&&_e===null}else return!1;else return!1}}resolveIndex_(o){return o===KEY_INDEX?null:this.indexMap_.get(o.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(o){return o===this?0:1}equals(o){return o===this}getPriority(){return this}getImmediateChild(o){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}});KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE;LeafNode.__childrenNodeConstructor=ChildrenNode;setMaxNode$1(MAX_NODE);setMaxNode(MAX_NODE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USE_HINZE=!0;function nodeFromJSON(s,o=null){if(s===null)return ChildrenNode.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(o=s[".priority"]),assert(o===null||typeof o=="string"||typeof o=="number"||typeof o=="object"&&".sv"in o,"Invalid priority type found: "+typeof o),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new LeafNode(i,nodeFromJSON(o))}if(!(s instanceof Array)&&USE_HINZE){const i=[];let a=!1;if(each(s,(_e,et)=>{if(_e.substring(0,1)!=="."){const tt=nodeFromJSON(et);tt.isEmpty()||(a=a||!tt.getPriority().isEmpty(),i.push(new NamedNode(_e,tt)))}}),i.length===0)return ChildrenNode.EMPTY_NODE;const j=buildChildSet(i,NAME_ONLY_COMPARATOR,_e=>_e.name,NAME_COMPARATOR);if(a){const _e=buildChildSet(i,PRIORITY_INDEX.getCompare());return new ChildrenNode(j,nodeFromJSON(o),new IndexMap({".priority":_e},{".priority":PRIORITY_INDEX}))}else return new ChildrenNode(j,nodeFromJSON(o),IndexMap.Default)}else{let i=ChildrenNode.EMPTY_NODE;return each(s,(a,$)=>{if(contains$1(s,a)&&a.substring(0,1)!=="."){const j=nodeFromJSON($);(j.isLeafNode()||!j.isEmpty())&&(i=i.updateImmediateChild(a,j))}}),i.updatePriority(nodeFromJSON(o))}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PathIndex extends Index{constructor(o){super(),this.indexPath_=o,assert(!pathIsEmpty(o)&&pathGetFront(o)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(o){return o.getChild(this.indexPath_)}isDefinedOn(o){return!o.getChild(this.indexPath_).isEmpty()}compare(o,i){const a=this.extractChild(o.node),$=this.extractChild(i.node),j=a.compareTo($);return j===0?nameCompare(o.name,i.name):j}makePost(o,i){const a=nodeFromJSON(o),$=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,a);return new NamedNode(i,$)}maxPost(){const o=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,o)}toString(){return pathSlice(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ValueIndex extends Index{compare(o,i){const a=o.node.compareTo(i.node);return a===0?nameCompare(o.name,i.name):a}isDefinedOn(o){return!0}indexedValueChanged(o,i){return!o.equals(i)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(o,i){const a=nodeFromJSON(o);return new NamedNode(i,a)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue(s){return{type:"value",snapshotNode:s}}function changeChildAdded(s,o){return{type:"child_added",snapshotNode:o,childName:s}}function changeChildRemoved(s,o){return{type:"child_removed",snapshotNode:o,childName:s}}function changeChildChanged(s,o,i){return{type:"child_changed",snapshotNode:o,childName:s,oldSnap:i}}function changeChildMoved(s,o){return{type:"child_moved",snapshotNode:o,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedFilter{constructor(o){this.index_=o}updateChild(o,i,a,$,j,_e){assert(o.isIndexed(this.index_),"A node must be indexed if only a child is updated");const et=o.getImmediateChild(i);return et.getChild($).equals(a.getChild($))&&et.isEmpty()===a.isEmpty()||(_e!=null&&(a.isEmpty()?o.hasChild(i)?_e.trackChildChange(changeChildRemoved(i,et)):assert(o.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):et.isEmpty()?_e.trackChildChange(changeChildAdded(i,a)):_e.trackChildChange(changeChildChanged(i,a,et))),o.isLeafNode()&&a.isEmpty())?o:o.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(o,i,a){return a!=null&&(o.isLeafNode()||o.forEachChild(PRIORITY_INDEX,($,j)=>{i.hasChild($)||a.trackChildChange(changeChildRemoved($,j))}),i.isLeafNode()||i.forEachChild(PRIORITY_INDEX,($,j)=>{if(o.hasChild($)){const _e=o.getImmediateChild($);_e.equals(j)||a.trackChildChange(changeChildChanged($,j,_e))}else a.trackChildChange(changeChildAdded($,j))})),i.withIndex(this.index_)}updatePriority(o,i){return o.isEmpty()?ChildrenNode.EMPTY_NODE:o.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RangedFilter{constructor(o){this.indexedFilter_=new IndexedFilter(o.getIndex()),this.index_=o.getIndex(),this.startPost_=RangedFilter.getStartPost_(o),this.endPost_=RangedFilter.getEndPost_(o),this.startIsInclusive_=!o.startAfterSet_,this.endIsInclusive_=!o.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(o){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),o)<=0:this.index_.compare(this.getStartPost(),o)<0,a=this.endIsInclusive_?this.index_.compare(o,this.getEndPost())<=0:this.index_.compare(o,this.getEndPost())<0;return i&&a}updateChild(o,i,a,$,j,_e){return this.matches(new NamedNode(i,a))||(a=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(o,i,a,$,j,_e)}updateFullNode(o,i,a){i.isLeafNode()&&(i=ChildrenNode.EMPTY_NODE);let $=i.withIndex(this.index_);$=$.updatePriority(ChildrenNode.EMPTY_NODE);const j=this;return i.forEachChild(PRIORITY_INDEX,(_e,et)=>{j.matches(new NamedNode(_e,et))||($=$.updateImmediateChild(_e,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(o,$,a)}updatePriority(o,i){return o}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(o){if(o.hasStart()){const i=o.getIndexStartName();return o.getIndex().makePost(o.getIndexStartValue(),i)}else return o.getIndex().minPost()}static getEndPost_(o){if(o.hasEnd()){const i=o.getIndexEndName();return o.getIndex().makePost(o.getIndexEndValue(),i)}else return o.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LimitedFilter{constructor(o){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new RangedFilter(o),this.index_=o.getIndex(),this.limit_=o.getLimit(),this.reverse_=!o.isViewFromLeft(),this.startIsInclusive_=!o.startAfterSet_,this.endIsInclusive_=!o.endBeforeSet_}updateChild(o,i,a,$,j,_e){return this.rangedFilter_.matches(new NamedNode(i,a))||(a=ChildrenNode.EMPTY_NODE),o.getImmediateChild(i).equals(a)?o:o.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(o,i,a,$,j,_e):this.fullLimitUpdateChild_(o,i,a,j,_e)}updateFullNode(o,i,a){let $;if(i.isLeafNode()||i.isEmpty())$=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){$=ChildrenNode.EMPTY_NODE.withIndex(this.index_);let j;this.reverse_?j=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):j=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let _e=0;for(;j.hasNext()&&_e<this.limit_;){const et=j.getNext();if(this.withinDirectionalStart(et))if(this.withinDirectionalEnd(et))$=$.updateImmediateChild(et.name,et.node),_e++;else break;else continue}}else{$=i.withIndex(this.index_),$=$.updatePriority(ChildrenNode.EMPTY_NODE);let j;this.reverse_?j=$.getReverseIterator(this.index_):j=$.getIterator(this.index_);let _e=0;for(;j.hasNext();){const et=j.getNext();_e<this.limit_&&this.withinDirectionalStart(et)&&this.withinDirectionalEnd(et)?_e++:$=$.updateImmediateChild(et.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(o,$,a)}updatePriority(o,i){return o}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(o,i,a,$,j){let _e;if(this.reverse_){const it=this.index_.getCompare();_e=(st,ut)=>it(ut,st)}else _e=this.index_.getCompare();const et=o;assert(et.numChildren()===this.limit_,"");const tt=new NamedNode(i,a),nt=this.reverse_?et.getFirstChild(this.index_):et.getLastChild(this.index_),ot=this.rangedFilter_.matches(tt);if(et.hasChild(i)){const it=et.getImmediateChild(i);let st=$.getChildAfterChild(this.index_,nt,this.reverse_);for(;st!=null&&(st.name===i||et.hasChild(st.name));)st=$.getChildAfterChild(this.index_,st,this.reverse_);const ut=st==null?1:_e(st,tt);if(ot&&!a.isEmpty()&&ut>=0)return j!=null&&j.trackChildChange(changeChildChanged(i,a,it)),et.updateImmediateChild(i,a);{j!=null&&j.trackChildChange(changeChildRemoved(i,it));const rt=et.updateImmediateChild(i,ChildrenNode.EMPTY_NODE);return st!=null&&this.rangedFilter_.matches(st)?(j!=null&&j.trackChildChange(changeChildAdded(st.name,st.node)),rt.updateImmediateChild(st.name,st.node)):rt}}else return a.isEmpty()?o:ot&&_e(nt,tt)>=0?(j!=null&&(j.trackChildChange(changeChildRemoved(nt.name,nt.node)),j.trackChildChange(changeChildAdded(i,a))),et.updateImmediateChild(i,a).updateImmediateChild(nt.name,ChildrenNode.EMPTY_NODE)):o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const o=new QueryParams;return o.limitSet_=this.limitSet_,o.limit_=this.limit_,o.startSet_=this.startSet_,o.startAfterSet_=this.startAfterSet_,o.indexStartValue_=this.indexStartValue_,o.startNameSet_=this.startNameSet_,o.indexStartName_=this.indexStartName_,o.endSet_=this.endSet_,o.endBeforeSet_=this.endBeforeSet_,o.indexEndValue_=this.indexEndValue_,o.endNameSet_=this.endNameSet_,o.indexEndName_=this.indexEndName_,o.index_=this.index_,o.viewFrom_=this.viewFrom_,o}}function queryParamsGetNodeFilter(s){return s.loadsAllData()?new IndexedFilter(s.getIndex()):s.hasLimit()?new LimitedFilter(s):new RangedFilter(s)}function queryParamsToRestQueryStringParameters(s){const o={};if(s.isDefault())return o;let i;if(s.index_===PRIORITY_INDEX?i="$priority":s.index_===VALUE_INDEX?i="$value":s.index_===KEY_INDEX?i="$key":(assert(s.index_ instanceof PathIndex,"Unrecognized index type!"),i=s.index_.toString()),o.orderBy=stringify$1(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";o[a]=stringify$1(s.indexStartValue_),s.startNameSet_&&(o[a]+=","+stringify$1(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";o[a]=stringify$1(s.indexEndValue_),s.endNameSet_&&(o[a]+=","+stringify$1(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?o.limitToFirst=s.limit_:o.limitToLast=s.limit_),o}function queryParamsGetQueryObject(s){const o={};if(s.startSet_&&(o.sp=s.indexStartValue_,s.startNameSet_&&(o.sn=s.indexStartName_),o.sin=!s.startAfterSet_),s.endSet_&&(o.ep=s.indexEndValue_,s.endNameSet_&&(o.en=s.indexEndName_),o.ein=!s.endBeforeSet_),s.limitSet_){o.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),o.vf=i}return s.index_!==PRIORITY_INDEX&&(o.i=s.index_.toString()),o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReadonlyRestClient extends ServerActions{constructor(o,i,a,$){super(),this.repoInfo_=o,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=$,this.log_=logWrapper("p:rest:"),this.listens_={}}reportStats(o){throw new Error("Method not implemented.")}static getListenId_(o,i){return i!==void 0?"tag$"+i:(assert(o._queryParams.isDefault(),"should have a tag if it's not a default query."),o._path.toString())}listen(o,i,a,$){const j=o._path.toString();this.log_("Listen called for "+j+" "+o._queryIdentifier);const _e=ReadonlyRestClient.getListenId_(o,a),et={};this.listens_[_e]=et;const tt=queryParamsToRestQueryStringParameters(o._queryParams);this.restRequest_(j+".json",tt,(nt,ot)=>{let it=ot;if(nt===404&&(it=null,nt=null),nt===null&&this.onDataUpdate_(j,it,!1,a),safeGet(this.listens_,_e)===et){let st;nt?nt===401?st="permission_denied":st="rest_error:"+nt:st="ok",$(st,null)}})}unlisten(o,i){const a=ReadonlyRestClient.getListenId_(o,i);delete this.listens_[a]}get(o){const i=queryParamsToRestQueryStringParameters(o._queryParams),a=o._path.toString(),$=new Deferred;return this.restRequest_(a+".json",i,(j,_e)=>{let et=_e;j===404&&(et=null,j=null),j===null?(this.onDataUpdate_(a,et,!1,null),$.resolve(et)):$.reject(new Error(et))}),$.promise}refreshAuthToken(o){}restRequest_(o,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([$,j])=>{$&&$.accessToken&&(i.auth=$.accessToken),j&&j.token&&(i.ac=j.token);const _e=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+o+"?ns="+this.repoInfo_.namespace+querystring(i);this.log_("Sending REST request for "+_e);const et=new XMLHttpRequest;et.onreadystatechange=()=>{if(a&&et.readyState===4){this.log_("REST Response for "+_e+" received. status:",et.status,"response:",et.responseText);let tt=null;if(et.status>=200&&et.status<300){try{tt=jsonEval(et.responseText)}catch{warn("Failed to parse JSON response for "+_e+": "+et.responseText)}a(null,tt)}else et.status!==401&&et.status!==404&&warn("Got unsuccessful REST response for "+_e+" Status: "+et.status),a(et.status);a=null}},et.open("GET",_e,!0),et.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(o){return this.rootNode_.getChild(o)}updateSnapshot(o,i){this.rootNode_=this.rootNode_.updateChild(o,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(s,o,i){if(pathIsEmpty(o))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(o,i);else{const a=pathGetFront(o);s.children.has(a)||s.children.set(a,newSparseSnapshotTree());const $=s.children.get(a);o=pathPopFront(o),sparseSnapshotTreeRemember($,o,i)}}function sparseSnapshotTreeForEachTree(s,o,i){s.value!==null?i(o,s.value):sparseSnapshotTreeForEachChild(s,(a,$)=>{const j=new Path(o.toString()+"/"+a);sparseSnapshotTreeForEachTree($,j,i)})}function sparseSnapshotTreeForEachChild(s,o){s.children.forEach((i,a)=>{o(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsListener{constructor(o){this.collection_=o,this.last_=null}get(){const o=this.collection_.get(),i=Object.assign({},o);return this.last_&&each(this.last_,(a,$)=>{i[a]=i[a]-$}),this.last_=o,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIRST_STATS_MIN_TIME=10*1e3,FIRST_STATS_MAX_TIME=30*1e3,REPORT_STATS_INTERVAL=5*60*1e3;class StatsReporter{constructor(o,i){this.server_=i,this.statsToReport_={},this.statsListener_=new StatsListener(o);const a=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const o=this.statsListener_.get(),i={};let a=!1;each(o,($,j)=>{j>0&&contains$1(this.statsToReport_,$)&&(i[$]=j,a=!0)}),a&&this.server_.reportStats(i),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(Math.random()*2*REPORT_STATS_INTERVAL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OperationType;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(OperationType||(OperationType={}));function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AckUserWrite{constructor(o,i,a){this.path=o,this.affectedTree=i,this.revert=a,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(o){if(pathIsEmpty(this.path)){if(this.affectedTree.value!=null)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Path(o));return new AckUserWrite(newEmptyPath(),i,this.revert)}}else return assert(pathGetFront(this.path)===o,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ListenComplete{constructor(o,i){this.source=o,this.path=i,this.type=OperationType.LISTEN_COMPLETE}operationForChild(o){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overwrite{constructor(o,i,a){this.source=o,this.path=i,this.snap=a,this.type=OperationType.OVERWRITE}operationForChild(o){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(o)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Merge{constructor(o,i,a){this.source=o,this.path=i,this.children=a,this.type=OperationType.MERGE}operationForChild(o){if(pathIsEmpty(this.path)){const i=this.children.subtree(new Path(o));return i.isEmpty()?null:i.value?new Overwrite(this.source,newEmptyPath(),i.value):new Merge(this.source,newEmptyPath(),i)}else return assert(pathGetFront(this.path)===o,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CacheNode{constructor(o,i,a){this.node_=o,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(o){if(pathIsEmpty(o))return this.isFullyInitialized()&&!this.filtered_;const i=pathGetFront(o);return this.isCompleteForChild(i)}isCompleteForChild(o){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(o)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventGenerator{constructor(o){this.query_=o,this.index_=this.query_._queryParams.getIndex()}}function eventGeneratorGenerateEventsForChanges(s,o,i,a){const $=[],j=[];return o.forEach(_e=>{_e.type==="child_changed"&&s.index_.indexedValueChanged(_e.oldSnap,_e.snapshotNode)&&j.push(changeChildMoved(_e.childName,_e.snapshotNode))}),eventGeneratorGenerateEventsForType(s,$,"child_removed",o,a,i),eventGeneratorGenerateEventsForType(s,$,"child_added",o,a,i),eventGeneratorGenerateEventsForType(s,$,"child_moved",j,a,i),eventGeneratorGenerateEventsForType(s,$,"child_changed",o,a,i),eventGeneratorGenerateEventsForType(s,$,"value",o,a,i),$}function eventGeneratorGenerateEventsForType(s,o,i,a,$,j){const _e=a.filter(et=>et.type===i);_e.sort((et,tt)=>eventGeneratorCompareChanges(s,et,tt)),_e.forEach(et=>{const tt=eventGeneratorMaterializeSingleChange(s,et,j);$.forEach(nt=>{nt.respondsTo(et.type)&&o.push(nt.createEvent(tt,s.query_))})})}function eventGeneratorMaterializeSingleChange(s,o,i){return o.type==="value"||o.type==="child_removed"||(o.prevName=i.getPredecessorChildName(o.childName,o.snapshotNode,s.index_)),o}function eventGeneratorCompareChanges(s,o,i){if(o.childName==null||i.childName==null)throw assertionError("Should only compare child_ events.");const a=new NamedNode(o.childName,o.snapshotNode),$=new NamedNode(i.childName,i.snapshotNode);return s.index_.compare(a,$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache(s,o){return{eventCache:s,serverCache:o}}function viewCacheUpdateEventSnap(s,o,i,a){return newViewCache(new CacheNode(o,i,a),s.serverCache)}function viewCacheUpdateServerSnap(s,o,i,a){return newViewCache(s.eventCache,new CacheNode(o,i,a))}function viewCacheGetCompleteEventSnap(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{constructor(o,i=EmptyChildren()){this.value=o,this.children=i}static fromObject(o){let i=new ImmutableTree(null);return each(o,(a,$)=>{i=i.set(new Path(a),$)}),i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(o,i){if(this.value!=null&&i(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(o))return null;{const a=pathGetFront(o),$=this.children.get(a);if($!==null){const j=$.findRootMostMatchingPathAndValue(pathPopFront(o),i);return j!=null?{path:pathChild(new Path(a),j.path),value:j.value}:null}else return null}}findRootMostValueAndPath(o){return this.findRootMostMatchingPathAndValue(o,()=>!0)}subtree(o){if(pathIsEmpty(o))return this;{const i=pathGetFront(o),a=this.children.get(i);return a!==null?a.subtree(pathPopFront(o)):new ImmutableTree(null)}}set(o,i){if(pathIsEmpty(o))return new ImmutableTree(i,this.children);{const a=pathGetFront(o),j=(this.children.get(a)||new ImmutableTree(null)).set(pathPopFront(o),i),_e=this.children.insert(a,j);return new ImmutableTree(this.value,_e)}}remove(o){if(pathIsEmpty(o))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const i=pathGetFront(o),a=this.children.get(i);if(a){const $=a.remove(pathPopFront(o));let j;return $.isEmpty()?j=this.children.remove(i):j=this.children.insert(i,$),this.value===null&&j.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,j)}else return this}}get(o){if(pathIsEmpty(o))return this.value;{const i=pathGetFront(o),a=this.children.get(i);return a?a.get(pathPopFront(o)):null}}setTree(o,i){if(pathIsEmpty(o))return i;{const a=pathGetFront(o),j=(this.children.get(a)||new ImmutableTree(null)).setTree(pathPopFront(o),i);let _e;return j.isEmpty()?_e=this.children.remove(a):_e=this.children.insert(a,j),new ImmutableTree(this.value,_e)}}fold(o){return this.fold_(newEmptyPath(),o)}fold_(o,i){const a={};return this.children.inorderTraversal(($,j)=>{a[$]=j.fold_(pathChild(o,$),i)}),i(o,this.value,a)}findOnPath(o,i){return this.findOnPath_(o,newEmptyPath(),i)}findOnPath_(o,i,a){const $=this.value?a(i,this.value):!1;if($)return $;if(pathIsEmpty(o))return null;{const j=pathGetFront(o),_e=this.children.get(j);return _e?_e.findOnPath_(pathPopFront(o),pathChild(i,j),a):null}}foreachOnPath(o,i){return this.foreachOnPath_(o,newEmptyPath(),i)}foreachOnPath_(o,i,a){if(pathIsEmpty(o))return this;{this.value&&a(i,this.value);const $=pathGetFront(o),j=this.children.get($);return j?j.foreachOnPath_(pathPopFront(o),pathChild(i,$),a):new ImmutableTree(null)}}foreach(o){this.foreach_(newEmptyPath(),o)}foreach_(o,i){this.children.inorderTraversal((a,$)=>{$.foreach_(pathChild(o,a),i)}),this.value&&i(o,this.value)}foreachChild(o){this.children.inorderTraversal((i,a)=>{a.value&&o(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CompoundWrite{constructor(o){this.writeTree_=o}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite(s,o,i){if(pathIsEmpty(o))return new CompoundWrite(new ImmutableTree(i));{const a=s.writeTree_.findRootMostValueAndPath(o);if(a!=null){const $=a.path;let j=a.value;const _e=newRelativePath($,o);return j=j.updateChild(_e,i),new CompoundWrite(s.writeTree_.set($,j))}else{const $=new ImmutableTree(i),j=s.writeTree_.setTree(o,$);return new CompoundWrite(j)}}}function compoundWriteAddWrites(s,o,i){let a=s;return each(i,($,j)=>{a=compoundWriteAddWrite(a,pathChild(o,$),j)}),a}function compoundWriteRemoveWrite(s,o){if(pathIsEmpty(o))return CompoundWrite.empty();{const i=s.writeTree_.setTree(o,new ImmutableTree(null));return new CompoundWrite(i)}}function compoundWriteHasCompleteWrite(s,o){return compoundWriteGetCompleteNode(s,o)!=null}function compoundWriteGetCompleteNode(s,o){const i=s.writeTree_.findRootMostValueAndPath(o);return i!=null?s.writeTree_.get(i.path).getChild(newRelativePath(i.path,o)):null}function compoundWriteGetCompleteChildren(s){const o=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(PRIORITY_INDEX,(a,$)=>{o.push(new NamedNode(a,$))}):s.writeTree_.children.inorderTraversal((a,$)=>{$.value!=null&&o.push(new NamedNode(a,$.value))}),o}function compoundWriteChildCompoundWrite(s,o){if(pathIsEmpty(o))return s;{const i=compoundWriteGetCompleteNode(s,o);return i!=null?new CompoundWrite(new ImmutableTree(i)):new CompoundWrite(s.writeTree_.subtree(o))}}function compoundWriteIsEmpty(s){return s.writeTree_.isEmpty()}function compoundWriteApply(s,o){return applySubtreeWrite(newEmptyPath(),s.writeTree_,o)}function applySubtreeWrite(s,o,i){if(o.value!=null)return i.updateChild(s,o.value);{let a=null;return o.children.inorderTraversal(($,j)=>{$===".priority"?(assert(j.value!==null,"Priority writes must always be leaf nodes"),a=j.value):i=applySubtreeWrite(pathChild(s,$),j,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(pathChild(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites(s,o){return newWriteTreeRef(o,s)}function writeTreeAddOverwrite(s,o,i,a,$){assert(a>s.lastWriteId,"Stacking an older write on top of newer ones"),$===void 0&&($=!0),s.allWrites.push({path:o,snap:i,writeId:a,visible:$}),$&&(s.visibleWrites=compoundWriteAddWrite(s.visibleWrites,o,i)),s.lastWriteId=a}function writeTreeAddMerge(s,o,i,a){assert(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:o,children:i,writeId:a,visible:!0}),s.visibleWrites=compoundWriteAddWrites(s.visibleWrites,o,i),s.lastWriteId=a}function writeTreeGetWrite(s,o){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===o)return a}return null}function writeTreeRemoveWrite(s,o){const i=s.allWrites.findIndex(et=>et.writeId===o);assert(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let $=a.visible,j=!1,_e=s.allWrites.length-1;for(;$&&_e>=0;){const et=s.allWrites[_e];et.visible&&(_e>=i&&writeTreeRecordContainsPath_(et,a.path)?$=!1:pathContains(a.path,et.path)&&(j=!0)),_e--}if($){if(j)return writeTreeResetTree_(s),!0;if(a.snap)s.visibleWrites=compoundWriteRemoveWrite(s.visibleWrites,a.path);else{const et=a.children;each(et,tt=>{s.visibleWrites=compoundWriteRemoveWrite(s.visibleWrites,pathChild(a.path,tt))})}return!0}else return!1}function writeTreeRecordContainsPath_(s,o){if(s.snap)return pathContains(s.path,o);for(const i in s.children)if(s.children.hasOwnProperty(i)&&pathContains(pathChild(s.path,i),o))return!0;return!1}function writeTreeResetTree_(s){s.visibleWrites=writeTreeLayerTree_(s.allWrites,writeTreeDefaultFilter_,newEmptyPath()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function writeTreeDefaultFilter_(s){return s.visible}function writeTreeLayerTree_(s,o,i){let a=CompoundWrite.empty();for(let $=0;$<s.length;++$){const j=s[$];if(o(j)){const _e=j.path;let et;if(j.snap)pathContains(i,_e)?(et=newRelativePath(i,_e),a=compoundWriteAddWrite(a,et,j.snap)):pathContains(_e,i)&&(et=newRelativePath(_e,i),a=compoundWriteAddWrite(a,newEmptyPath(),j.snap.getChild(et)));else if(j.children){if(pathContains(i,_e))et=newRelativePath(i,_e),a=compoundWriteAddWrites(a,et,j.children);else if(pathContains(_e,i))if(et=newRelativePath(_e,i),pathIsEmpty(et))a=compoundWriteAddWrites(a,newEmptyPath(),j.children);else{const tt=safeGet(j.children,pathGetFront(et));if(tt){const nt=tt.getChild(pathPopFront(et));a=compoundWriteAddWrite(a,newEmptyPath(),nt)}}}else throw assertionError("WriteRecord should have .snap or .children")}}return a}function writeTreeCalcCompleteEventCache(s,o,i,a,$){if(!a&&!$){const j=compoundWriteGetCompleteNode(s.visibleWrites,o);if(j!=null)return j;{const _e=compoundWriteChildCompoundWrite(s.visibleWrites,o);if(compoundWriteIsEmpty(_e))return i;if(i==null&&!compoundWriteHasCompleteWrite(_e,newEmptyPath()))return null;{const et=i||ChildrenNode.EMPTY_NODE;return compoundWriteApply(_e,et)}}}else{const j=compoundWriteChildCompoundWrite(s.visibleWrites,o);if(!$&&compoundWriteIsEmpty(j))return i;if(!$&&i==null&&!compoundWriteHasCompleteWrite(j,newEmptyPath()))return null;{const _e=function(nt){return(nt.visible||$)&&(!a||!~a.indexOf(nt.writeId))&&(pathContains(nt.path,o)||pathContains(o,nt.path))},et=writeTreeLayerTree_(s.allWrites,_e,o),tt=i||ChildrenNode.EMPTY_NODE;return compoundWriteApply(et,tt)}}}function writeTreeCalcCompleteEventChildren(s,o,i){let a=ChildrenNode.EMPTY_NODE;const $=compoundWriteGetCompleteNode(s.visibleWrites,o);if($)return $.isLeafNode()||$.forEachChild(PRIORITY_INDEX,(j,_e)=>{a=a.updateImmediateChild(j,_e)}),a;if(i){const j=compoundWriteChildCompoundWrite(s.visibleWrites,o);return i.forEachChild(PRIORITY_INDEX,(_e,et)=>{const tt=compoundWriteApply(compoundWriteChildCompoundWrite(j,new Path(_e)),et);a=a.updateImmediateChild(_e,tt)}),compoundWriteGetCompleteChildren(j).forEach(_e=>{a=a.updateImmediateChild(_e.name,_e.node)}),a}else{const j=compoundWriteChildCompoundWrite(s.visibleWrites,o);return compoundWriteGetCompleteChildren(j).forEach(_e=>{a=a.updateImmediateChild(_e.name,_e.node)}),a}}function writeTreeCalcEventCacheAfterServerOverwrite(s,o,i,a,$){assert(a||$,"Either existingEventSnap or existingServerSnap must exist");const j=pathChild(o,i);if(compoundWriteHasCompleteWrite(s.visibleWrites,j))return null;{const _e=compoundWriteChildCompoundWrite(s.visibleWrites,j);return compoundWriteIsEmpty(_e)?$.getChild(i):compoundWriteApply(_e,$.getChild(i))}}function writeTreeCalcCompleteChild(s,o,i,a){const $=pathChild(o,i),j=compoundWriteGetCompleteNode(s.visibleWrites,$);if(j!=null)return j;if(a.isCompleteForChild(i)){const _e=compoundWriteChildCompoundWrite(s.visibleWrites,$);return compoundWriteApply(_e,a.getNode().getImmediateChild(i))}else return null}function writeTreeShadowingWrite(s,o){return compoundWriteGetCompleteNode(s.visibleWrites,o)}function writeTreeCalcIndexedSlice(s,o,i,a,$,j,_e){let et;const tt=compoundWriteChildCompoundWrite(s.visibleWrites,o),nt=compoundWriteGetCompleteNode(tt,newEmptyPath());if(nt!=null)et=nt;else if(i!=null)et=compoundWriteApply(tt,i);else return[];if(et=et.withIndex(_e),!et.isEmpty()&&!et.isLeafNode()){const ot=[],it=_e.getCompare(),st=j?et.getReverseIteratorFrom(a,_e):et.getIteratorFrom(a,_e);let ut=st.getNext();for(;ut&&ot.length<$;)it(ut,a)!==0&&ot.push(ut),ut=st.getNext();return ot}else return[]}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(s,o,i,a){return writeTreeCalcCompleteEventCache(s.writeTree,s.treePath,o,i,a)}function writeTreeRefCalcCompleteEventChildren(s,o){return writeTreeCalcCompleteEventChildren(s.writeTree,s.treePath,o)}function writeTreeRefCalcEventCacheAfterServerOverwrite(s,o,i,a){return writeTreeCalcEventCacheAfterServerOverwrite(s.writeTree,s.treePath,o,i,a)}function writeTreeRefShadowingWrite(s,o){return writeTreeShadowingWrite(s.writeTree,pathChild(s.treePath,o))}function writeTreeRefCalcIndexedSlice(s,o,i,a,$,j){return writeTreeCalcIndexedSlice(s.writeTree,s.treePath,o,i,a,$,j)}function writeTreeRefCalcCompleteChild(s,o,i){return writeTreeCalcCompleteChild(s.writeTree,s.treePath,o,i)}function writeTreeRefChild(s,o){return newWriteTreeRef(pathChild(s.treePath,o),s.writeTree)}function newWriteTreeRef(s,o){return{treePath:s,writeTree:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(o){const i=o.type,a=o.childName;assert(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),assert(a!==".priority","Only non-priority child changes can be tracked.");const $=this.changeMap.get(a);if($){const j=$.type;if(i==="child_added"&&j==="child_removed")this.changeMap.set(a,changeChildChanged(a,o.snapshotNode,$.snapshotNode));else if(i==="child_removed"&&j==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&j==="child_changed")this.changeMap.set(a,changeChildRemoved(a,$.oldSnap));else if(i==="child_changed"&&j==="child_added")this.changeMap.set(a,changeChildAdded(a,o.snapshotNode));else if(i==="child_changed"&&j==="child_changed")this.changeMap.set(a,changeChildChanged(a,o.snapshotNode,$.oldSnap));else throw assertionError("Illegal combination of changes: "+o+" occurred after "+$)}else this.changeMap.set(a,o)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NoCompleteChildSource_{getCompleteChild(o){return null}getChildAfterChild(o,i,a){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(o,i,a=null){this.writes_=o,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(o){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(o))return i.getNode().getImmediateChild(o);{const a=this.optCompleteServerCache_!=null?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,o,a)}}getChildAfterChild(o,i,a){const $=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),j=writeTreeRefCalcIndexedSlice(this.writes_,$,i,1,a,o);return j.length===0?null:j[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewProcessor(s){return{filter:s}}function viewProcessorAssertIndexed(s,o){assert(o.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),assert(o.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(s,o,i,a,$){const j=new ChildChangeAccumulator;let _e,et;if(i.type===OperationType.OVERWRITE){const nt=i;nt.source.fromUser?_e=viewProcessorApplyUserOverwrite(s,o,nt.path,nt.snap,a,$,j):(assert(nt.source.fromServer,"Unknown source."),et=nt.source.tagged||o.serverCache.isFiltered()&&!pathIsEmpty(nt.path),_e=viewProcessorApplyServerOverwrite(s,o,nt.path,nt.snap,a,$,et,j))}else if(i.type===OperationType.MERGE){const nt=i;nt.source.fromUser?_e=viewProcessorApplyUserMerge(s,o,nt.path,nt.children,a,$,j):(assert(nt.source.fromServer,"Unknown source."),et=nt.source.tagged||o.serverCache.isFiltered(),_e=viewProcessorApplyServerMerge(s,o,nt.path,nt.children,a,$,et,j))}else if(i.type===OperationType.ACK_USER_WRITE){const nt=i;nt.revert?_e=viewProcessorRevertUserWrite(s,o,nt.path,a,$,j):_e=viewProcessorAckUserWrite(s,o,nt.path,nt.affectedTree,a,$,j)}else if(i.type===OperationType.LISTEN_COMPLETE)_e=viewProcessorListenComplete(s,o,i.path,a,j);else throw assertionError("Unknown operation type: "+i.type);const tt=j.getChanges();return viewProcessorMaybeAddValueEvent(o,_e,tt),{viewCache:_e,changes:tt}}function viewProcessorMaybeAddValueEvent(s,o,i){const a=o.eventCache;if(a.isFullyInitialized()){const $=a.getNode().isLeafNode()||a.getNode().isEmpty(),j=viewCacheGetCompleteEventSnap(s);(i.length>0||!s.eventCache.isFullyInitialized()||$&&!a.getNode().equals(j)||!a.getNode().getPriority().equals(j.getPriority()))&&i.push(changeValue(viewCacheGetCompleteEventSnap(o)))}}function viewProcessorGenerateEventCacheAfterServerEvent(s,o,i,a,$,j){const _e=o.eventCache;if(writeTreeRefShadowingWrite(a,i)!=null)return o;{let et,tt;if(pathIsEmpty(i))if(assert(o.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),o.serverCache.isFiltered()){const nt=viewCacheGetCompleteServerSnap(o),ot=nt instanceof ChildrenNode?nt:ChildrenNode.EMPTY_NODE,it=writeTreeRefCalcCompleteEventChildren(a,ot);et=s.filter.updateFullNode(o.eventCache.getNode(),it,j)}else{const nt=writeTreeRefCalcCompleteEventCache(a,viewCacheGetCompleteServerSnap(o));et=s.filter.updateFullNode(o.eventCache.getNode(),nt,j)}else{const nt=pathGetFront(i);if(nt===".priority"){assert(pathGetLength(i)===1,"Can't have a priority with additional path components");const ot=_e.getNode();tt=o.serverCache.getNode();const it=writeTreeRefCalcEventCacheAfterServerOverwrite(a,i,ot,tt);it!=null?et=s.filter.updatePriority(ot,it):et=_e.getNode()}else{const ot=pathPopFront(i);let it;if(_e.isCompleteForChild(nt)){tt=o.serverCache.getNode();const st=writeTreeRefCalcEventCacheAfterServerOverwrite(a,i,_e.getNode(),tt);st!=null?it=_e.getNode().getImmediateChild(nt).updateChild(ot,st):it=_e.getNode().getImmediateChild(nt)}else it=writeTreeRefCalcCompleteChild(a,nt,o.serverCache);it!=null?et=s.filter.updateChild(_e.getNode(),nt,it,ot,$,j):et=_e.getNode()}}return viewCacheUpdateEventSnap(o,et,_e.isFullyInitialized()||pathIsEmpty(i),s.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite(s,o,i,a,$,j,_e,et){const tt=o.serverCache;let nt;const ot=_e?s.filter:s.filter.getIndexedFilter();if(pathIsEmpty(i))nt=ot.updateFullNode(tt.getNode(),a,null);else if(ot.filtersNodes()&&!tt.isFiltered()){const ut=tt.getNode().updateChild(i,a);nt=ot.updateFullNode(tt.getNode(),ut,null)}else{const ut=pathGetFront(i);if(!tt.isCompleteForPath(i)&&pathGetLength(i)>1)return o;const lt=pathPopFront(i),dt=tt.getNode().getImmediateChild(ut).updateChild(lt,a);ut===".priority"?nt=ot.updatePriority(tt.getNode(),dt):nt=ot.updateChild(tt.getNode(),ut,dt,lt,NO_COMPLETE_CHILD_SOURCE,null)}const it=viewCacheUpdateServerSnap(o,nt,tt.isFullyInitialized()||pathIsEmpty(i),ot.filtersNodes()),st=new WriteTreeCompleteChildSource($,it,j);return viewProcessorGenerateEventCacheAfterServerEvent(s,it,i,$,st,et)}function viewProcessorApplyUserOverwrite(s,o,i,a,$,j,_e){const et=o.eventCache;let tt,nt;const ot=new WriteTreeCompleteChildSource($,o,j);if(pathIsEmpty(i))nt=s.filter.updateFullNode(o.eventCache.getNode(),a,_e),tt=viewCacheUpdateEventSnap(o,nt,!0,s.filter.filtersNodes());else{const it=pathGetFront(i);if(it===".priority")nt=s.filter.updatePriority(o.eventCache.getNode(),a),tt=viewCacheUpdateEventSnap(o,nt,et.isFullyInitialized(),et.isFiltered());else{const st=pathPopFront(i),ut=et.getNode().getImmediateChild(it);let lt;if(pathIsEmpty(st))lt=a;else{const rt=ot.getCompleteChild(it);rt!=null?pathGetBack(st)===".priority"&&rt.getChild(pathParent(st)).isEmpty()?lt=rt:lt=rt.updateChild(st,a):lt=ChildrenNode.EMPTY_NODE}if(ut.equals(lt))tt=o;else{const rt=s.filter.updateChild(et.getNode(),it,lt,st,ot,_e);tt=viewCacheUpdateEventSnap(o,rt,et.isFullyInitialized(),s.filter.filtersNodes())}}}return tt}function viewProcessorCacheHasChild(s,o){return s.eventCache.isCompleteForChild(o)}function viewProcessorApplyUserMerge(s,o,i,a,$,j,_e){let et=o;return a.foreach((tt,nt)=>{const ot=pathChild(i,tt);viewProcessorCacheHasChild(o,pathGetFront(ot))&&(et=viewProcessorApplyUserOverwrite(s,et,ot,nt,$,j,_e))}),a.foreach((tt,nt)=>{const ot=pathChild(i,tt);viewProcessorCacheHasChild(o,pathGetFront(ot))||(et=viewProcessorApplyUserOverwrite(s,et,ot,nt,$,j,_e))}),et}function viewProcessorApplyMerge(s,o,i){return i.foreach((a,$)=>{o=o.updateChild(a,$)}),o}function viewProcessorApplyServerMerge(s,o,i,a,$,j,_e,et){if(o.serverCache.getNode().isEmpty()&&!o.serverCache.isFullyInitialized())return o;let tt=o,nt;pathIsEmpty(i)?nt=a:nt=new ImmutableTree(null).setTree(i,a);const ot=o.serverCache.getNode();return nt.children.inorderTraversal((it,st)=>{if(ot.hasChild(it)){const ut=o.serverCache.getNode().getImmediateChild(it),lt=viewProcessorApplyMerge(s,ut,st);tt=viewProcessorApplyServerOverwrite(s,tt,new Path(it),lt,$,j,_e,et)}}),nt.children.inorderTraversal((it,st)=>{const ut=!o.serverCache.isCompleteForChild(it)&&st.value===null;if(!ot.hasChild(it)&&!ut){const lt=o.serverCache.getNode().getImmediateChild(it),rt=viewProcessorApplyMerge(s,lt,st);tt=viewProcessorApplyServerOverwrite(s,tt,new Path(it),rt,$,j,_e,et)}}),tt}function viewProcessorAckUserWrite(s,o,i,a,$,j,_e){if(writeTreeRefShadowingWrite($,i)!=null)return o;const et=o.serverCache.isFiltered(),tt=o.serverCache;if(a.value!=null){if(pathIsEmpty(i)&&tt.isFullyInitialized()||tt.isCompleteForPath(i))return viewProcessorApplyServerOverwrite(s,o,i,tt.getNode().getChild(i),$,j,et,_e);if(pathIsEmpty(i)){let nt=new ImmutableTree(null);return tt.getNode().forEachChild(KEY_INDEX,(ot,it)=>{nt=nt.set(new Path(ot),it)}),viewProcessorApplyServerMerge(s,o,i,nt,$,j,et,_e)}else return o}else{let nt=new ImmutableTree(null);return a.foreach((ot,it)=>{const st=pathChild(i,ot);tt.isCompleteForPath(st)&&(nt=nt.set(ot,tt.getNode().getChild(st)))}),viewProcessorApplyServerMerge(s,o,i,nt,$,j,et,_e)}}function viewProcessorListenComplete(s,o,i,a,$){const j=o.serverCache,_e=viewCacheUpdateServerSnap(o,j.getNode(),j.isFullyInitialized()||pathIsEmpty(i),j.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent(s,_e,i,a,NO_COMPLETE_CHILD_SOURCE,$)}function viewProcessorRevertUserWrite(s,o,i,a,$,j){let _e;if(writeTreeRefShadowingWrite(a,i)!=null)return o;{const et=new WriteTreeCompleteChildSource(a,o,$),tt=o.eventCache.getNode();let nt;if(pathIsEmpty(i)||pathGetFront(i)===".priority"){let ot;if(o.serverCache.isFullyInitialized())ot=writeTreeRefCalcCompleteEventCache(a,viewCacheGetCompleteServerSnap(o));else{const it=o.serverCache.getNode();assert(it instanceof ChildrenNode,"serverChildren would be complete if leaf node"),ot=writeTreeRefCalcCompleteEventChildren(a,it)}ot=ot,nt=s.filter.updateFullNode(tt,ot,j)}else{const ot=pathGetFront(i);let it=writeTreeRefCalcCompleteChild(a,ot,o.serverCache);it==null&&o.serverCache.isCompleteForChild(ot)&&(it=tt.getImmediateChild(ot)),it!=null?nt=s.filter.updateChild(tt,ot,it,pathPopFront(i),et,j):o.eventCache.getNode().hasChild(ot)?nt=s.filter.updateChild(tt,ot,ChildrenNode.EMPTY_NODE,pathPopFront(i),et,j):nt=tt,nt.isEmpty()&&o.serverCache.isFullyInitialized()&&(_e=writeTreeRefCalcCompleteEventCache(a,viewCacheGetCompleteServerSnap(o)),_e.isLeafNode()&&(nt=s.filter.updateFullNode(nt,_e,j)))}return _e=o.serverCache.isFullyInitialized()||writeTreeRefShadowingWrite(a,newEmptyPath())!=null,viewCacheUpdateEventSnap(o,nt,_e,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class View{constructor(o,i){this.query_=o,this.eventRegistrations_=[];const a=this.query_._queryParams,$=new IndexedFilter(a.getIndex()),j=queryParamsGetNodeFilter(a);this.processor_=newViewProcessor(j);const _e=i.serverCache,et=i.eventCache,tt=$.updateFullNode(ChildrenNode.EMPTY_NODE,_e.getNode(),null),nt=j.updateFullNode(ChildrenNode.EMPTY_NODE,et.getNode(),null),ot=new CacheNode(tt,_e.isFullyInitialized(),$.filtersNodes()),it=new CacheNode(nt,et.isFullyInitialized(),j.filtersNodes());this.viewCache_=newViewCache(it,ot),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function viewGetServerCache(s){return s.viewCache_.serverCache.getNode()}function viewGetCompleteNode(s){return viewCacheGetCompleteEventSnap(s.viewCache_)}function viewGetCompleteServerCache(s,o){const i=viewCacheGetCompleteServerSnap(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!pathIsEmpty(o)&&!i.getImmediateChild(pathGetFront(o)).isEmpty())?i.getChild(o):null}function viewIsEmpty(s){return s.eventRegistrations_.length===0}function viewAddEventRegistration(s,o){s.eventRegistrations_.push(o)}function viewRemoveEventRegistration(s,o,i){const a=[];if(i){assert(o==null,"A cancel should cancel all event registrations.");const $=s.query._path;s.eventRegistrations_.forEach(j=>{const _e=j.createCancelEvent(i,$);_e&&a.push(_e)})}if(o){let $=[];for(let j=0;j<s.eventRegistrations_.length;++j){const _e=s.eventRegistrations_[j];if(!_e.matches(o))$.push(_e);else if(o.hasAnyCallback()){$=$.concat(s.eventRegistrations_.slice(j+1));break}}s.eventRegistrations_=$}else s.eventRegistrations_=[];return a}function viewApplyOperation(s,o,i,a){o.type===OperationType.MERGE&&o.source.queryId!==null&&(assert(viewCacheGetCompleteServerSnap(s.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(s.viewCache_),"Missing event cache, even though we have a server cache"));const $=s.viewCache_,j=viewProcessorApplyOperation(s.processor_,$,o,i,a);return viewProcessorAssertIndexed(s.processor_,j.viewCache),assert(j.viewCache.serverCache.isFullyInitialized()||!$.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=j.viewCache,viewGenerateEventsForChanges_(s,j.changes,j.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents(s,o){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(PRIORITY_INDEX,(j,_e)=>{a.push(changeChildAdded(j,_e))}),i.isFullyInitialized()&&a.push(changeValue(i.getNode())),viewGenerateEventsForChanges_(s,a,i.getNode(),o)}function viewGenerateEventsForChanges_(s,o,i,a){const $=a?[a]:s.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(s.eventGenerator_,o,i,$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor$1;class SyncPoint{constructor(){this.views=new Map}}function syncPointSetReferenceConstructor(s){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=s}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty(s){return s.views.size===0}function syncPointApplyOperation(s,o,i,a){const $=o.source.queryId;if($!==null){const j=s.views.get($);return assert(j!=null,"SyncTree gave us an op for an invalid query."),viewApplyOperation(j,o,i,a)}else{let j=[];for(const _e of s.views.values())j=j.concat(viewApplyOperation(_e,o,i,a));return j}}function syncPointGetView(s,o,i,a,$){const j=o._queryIdentifier,_e=s.views.get(j);if(!_e){let et=writeTreeRefCalcCompleteEventCache(i,$?a:null),tt=!1;et?tt=!0:a instanceof ChildrenNode?(et=writeTreeRefCalcCompleteEventChildren(i,a),tt=!1):(et=ChildrenNode.EMPTY_NODE,tt=!1);const nt=newViewCache(new CacheNode(et,tt,!1),new CacheNode(a,$,!1));return new View(o,nt)}return _e}function syncPointAddEventRegistration(s,o,i,a,$,j){const _e=syncPointGetView(s,o,a,$,j);return s.views.has(o._queryIdentifier)||s.views.set(o._queryIdentifier,_e),viewAddEventRegistration(_e,i),viewGetInitialEvents(_e,i)}function syncPointRemoveEventRegistration(s,o,i,a){const $=o._queryIdentifier,j=[];let _e=[];const et=syncPointHasCompleteView(s);if($==="default")for(const[tt,nt]of s.views.entries())_e=_e.concat(viewRemoveEventRegistration(nt,i,a)),viewIsEmpty(nt)&&(s.views.delete(tt),nt.query._queryParams.loadsAllData()||j.push(nt.query));else{const tt=s.views.get($);tt&&(_e=_e.concat(viewRemoveEventRegistration(tt,i,a)),viewIsEmpty(tt)&&(s.views.delete($),tt.query._queryParams.loadsAllData()||j.push(tt.query)))}return et&&!syncPointHasCompleteView(s)&&j.push(new(syncPointGetReferenceConstructor())(o._repo,o._path)),{removed:j,events:_e}}function syncPointGetQueryViews(s){const o=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||o.push(i);return o}function syncPointGetCompleteServerCache(s,o){let i=null;for(const a of s.views.values())i=i||viewGetCompleteServerCache(a,o);return i}function syncPointViewForQuery(s,o){if(o._queryParams.loadsAllData())return syncPointGetCompleteView(s);{const a=o._queryIdentifier;return s.views.get(a)}}function syncPointViewExistsForQuery(s,o){return syncPointViewForQuery(s,o)!=null}function syncPointHasCompleteView(s){return syncPointGetCompleteView(s)!=null}function syncPointGetCompleteView(s){for(const o of s.views.values())if(o.query._queryParams.loadsAllData())return o;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor;function syncTreeSetReferenceConstructor(s){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=s}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}let syncTreeNextQueryTag_=1;class SyncTree{constructor(o){this.listenProvider_=o,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite(s,o,i,a,$){return writeTreeAddOverwrite(s.pendingWriteTree_,o,i,a,$),$?syncTreeApplyOperationToSyncPoints_(s,new Overwrite(newOperationSourceUser(),o,i)):[]}function syncTreeApplyUserMerge(s,o,i,a){writeTreeAddMerge(s.pendingWriteTree_,o,i,a);const $=ImmutableTree.fromObject(i);return syncTreeApplyOperationToSyncPoints_(s,new Merge(newOperationSourceUser(),o,$))}function syncTreeAckUserWrite(s,o,i=!1){const a=writeTreeGetWrite(s.pendingWriteTree_,o);if(writeTreeRemoveWrite(s.pendingWriteTree_,o)){let j=new ImmutableTree(null);return a.snap!=null?j=j.set(newEmptyPath(),!0):each(a.children,_e=>{j=j.set(new Path(_e),!0)}),syncTreeApplyOperationToSyncPoints_(s,new AckUserWrite(a.path,j,i))}else return[]}function syncTreeApplyServerOverwrite(s,o,i){return syncTreeApplyOperationToSyncPoints_(s,new Overwrite(newOperationSourceServer(),o,i))}function syncTreeApplyServerMerge(s,o,i){const a=ImmutableTree.fromObject(i);return syncTreeApplyOperationToSyncPoints_(s,new Merge(newOperationSourceServer(),o,a))}function syncTreeApplyListenComplete(s,o){return syncTreeApplyOperationToSyncPoints_(s,new ListenComplete(newOperationSourceServer(),o))}function syncTreeApplyTaggedListenComplete(s,o,i){const a=syncTreeQueryKeyForTag_(s,i);if(a){const $=syncTreeParseQueryKey_(a),j=$.path,_e=$.queryId,et=newRelativePath(j,o),tt=new ListenComplete(newOperationSourceServerTaggedQuery(_e),et);return syncTreeApplyTaggedOperation_(s,j,tt)}else return[]}function syncTreeRemoveEventRegistration(s,o,i,a,$=!1){const j=o._path,_e=s.syncPointTree_.get(j);let et=[];if(_e&&(o._queryIdentifier==="default"||syncPointViewExistsForQuery(_e,o))){const tt=syncPointRemoveEventRegistration(_e,o,i,a);syncPointIsEmpty(_e)&&(s.syncPointTree_=s.syncPointTree_.remove(j));const nt=tt.removed;if(et=tt.events,!$){const ot=nt.findIndex(st=>st._queryParams.loadsAllData())!==-1,it=s.syncPointTree_.findOnPath(j,(st,ut)=>syncPointHasCompleteView(ut));if(ot&&!it){const st=s.syncPointTree_.subtree(j);if(!st.isEmpty()){const ut=syncTreeCollectDistinctViewsForSubTree_(st);for(let lt=0;lt<ut.length;++lt){const rt=ut[lt],dt=rt.query,ct=syncTreeCreateListenerForView_(s,rt);s.listenProvider_.startListening(syncTreeQueryForListening_(dt),syncTreeTagForQuery(s,dt),ct.hashFn,ct.onComplete)}}}!it&&nt.length>0&&!a&&(ot?s.listenProvider_.stopListening(syncTreeQueryForListening_(o),null):nt.forEach(st=>{const ut=s.queryToTagMap.get(syncTreeMakeQueryKey_(st));s.listenProvider_.stopListening(syncTreeQueryForListening_(st),ut)}))}syncTreeRemoveTags_(s,nt)}return et}function syncTreeApplyTaggedQueryOverwrite(s,o,i,a){const $=syncTreeQueryKeyForTag_(s,a);if($!=null){const j=syncTreeParseQueryKey_($),_e=j.path,et=j.queryId,tt=newRelativePath(_e,o),nt=new Overwrite(newOperationSourceServerTaggedQuery(et),tt,i);return syncTreeApplyTaggedOperation_(s,_e,nt)}else return[]}function syncTreeApplyTaggedQueryMerge(s,o,i,a){const $=syncTreeQueryKeyForTag_(s,a);if($){const j=syncTreeParseQueryKey_($),_e=j.path,et=j.queryId,tt=newRelativePath(_e,o),nt=ImmutableTree.fromObject(i),ot=new Merge(newOperationSourceServerTaggedQuery(et),tt,nt);return syncTreeApplyTaggedOperation_(s,_e,ot)}else return[]}function syncTreeAddEventRegistration(s,o,i,a=!1){const $=o._path;let j=null,_e=!1;s.syncPointTree_.foreachOnPath($,(st,ut)=>{const lt=newRelativePath(st,$);j=j||syncPointGetCompleteServerCache(ut,lt),_e=_e||syncPointHasCompleteView(ut)});let et=s.syncPointTree_.get($);et?(_e=_e||syncPointHasCompleteView(et),j=j||syncPointGetCompleteServerCache(et,newEmptyPath())):(et=new SyncPoint,s.syncPointTree_=s.syncPointTree_.set($,et));let tt;j!=null?tt=!0:(tt=!1,j=ChildrenNode.EMPTY_NODE,s.syncPointTree_.subtree($).foreachChild((ut,lt)=>{const rt=syncPointGetCompleteServerCache(lt,newEmptyPath());rt&&(j=j.updateImmediateChild(ut,rt))}));const nt=syncPointViewExistsForQuery(et,o);if(!nt&&!o._queryParams.loadsAllData()){const st=syncTreeMakeQueryKey_(o);assert(!s.queryToTagMap.has(st),"View does not exist, but we have a tag");const ut=syncTreeGetNextQueryTag_();s.queryToTagMap.set(st,ut),s.tagToQueryMap.set(ut,st)}const ot=writeTreeChildWrites(s.pendingWriteTree_,$);let it=syncPointAddEventRegistration(et,o,i,ot,j,tt);if(!nt&&!_e&&!a){const st=syncPointViewForQuery(et,o);it=it.concat(syncTreeSetupListener_(s,o,st))}return it}function syncTreeCalcCompleteEventCache(s,o,i){const $=s.pendingWriteTree_,j=s.syncPointTree_.findOnPath(o,(_e,et)=>{const tt=newRelativePath(_e,o),nt=syncPointGetCompleteServerCache(et,tt);if(nt)return nt});return writeTreeCalcCompleteEventCache($,o,j,i,!0)}function syncTreeGetServerValue(s,o){const i=o._path;let a=null;s.syncPointTree_.foreachOnPath(i,(nt,ot)=>{const it=newRelativePath(nt,i);a=a||syncPointGetCompleteServerCache(ot,it)});let $=s.syncPointTree_.get(i);$?a=a||syncPointGetCompleteServerCache($,newEmptyPath()):($=new SyncPoint,s.syncPointTree_=s.syncPointTree_.set(i,$));const j=a!=null,_e=j?new CacheNode(a,!0,!1):null,et=writeTreeChildWrites(s.pendingWriteTree_,o._path),tt=syncPointGetView($,o,et,j?_e.getNode():ChildrenNode.EMPTY_NODE,j);return viewGetCompleteNode(tt)}function syncTreeApplyOperationToSyncPoints_(s,o){return syncTreeApplyOperationHelper_(o,s.syncPointTree_,null,writeTreeChildWrites(s.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(s,o,i,a){if(pathIsEmpty(s.path))return syncTreeApplyOperationDescendantsHelper_(s,o,i,a);{const $=o.get(newEmptyPath());i==null&&$!=null&&(i=syncPointGetCompleteServerCache($,newEmptyPath()));let j=[];const _e=pathGetFront(s.path),et=s.operationForChild(_e),tt=o.children.get(_e);if(tt&&et){const nt=i?i.getImmediateChild(_e):null,ot=writeTreeRefChild(a,_e);j=j.concat(syncTreeApplyOperationHelper_(et,tt,nt,ot))}return $&&(j=j.concat(syncPointApplyOperation($,s,a,i))),j}}function syncTreeApplyOperationDescendantsHelper_(s,o,i,a){const $=o.get(newEmptyPath());i==null&&$!=null&&(i=syncPointGetCompleteServerCache($,newEmptyPath()));let j=[];return o.children.inorderTraversal((_e,et)=>{const tt=i?i.getImmediateChild(_e):null,nt=writeTreeRefChild(a,_e),ot=s.operationForChild(_e);ot&&(j=j.concat(syncTreeApplyOperationDescendantsHelper_(ot,et,tt,nt)))}),$&&(j=j.concat(syncPointApplyOperation($,s,a,i))),j}function syncTreeCreateListenerForView_(s,o){const i=o.query,a=syncTreeTagForQuery(s,i);return{hashFn:()=>(viewGetServerCache(o)||ChildrenNode.EMPTY_NODE).hash(),onComplete:$=>{if($==="ok")return a?syncTreeApplyTaggedListenComplete(s,i._path,a):syncTreeApplyListenComplete(s,i._path);{const j=errorForServerCode($,i);return syncTreeRemoveEventRegistration(s,i,null,j)}}}}function syncTreeTagForQuery(s,o){const i=syncTreeMakeQueryKey_(o);return s.queryToTagMap.get(i)}function syncTreeMakeQueryKey_(s){return s._path.toString()+"$"+s._queryIdentifier}function syncTreeQueryKeyForTag_(s,o){return s.tagToQueryMap.get(o)}function syncTreeParseQueryKey_(s){const o=s.indexOf("$");return assert(o!==-1&&o<s.length-1,"Bad queryKey."),{queryId:s.substr(o+1),path:new Path(s.substr(0,o))}}function syncTreeApplyTaggedOperation_(s,o,i){const a=s.syncPointTree_.get(o);assert(a,"Missing sync point for query tag that we're tracking");const $=writeTreeChildWrites(s.pendingWriteTree_,o);return syncPointApplyOperation(a,i,$,null)}function syncTreeCollectDistinctViewsForSubTree_(s){return s.fold((o,i,a)=>{if(i&&syncPointHasCompleteView(i))return[syncPointGetCompleteView(i)];{let $=[];return i&&($=syncPointGetQueryViews(i)),each(a,(j,_e)=>{$=$.concat(_e)}),$}})}function syncTreeQueryForListening_(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())(s._repo,s._path):s}function syncTreeRemoveTags_(s,o){for(let i=0;i<o.length;++i){const a=o[i];if(!a._queryParams.loadsAllData()){const $=syncTreeMakeQueryKey_(a),j=s.queryToTagMap.get($);s.queryToTagMap.delete($),s.tagToQueryMap.delete(j)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_(s,o,i){const a=o._path,$=syncTreeTagForQuery(s,o),j=syncTreeCreateListenerForView_(s,i),_e=s.listenProvider_.startListening(syncTreeQueryForListening_(o),$,j.hashFn,j.onComplete),et=s.syncPointTree_.subtree(a);if($)assert(!syncPointHasCompleteView(et.value),"If we're adding a query, it shouldn't be shadowed");else{const tt=et.fold((nt,ot,it)=>{if(!pathIsEmpty(nt)&&ot&&syncPointHasCompleteView(ot))return[syncPointGetCompleteView(ot).query];{let st=[];return ot&&(st=st.concat(syncPointGetQueryViews(ot).map(ut=>ut.query))),each(it,(ut,lt)=>{st=st.concat(lt)}),st}});for(let nt=0;nt<tt.length;++nt){const ot=tt[nt];s.listenProvider_.stopListening(syncTreeQueryForListening_(ot),syncTreeTagForQuery(s,ot))}}return _e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistingValueProvider{constructor(o){this.node_=o}getImmediateChild(o){const i=this.node_.getImmediateChild(o);return new ExistingValueProvider(i)}node(){return this.node_}}class DeferredValueProvider{constructor(o,i){this.syncTree_=o,this.path_=i}getImmediateChild(o){const i=pathChild(this.path_,o);return new DeferredValueProvider(this.syncTree_,i)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},resolveDeferredLeafValue=function(s,o,i){if(!s||typeof s!="object")return s;if(assert(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return resolveScalarDeferredValue(s[".sv"],o,i);if(typeof s[".sv"]=="object")return resolveComplexDeferredValue(s[".sv"],o);assert(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},resolveScalarDeferredValue=function(s,o,i){switch(s){case"timestamp":return i.timestamp;default:assert(!1,"Unexpected server value: "+s)}},resolveComplexDeferredValue=function(s,o,i){s.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&assert(!1,"Unexpected increment value: "+a);const $=o.node();if(assert($!==null&&typeof $<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!$.isLeafNode())return a;const _e=$.getValue();return typeof _e!="number"?a:_e+a},resolveDeferredValueTree=function(s,o,i,a){return resolveDeferredValue(o,new DeferredValueProvider(i,s),a)},resolveDeferredValueSnapshot=function(s,o,i){return resolveDeferredValue(s,new ExistingValueProvider(o),i)};function resolveDeferredValue(s,o,i){const a=s.getPriority().val(),$=resolveDeferredLeafValue(a,o.getImmediateChild(".priority"),i);let j;if(s.isLeafNode()){const _e=s,et=resolveDeferredLeafValue(_e.getValue(),o,i);return et!==_e.getValue()||$!==_e.getPriority().val()?new LeafNode(et,nodeFromJSON($)):s}else{const _e=s;return j=_e,$!==_e.getPriority().val()&&(j=j.updatePriority(new LeafNode($))),_e.forEachChild(PRIORITY_INDEX,(et,tt)=>{const nt=resolveDeferredValue(tt,o.getImmediateChild(et),i);nt!==tt&&(j=j.updateImmediateChild(et,nt))}),j}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tree{constructor(o="",i=null,a={children:{},childCount:0}){this.name=o,this.parent=i,this.node=a}}function treeSubTree(s,o){let i=o instanceof Path?o:new Path(o),a=s,$=pathGetFront(i);for(;$!==null;){const j=safeGet(a.node.children,$)||{children:{},childCount:0};a=new Tree($,a,j),i=pathPopFront(i),$=pathGetFront(i)}return a}function treeGetValue(s){return s.node.value}function treeSetValue(s,o){s.node.value=o,treeUpdateParents(s)}function treeHasChildren(s){return s.node.childCount>0}function treeIsEmpty(s){return treeGetValue(s)===void 0&&!treeHasChildren(s)}function treeForEachChild(s,o){each(s.node.children,(i,a)=>{o(new Tree(i,s,a))})}function treeForEachDescendant(s,o,i,a){i&&!a&&o(s),treeForEachChild(s,$=>{treeForEachDescendant($,o,!0,a)}),i&&a&&o(s)}function treeForEachAncestor(s,o,i){let a=i?s:s.parent;for(;a!==null;){if(o(a))return!0;a=a.parent}return!1}function treeGetPath(s){return new Path(s.parent===null?s.name:treeGetPath(s.parent)+"/"+s.name)}function treeUpdateParents(s){s.parent!==null&&treeUpdateChild(s.parent,s.name,s)}function treeUpdateChild(s,o,i){const a=treeIsEmpty(i),$=contains$1(s.node.children,o);a&&$?(delete s.node.children[o],s.node.childCount--,treeUpdateParents(s)):!a&&!$&&(s.node.children[o]=i.node,s.node.childCount++,treeUpdateParents(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10*1024*1024,isValidKey=function(s){return typeof s=="string"&&s.length!==0&&!INVALID_KEY_REGEX_.test(s)},isValidPathString=function(s){return typeof s=="string"&&s.length!==0&&!INVALID_PATH_REGEX_.test(s)},isValidRootPathString=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(s)},isValidPriority=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!isInvalidJSONNumber(s)||s&&typeof s=="object"&&contains$1(s,".sv")},validateFirebaseDataArg=function(s,o,i,a){a&&o===void 0||validateFirebaseData(errorPrefix(s,"value"),o,i)},validateFirebaseData=function(s,o,i){const a=i instanceof Path?new ValidationPath(i,s):i;if(o===void 0)throw new Error(s+"contains undefined "+validationPathToErrorString(a));if(typeof o=="function")throw new Error(s+"contains a function "+validationPathToErrorString(a)+" with contents = "+o.toString());if(isInvalidJSONNumber(o))throw new Error(s+"contains "+o.toString()+" "+validationPathToErrorString(a));if(typeof o=="string"&&o.length>MAX_LEAF_SIZE_/3&&stringLength(o)>MAX_LEAF_SIZE_)throw new Error(s+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(a)+" ('"+o.substring(0,50)+"...')");if(o&&typeof o=="object"){let $=!1,j=!1;if(each(o,(_e,et)=>{if(_e===".value")$=!0;else if(_e!==".priority"&&_e!==".sv"&&(j=!0,!isValidKey(_e)))throw new Error(s+" contains an invalid key ("+_e+") "+validationPathToErrorString(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);validationPathPush(a,_e),validateFirebaseData(s,et,a),validationPathPop(a)}),$&&j)throw new Error(s+' contains ".value" child '+validationPathToErrorString(a)+" in addition to actual children.")}},validateFirebaseMergePaths=function(s,o){let i,a;for(i=0;i<o.length;i++){a=o[i];const j=pathSlice(a);for(let _e=0;_e<j.length;_e++)if(!(j[_e]===".priority"&&_e===j.length-1)){if(!isValidKey(j[_e]))throw new Error(s+"contains an invalid key ("+j[_e]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}o.sort(pathCompare);let $=null;for(i=0;i<o.length;i++){if(a=o[i],$!==null&&pathContains($,a))throw new Error(s+"contains a path "+$.toString()+" that is ancestor of another path "+a.toString());$=a}},validateFirebaseMergeDataArg=function(s,o,i,a){if(a&&o===void 0)return;const $=errorPrefix(s,"values");if(!(o&&typeof o=="object")||Array.isArray(o))throw new Error($+" must be an object containing the children to replace.");const j=[];each(o,(_e,et)=>{const tt=new Path(_e);if(validateFirebaseData($,et,pathChild(i,tt)),pathGetBack(tt)===".priority"&&!isValidPriority(et))throw new Error($+"contains an invalid value for '"+tt.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");j.push(tt)}),validateFirebaseMergePaths($,j)},validatePathString=function(s,o,i,a){if(!(a&&i===void 0)&&!isValidPathString(i))throw new Error(errorPrefix(s,o)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},validateRootPathString=function(s,o,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),validatePathString(s,o,i,a)},validateWritablePath=function(s,o){if(pathGetFront(o)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},validateUrl=function(s,o){const i=o.path.toString();if(typeof o.repoInfo.host!="string"||o.repoInfo.host.length===0||!isValidKey(o.repoInfo.namespace)&&o.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!isValidRootPathString(i))throw new Error(errorPrefix(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents(s,o){let i=null;for(let a=0;a<o.length;a++){const $=o[a],j=$.getPath();i!==null&&!pathEquals(j,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:j}),i.events.push($)}i&&s.eventLists_.push(i)}function eventQueueRaiseEventsAtPath(s,o,i){eventQueueQueueEvents(s,i),eventQueueRaiseQueuedEventsMatchingPredicate(s,a=>pathEquals(a,o))}function eventQueueRaiseEventsForChangedPath(s,o,i){eventQueueQueueEvents(s,i),eventQueueRaiseQueuedEventsMatchingPredicate(s,a=>pathContains(a,o)||pathContains(o,a))}function eventQueueRaiseQueuedEventsMatchingPredicate(s,o){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const $=s.eventLists_[a];if($){const j=$.path;o(j)?(eventListRaise(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function eventListRaise(s){for(let o=0;o<s.events.length;o++){const i=s.events[o];if(i!==null){s.events[o]=null;const a=i.getEventRunner();logger&&log("event: "+i.toString()),exceptionGuard(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(o,i,a,$){this.repoInfo_=o,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=$,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart(s,o,i){if(s.stats_=statsManagerGetCollection(s.repoInfo_),s.forceRestClient_||beingCrawled())s.server_=new ReadonlyRestClient(s.repoInfo_,(a,$,j,_e)=>{repoOnDataUpdate(s,a,$,j,_e)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>repoOnConnectStatus(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify$1(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new PersistentConnection(s.repoInfo_,o,(a,$,j,_e)=>{repoOnDataUpdate(s,a,$,j,_e)},a=>{repoOnConnectStatus(s,a)},a=>{repoOnServerInfoUpdate(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=statsManagerGetOrCreateReporter(s.repoInfo_,()=>new StatsReporter(s.stats_,s.server_)),s.infoData_=new SnapshotHolder,s.infoSyncTree_=new SyncTree({startListening:(a,$,j,_e)=>{let et=[];const tt=s.infoData_.getNode(a._path);return tt.isEmpty()||(et=syncTreeApplyServerOverwrite(s.infoSyncTree_,a._path,tt),setTimeout(()=>{_e("ok")},0)),et},stopListening:()=>{}}),repoUpdateInfo(s,"connected",!1),s.serverSyncTree_=new SyncTree({startListening:(a,$,j,_e)=>(s.server_.listen(a,j,$,(et,tt)=>{const nt=_e(et,tt);eventQueueRaiseEventsForChangedPath(s.eventQueue_,a._path,nt)}),[]),stopListening:(a,$)=>{s.server_.unlisten(a,$)}})}function repoServerTime(s){const i=s.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function repoGenerateServerValues(s){return generateWithValues({timestamp:repoServerTime(s)})}function repoOnDataUpdate(s,o,i,a,$){s.dataUpdateCount++;const j=new Path(o);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(o,i):i;let _e=[];if($)if(a){const tt=map(i,nt=>nodeFromJSON(nt));_e=syncTreeApplyTaggedQueryMerge(s.serverSyncTree_,j,tt,$)}else{const tt=nodeFromJSON(i);_e=syncTreeApplyTaggedQueryOverwrite(s.serverSyncTree_,j,tt,$)}else if(a){const tt=map(i,nt=>nodeFromJSON(nt));_e=syncTreeApplyServerMerge(s.serverSyncTree_,j,tt)}else{const tt=nodeFromJSON(i);_e=syncTreeApplyServerOverwrite(s.serverSyncTree_,j,tt)}let et=j;_e.length>0&&(et=repoRerunTransactions(s,j)),eventQueueRaiseEventsForChangedPath(s.eventQueue_,et,_e)}function repoOnConnectStatus(s,o){repoUpdateInfo(s,"connected",o),o===!1&&repoRunOnDisconnectEvents(s)}function repoOnServerInfoUpdate(s,o){each(o,(i,a)=>{repoUpdateInfo(s,i,a)})}function repoUpdateInfo(s,o,i){const a=new Path("/.info/"+o),$=nodeFromJSON(i);s.infoData_.updateSnapshot(a,$);const j=syncTreeApplyServerOverwrite(s.infoSyncTree_,a,$);eventQueueRaiseEventsForChangedPath(s.eventQueue_,a,j)}function repoGetNextWriteId(s){return s.nextWriteId_++}function repoGetValue(s,o,i){const a=syncTreeGetServerValue(s.serverSyncTree_,o);return a!=null?Promise.resolve(a):s.server_.get(o).then($=>{const j=nodeFromJSON($).withIndex(o._queryParams.getIndex());syncTreeAddEventRegistration(s.serverSyncTree_,o,i,!0);let _e;if(o._queryParams.loadsAllData())_e=syncTreeApplyServerOverwrite(s.serverSyncTree_,o._path,j);else{const et=syncTreeTagForQuery(s.serverSyncTree_,o);_e=syncTreeApplyTaggedQueryOverwrite(s.serverSyncTree_,o._path,j,et)}return eventQueueRaiseEventsForChangedPath(s.eventQueue_,o._path,_e),syncTreeRemoveEventRegistration(s.serverSyncTree_,o,i,null,!0),j},$=>(repoLog(s,"get for query "+stringify$1(o)+" failed: "+$),Promise.reject(new Error($))))}function repoSetWithPriority(s,o,i,a,$){repoLog(s,"set",{path:o.toString(),value:i,priority:a});const j=repoGenerateServerValues(s),_e=nodeFromJSON(i,a),et=syncTreeCalcCompleteEventCache(s.serverSyncTree_,o),tt=resolveDeferredValueSnapshot(_e,et,j),nt=repoGetNextWriteId(s),ot=syncTreeApplyUserOverwrite(s.serverSyncTree_,o,tt,nt,!0);eventQueueQueueEvents(s.eventQueue_,ot),s.server_.put(o.toString(),_e.val(!0),(st,ut)=>{const lt=st==="ok";lt||warn("set at "+o+" failed: "+st);const rt=syncTreeAckUserWrite(s.serverSyncTree_,nt,!lt);eventQueueRaiseEventsForChangedPath(s.eventQueue_,o,rt),repoCallOnCompleteCallback(s,$,st,ut)});const it=repoAbortTransactions(s,o);repoRerunTransactions(s,it),eventQueueRaiseEventsForChangedPath(s.eventQueue_,it,[])}function repoUpdate(s,o,i,a){repoLog(s,"update",{path:o.toString(),value:i});let $=!0;const j=repoGenerateServerValues(s),_e={};if(each(i,(et,tt)=>{$=!1,_e[et]=resolveDeferredValueTree(pathChild(o,et),nodeFromJSON(tt),s.serverSyncTree_,j)}),$)log("update() called with empty data.  Don't do anything."),repoCallOnCompleteCallback(s,a,"ok",void 0);else{const et=repoGetNextWriteId(s),tt=syncTreeApplyUserMerge(s.serverSyncTree_,o,_e,et);eventQueueQueueEvents(s.eventQueue_,tt),s.server_.merge(o.toString(),i,(nt,ot)=>{const it=nt==="ok";it||warn("update at "+o+" failed: "+nt);const st=syncTreeAckUserWrite(s.serverSyncTree_,et,!it),ut=st.length>0?repoRerunTransactions(s,o):o;eventQueueRaiseEventsForChangedPath(s.eventQueue_,ut,st),repoCallOnCompleteCallback(s,a,nt,ot)}),each(i,nt=>{const ot=repoAbortTransactions(s,pathChild(o,nt));repoRerunTransactions(s,ot)}),eventQueueRaiseEventsForChangedPath(s.eventQueue_,o,[])}}function repoRunOnDisconnectEvents(s){repoLog(s,"onDisconnectEvents");const o=repoGenerateServerValues(s),i=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(s.onDisconnect_,newEmptyPath(),($,j)=>{const _e=resolveDeferredValueTree($,j,s.serverSyncTree_,o);sparseSnapshotTreeRemember(i,$,_e)});let a=[];sparseSnapshotTreeForEachTree(i,newEmptyPath(),($,j)=>{a=a.concat(syncTreeApplyServerOverwrite(s.serverSyncTree_,$,j));const _e=repoAbortTransactions(s,$);repoRerunTransactions(s,_e)}),s.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(s.eventQueue_,newEmptyPath(),a)}function repoAddEventCallbackForQuery(s,o,i){let a;pathGetFront(o._path)===".info"?a=syncTreeAddEventRegistration(s.infoSyncTree_,o,i):a=syncTreeAddEventRegistration(s.serverSyncTree_,o,i),eventQueueRaiseEventsAtPath(s.eventQueue_,o._path,a)}function repoRemoveEventCallbackForQuery(s,o,i){let a;pathGetFront(o._path)===".info"?a=syncTreeRemoveEventRegistration(s.infoSyncTree_,o,i):a=syncTreeRemoveEventRegistration(s.serverSyncTree_,o,i),eventQueueRaiseEventsAtPath(s.eventQueue_,o._path,a)}function repoInterrupt(s){s.persistentConnection_&&s.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog(s,...o){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),log(i,...o)}function repoCallOnCompleteCallback(s,o,i,a){o&&exceptionGuard(()=>{if(i==="ok")o(null);else{const $=(i||"error").toUpperCase();let j=$;a&&(j+=": "+a);const _e=new Error(j);_e.code=$,o(_e)}})}function repoGetLatestState(s,o,i){return syncTreeCalcCompleteEventCache(s.serverSyncTree_,o,i)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(s,o=s.transactionQueueTree_){if(o||repoPruneCompletedTransactionsBelowNode(s,o),treeGetValue(o)){const i=repoBuildTransactionQueue(s,o);assert(i.length>0,"Sending zero length transaction queue"),i.every($=>$.status===0)&&repoSendTransactionQueue(s,treeGetPath(o),i)}else treeHasChildren(o)&&treeForEachChild(o,i=>{repoSendReadyTransactions(s,i)})}function repoSendTransactionQueue(s,o,i){const a=i.map(nt=>nt.currentWriteId),$=repoGetLatestState(s,o,a);let j=$;const _e=$.hash();for(let nt=0;nt<i.length;nt++){const ot=i[nt];assert(ot.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),ot.status=1,ot.retryCount++;const it=newRelativePath(o,ot.path);j=j.updateChild(it,ot.currentOutputSnapshotRaw)}const et=j.val(!0),tt=o;s.server_.put(tt.toString(),et,nt=>{repoLog(s,"transaction put response",{path:tt.toString(),status:nt});let ot=[];if(nt==="ok"){const it=[];for(let st=0;st<i.length;st++)i[st].status=2,ot=ot.concat(syncTreeAckUserWrite(s.serverSyncTree_,i[st].currentWriteId)),i[st].onComplete&&it.push(()=>i[st].onComplete(null,!0,i[st].currentOutputSnapshotResolved)),i[st].unwatcher();repoPruneCompletedTransactionsBelowNode(s,treeSubTree(s.transactionQueueTree_,o)),repoSendReadyTransactions(s,s.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(s.eventQueue_,o,ot);for(let st=0;st<it.length;st++)exceptionGuard(it[st])}else{if(nt==="datastale")for(let it=0;it<i.length;it++)i[it].status===3?i[it].status=4:i[it].status=0;else{warn("transaction at "+tt.toString()+" failed: "+nt);for(let it=0;it<i.length;it++)i[it].status=4,i[it].abortReason=nt}repoRerunTransactions(s,o)}},_e)}function repoRerunTransactions(s,o){const i=repoGetAncestorTransactionNode(s,o),a=treeGetPath(i),$=repoBuildTransactionQueue(s,i);return repoRerunTransactionQueue(s,$,a),a}function repoRerunTransactionQueue(s,o,i){if(o.length===0)return;const a=[];let $=[];const _e=o.filter(et=>et.status===0).map(et=>et.currentWriteId);for(let et=0;et<o.length;et++){const tt=o[et],nt=newRelativePath(i,tt.path);let ot=!1,it;if(assert(nt!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),tt.status===4)ot=!0,it=tt.abortReason,$=$.concat(syncTreeAckUserWrite(s.serverSyncTree_,tt.currentWriteId,!0));else if(tt.status===0)if(tt.retryCount>=MAX_TRANSACTION_RETRIES)ot=!0,it="maxretry",$=$.concat(syncTreeAckUserWrite(s.serverSyncTree_,tt.currentWriteId,!0));else{const st=repoGetLatestState(s,tt.path,_e);tt.currentInputSnapshot=st;const ut=o[et].update(st.val());if(ut!==void 0){validateFirebaseData("transaction failed: Data returned ",ut,tt.path);let lt=nodeFromJSON(ut);typeof ut=="object"&&ut!=null&&contains$1(ut,".priority")||(lt=lt.updatePriority(st.getPriority()));const dt=tt.currentWriteId,ct=repoGenerateServerValues(s),pt=resolveDeferredValueSnapshot(lt,st,ct);tt.currentOutputSnapshotRaw=lt,tt.currentOutputSnapshotResolved=pt,tt.currentWriteId=repoGetNextWriteId(s),_e.splice(_e.indexOf(dt),1),$=$.concat(syncTreeApplyUserOverwrite(s.serverSyncTree_,tt.path,pt,tt.currentWriteId,tt.applyLocally)),$=$.concat(syncTreeAckUserWrite(s.serverSyncTree_,dt,!0))}else ot=!0,it="nodata",$=$.concat(syncTreeAckUserWrite(s.serverSyncTree_,tt.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(s.eventQueue_,i,$),$=[],ot&&(o[et].status=2,function(st){setTimeout(st,Math.floor(0))}(o[et].unwatcher),o[et].onComplete&&(it==="nodata"?a.push(()=>o[et].onComplete(null,!1,o[et].currentInputSnapshot)):a.push(()=>o[et].onComplete(new Error(it),!1,null))))}repoPruneCompletedTransactionsBelowNode(s,s.transactionQueueTree_);for(let et=0;et<a.length;et++)exceptionGuard(a[et]);repoSendReadyTransactions(s,s.transactionQueueTree_)}function repoGetAncestorTransactionNode(s,o){let i,a=s.transactionQueueTree_;for(i=pathGetFront(o);i!==null&&treeGetValue(a)===void 0;)a=treeSubTree(a,i),o=pathPopFront(o),i=pathGetFront(o);return a}function repoBuildTransactionQueue(s,o){const i=[];return repoAggregateTransactionQueuesForNode(s,o,i),i.sort((a,$)=>a.order-$.order),i}function repoAggregateTransactionQueuesForNode(s,o,i){const a=treeGetValue(o);if(a)for(let $=0;$<a.length;$++)i.push(a[$]);treeForEachChild(o,$=>{repoAggregateTransactionQueuesForNode(s,$,i)})}function repoPruneCompletedTransactionsBelowNode(s,o){const i=treeGetValue(o);if(i){let a=0;for(let $=0;$<i.length;$++)i[$].status!==2&&(i[a]=i[$],a++);i.length=a,treeSetValue(o,i.length>0?i:void 0)}treeForEachChild(o,a=>{repoPruneCompletedTransactionsBelowNode(s,a)})}function repoAbortTransactions(s,o){const i=treeGetPath(repoGetAncestorTransactionNode(s,o)),a=treeSubTree(s.transactionQueueTree_,o);return treeForEachAncestor(a,$=>{repoAbortTransactionsOnNode(s,$)}),repoAbortTransactionsOnNode(s,a),treeForEachDescendant(a,$=>{repoAbortTransactionsOnNode(s,$)}),i}function repoAbortTransactionsOnNode(s,o){const i=treeGetValue(o);if(i){const a=[];let $=[],j=-1;for(let _e=0;_e<i.length;_e++)i[_e].status===3||(i[_e].status===1?(assert(j===_e-1,"All SENT items should be at beginning of queue."),j=_e,i[_e].status=3,i[_e].abortReason="set"):(assert(i[_e].status===0,"Unexpected transaction status in abort"),i[_e].unwatcher(),$=$.concat(syncTreeAckUserWrite(s.serverSyncTree_,i[_e].currentWriteId,!0)),i[_e].onComplete&&a.push(i[_e].onComplete.bind(null,new Error("set"),!1,null))));j===-1?treeSetValue(o,void 0):i.length=j+1,eventQueueRaiseEventsForChangedPath(s.eventQueue_,treeGetPath(o),$);for(let _e=0;_e<a.length;_e++)exceptionGuard(a[_e])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath(s){let o="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let $=i[a];try{$=decodeURIComponent($.replace(/\+/g," "))}catch{}o+="/"+$}return o}function decodeQuery(s){const o={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?o[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):warn(`Invalid query segment '${i}' in query '${s}'`)}return o}const parseRepoInfo=function(s,o){const i=parseDatabaseURL(s),a=i.namespace;i.domain==="firebase.com"&&fatal(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||warnIfPageIsSecure();const $=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new RepoInfo(i.host,i.secure,a,$,o,"",a!==i.subdomain),path:new Path(i.pathString)}},parseDatabaseURL=function(s){let o="",i="",a="",$="",j="",_e=!0,et="https",tt=443;if(typeof s=="string"){let nt=s.indexOf("//");nt>=0&&(et=s.substring(0,nt-1),s=s.substring(nt+2));let ot=s.indexOf("/");ot===-1&&(ot=s.length);let it=s.indexOf("?");it===-1&&(it=s.length),o=s.substring(0,Math.min(ot,it)),ot<it&&($=decodePath(s.substring(ot,it)));const st=decodeQuery(s.substring(Math.min(s.length,it)));nt=o.indexOf(":"),nt>=0?(_e=et==="https"||et==="wss",tt=parseInt(o.substring(nt+1),10)):nt=o.length;const ut=o.slice(0,nt);if(ut.toLowerCase()==="localhost")i="localhost";else if(ut.split(".").length<=2)i=ut;else{const lt=o.indexOf(".");a=o.substring(0,lt).toLowerCase(),i=o.substring(lt+1),j=a}"ns"in st&&(j=st.ns)}return{host:o,port:tt,domain:i,subdomain:a,secure:_e,scheme:et,pathString:$,namespace:j}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PUSH_CHARS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nextPushId=function(){let s=0;const o=[];return function(i){const a=i===s;s=i;let $;const j=new Array(8);for($=7;$>=0;$--)j[$]=PUSH_CHARS.charAt(i%64),i=Math.floor(i/64);assert(i===0,"Cannot push at time == 0");let _e=j.join("");if(a){for($=11;$>=0&&o[$]===63;$--)o[$]=0;o[$]++}else for($=0;$<12;$++)o[$]=Math.floor(Math.random()*64);for($=0;$<12;$++)_e+=PUSH_CHARS.charAt(o[$]);return assert(_e.length===20,"nextPushId: Length should be 20."),_e}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DataEvent{constructor(o,i,a,$){this.eventType=o,this.eventRegistration=i,this.snapshot=a,this.prevName=$}getPath(){const o=this.snapshot.ref;return this.eventType==="value"?o._path:o.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify$1(this.snapshot.exportVal())}}class CancelEvent{constructor(o,i,a){this.eventRegistration=o,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CallbackContext{constructor(o,i){this.snapshotCallback=o,this.cancelCallback=i}onValue(o,i){this.snapshotCallback.call(null,o,i)}onCancel(o){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,o)}get hasCancelCallback(){return!!this.cancelCallback}matches(o){return this.snapshotCallback===o.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===o.snapshotCallback.userCallback&&this.snapshotCallback.context===o.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryImpl{constructor(o,i,a,$){this._repo=o,this._path=i,this._queryParams=a,this._orderByCalled=$}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const o=queryParamsGetQueryObject(this._queryParams),i=ObjectToUniqueKey(o);return i==="{}"?"default":i}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(o){if(o=getModularInstance(o),!(o instanceof QueryImpl))return!1;const i=this._repo===o._repo,a=pathEquals(this._path,o._path),$=this._queryIdentifier===o._queryIdentifier;return i&&a&&$}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}class ReferenceImpl extends QueryImpl{constructor(o,i){super(o,i,new QueryParams,!1)}get parent(){const o=pathParent(this._path);return o===null?null:new ReferenceImpl(this._repo,o)}get root(){let o=this;for(;o.parent!==null;)o=o.parent;return o}}class DataSnapshot{constructor(o,i,a){this._node=o,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(o){const i=new Path(o),a=child$1(this.ref,o);return new DataSnapshot(this._node.getChild(i),a,PRIORITY_INDEX)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(o){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,$)=>o(new DataSnapshot($,child$1(this.ref,a),PRIORITY_INDEX)))}hasChild(o){const i=new Path(o);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ref$2(s,o){return s=getModularInstance(s),s._checkNotDeleted("ref"),o!==void 0?child$1(s._root,o):s._root}function child$1(s,o){return s=getModularInstance(s),pathGetFront(s._path)===null?validateRootPathString("child","path",o,!1):validatePathString("child","path",o,!1),new ReferenceImpl(s._repo,pathChild(s._path,o))}function push(s,o){s=getModularInstance(s),validateWritablePath("push",s._path),validateFirebaseDataArg("push",o,s._path,!0);const i=repoServerTime(s._repo),a=nextPushId(i),$=child$1(s,a),j=child$1(s,a);let _e;return o!=null?_e=set(j,o).then(()=>j):_e=Promise.resolve(j),$.then=_e.then.bind(_e),$.catch=_e.then.bind(_e,void 0),$}function remove(s){return validateWritablePath("remove",s._path),set(s,null)}function set(s,o){s=getModularInstance(s),validateWritablePath("set",s._path),validateFirebaseDataArg("set",o,s._path,!1);const i=new Deferred;return repoSetWithPriority(s._repo,s._path,o,null,i.wrapCallback(()=>{})),i.promise}function update(s,o){validateFirebaseMergeDataArg("update",o,s._path,!1);const i=new Deferred;return repoUpdate(s._repo,s._path,o,i.wrapCallback(()=>{})),i.promise}function get(s){s=getModularInstance(s);const o=new CallbackContext(()=>{}),i=new ValueEventRegistration(o);return repoGetValue(s._repo,s,i).then(a=>new DataSnapshot(a,new ReferenceImpl(s._repo,s._path),s._queryParams.getIndex()))}class ValueEventRegistration{constructor(o){this.callbackContext=o}respondsTo(o){return o==="value"}createEvent(o,i){const a=i._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(o.snapshotNode,new ReferenceImpl(i._repo,i._path),a))}getEventRunner(o){return o.getEventType()==="cancel"?()=>this.callbackContext.onCancel(o.error):()=>this.callbackContext.onValue(o.snapshot,null)}createCancelEvent(o,i){return this.callbackContext.hasCancelCallback?new CancelEvent(this,o,i):null}matches(o){return o instanceof ValueEventRegistration?!o.callbackContext||!this.callbackContext?!0:o.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ChildEventRegistration{constructor(o,i){this.eventType=o,this.callbackContext=i}respondsTo(o){let i=o==="children_added"?"child_added":o;return i=i==="children_removed"?"child_removed":i,this.eventType===i}createCancelEvent(o,i){return this.callbackContext.hasCancelCallback?new CancelEvent(this,o,i):null}createEvent(o,i){assert(o.childName!=null,"Child events should have a childName.");const a=child$1(new ReferenceImpl(i._repo,i._path),o.childName),$=i._queryParams.getIndex();return new DataEvent(o.type,this,new DataSnapshot(o.snapshotNode,a,$),o.prevName)}getEventRunner(o){return o.getEventType()==="cancel"?()=>this.callbackContext.onCancel(o.error):()=>this.callbackContext.onValue(o.snapshot,o.prevName)}matches(o){return o instanceof ChildEventRegistration?this.eventType===o.eventType&&(!this.callbackContext||!o.callbackContext||this.callbackContext.matches(o.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function addEventListener(s,o,i,a,$){let j;if(typeof a=="object"&&(j=void 0,$=a),typeof a=="function"&&(j=a),$&&$.onlyOnce){const tt=i,nt=(ot,it)=>{repoRemoveEventCallbackForQuery(s._repo,s,et),tt(ot,it)};nt.userCallback=i.userCallback,nt.context=i.context,i=nt}const _e=new CallbackContext(i,j||void 0),et=o==="value"?new ValueEventRegistration(_e):new ChildEventRegistration(o,_e);return repoAddEventCallbackForQuery(s._repo,s,et),()=>repoRemoveEventCallbackForQuery(s._repo,s,et)}function onValue(s,o,i,a){return addEventListener(s,"value",o,i,a)}syncPointSetReferenceConstructor(ReferenceImpl);syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerApplyEmulatorSettings(s,o,i,a){s.repoInfo_=new RepoInfo(`${o}:${i}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams),a&&(s.authTokenProvider_=a)}function repoManagerDatabaseFromApp(s,o,i,a,$){let j=a||s.options.databaseURL;j===void 0&&(s.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",s.options.projectId),j=`${s.options.projectId}-default-rtdb.firebaseio.com`);let _e=parseRepoInfo(j,$),et=_e.repoInfo,tt,nt;typeof process<"u"&&process.env&&(nt=process.env[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),nt?(tt=!0,j=`http://${nt}?ns=${et.namespace}`,_e=parseRepoInfo(j,$),et=_e.repoInfo):tt=!_e.repoInfo.secure;const ot=$&&tt?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider(s.name,s.options,o);validateUrl("Invalid Firebase Database URL",_e),pathIsEmpty(_e.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const it=repoManagerCreateRepo(et,s,ot,new AppCheckTokenProvider(s.name,i));return new Database(it,s)}function repoManagerDeleteRepo(s,o){const i=repos[o];(!i||i[s.key]!==s)&&fatal(`Database ${o}(${s.repoInfo_}) has already been deleted.`),repoInterrupt(s),delete i[s.key]}function repoManagerCreateRepo(s,o,i,a){let $=repos[o.name];$||($={},repos[o.name]=$);let j=$[s.toURLString()];return j&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),j=new Repo(s,useRestClient,i,a),$[s.toURLString()]=j,j}class Database{constructor(o,i){this._repoInternal=o,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return this._rootInternal!==null&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(o){this._rootInternal===null&&fatal("Cannot call "+o+" on a deleted database.")}}function getDatabase(s=getApp(),o){const i=_getProvider(s,"database").getImmediate({identifier:o}),a=getDefaultEmulatorHostnameAndPort("database");return a&&connectDatabaseEmulator(i,...a),i}function connectDatabaseEmulator(s,o,i,a={}){s=getModularInstance(s),s._checkNotDeleted("useEmulator"),s._instanceStarted&&fatal("Cannot call useEmulator() after instance has already been initialized.");const $=s._repoInternal;let j;if($.repoInfo_.nodeAdmin)a.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),j=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(a.mockUserToken){const _e=typeof a.mockUserToken=="string"?a.mockUserToken:createMockUserToken(a.mockUserToken,s.app.options.projectId);j=new EmulatorTokenProvider(_e)}repoManagerApplyEmulatorSettings($,o,i,j)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase(s){setSDKVersion(SDK_VERSION$1),_registerComponent(new Component("database",(o,{instanceIdentifier:i})=>{const a=o.getProvider("app").getImmediate(),$=o.getProvider("auth-internal"),j=o.getProvider("app-check-internal");return repoManagerDatabaseFromApp(a,$,j,i)},"PUBLIC").setMultipleInstances(!0)),registerVersion(name$2,version$2,s),registerVersion(name$2,version$2,"esm2017")}PersistentConnection.prototype.simpleListen=function(s,o){this.sendRequest("q",{p:s},o)};PersistentConnection.prototype.echo=function(s,o){this.sendRequest("echo",{d:s},o)};registerDatabase();var name$1="firebase",version$1="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");const firebaseConfig={apiKey:"AIzaSyCnT-oALVJjjBShKGKb6ZYlcZR0xjjnVwA",authDomain:"fabrica-vidrebany.firebaseapp.com",databaseURL:"https://fabrica-vidrebany-default-rtdb.firebaseio.com",projectId:"fabrica-vidrebany",storageBucket:"fabrica-vidrebany.appspot.com",messagingSenderId:"88093443045",appId:"1:88093443045:web:bb52cc8353ef2359bde50c",measurementId:"G-ZCBV8X1EWW"},app=initializeApp(firebaseConfig),Usuaris=()=>{const s=useNavigate(),o=getDatabase(app),[i,a]=reactExports.useState([]);return reactExports.useEffect(()=>{const $=ref$2(o,"/users");onValue($,j=>{const _e=j.val(),et=[];for(let tt in _e)et.push({id:tt,..._e[tt]});a(et)})},[o]),jsxs("div",{children:[jsx(Navbar,{}),jsx("div",{children:jsx("h1",{style:{textAlign:"center"},children:"Escollir usuari:"})}),jsx("div",{style:{marginTop:"150px"},children:i.map(($,j)=>jsxs("div",{style:{backgroundColor:"#000000",position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"300px",textAlign:"left",fontSize:"20px",fontWeight:"bold",color:"white",borderRadius:"5%",border:"2px solid white",padding:"10px",margin:"10px",cursor:"pointer"},onClick:()=>s("/user",{state:{number:$.number}}),children:[jsxs("p",{children:[$.number,".",$.name]}),jsxs("p",{children:["Procs: ",$.process]}),jsxs("p",{children:["Codi: ",$.code]})]},j))})]})},Processes=()=>{const s=useNavigate();return jsxs("div",{children:[jsx(Navbar,{}),jsx("div",{children:jsx("h1",{style:{textAlign:"center"},children:"Escollir procs:"})}),jsx("div",{style:{marginTop:"150px"},children:["Admin","Cajones","Canteado","Corte","Laca","Mecanizado","Montaje","Uero"].map((i,a)=>jsx("div",{style:{backgroundColor:"#000000",position:"relative",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"300px",textAlign:"left",fontSize:"20px",fontWeight:"bold",color:"white",borderRadius:"15px",border:"2px solid white",padding:"10px",margin:"10px",cursor:"pointer"},onClick:()=>s("/process",{state:{number:i}}),children:jsx("p",{children:i})},a))})]})};function hasChildOfType(s,o){return reactExports.Children.toArray(s).some(i=>reactExports.isValidElement(i)&&i.type===o)}function useCol({as:s,bsPrefix:o,className:i,...a}){o=useBootstrapPrefix(o,"col");const $=useBootstrapBreakpoints(),j=useBootstrapMinBreakpoint(),_e=[],et=[];return $.forEach(tt=>{const nt=a[tt];delete a[tt];let ot,it,st;typeof nt=="object"&&nt!=null?{span:ot,offset:it,order:st}=nt:ot=nt;const ut=tt!==j?`-${tt}`:"";ot&&_e.push(ot===!0?`${o}${ut}`:`${o}${ut}-${ot}`),st!=null&&et.push(`order${ut}-${st}`),it!=null&&et.push(`offset${ut}-${it}`)}),[{...a,className:classNames(i,..._e,...et)},{as:s,bsPrefix:o,spans:_e}]}const Col=reactExports.forwardRef((s,o)=>{const[{className:i,...a},{as:$="div",bsPrefix:j,spans:_e}]=useCol(s);return jsx($,{...a,ref:o,className:classNames(i,!_e.length&&j)})});Col.displayName="Col";const Col$1=Col;var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$1="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(s,o){return s.concat([o+"-"+start$1,o+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(s,o){return s.concat([o,o+"-"+start$1,o+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getBasePlacement(s){return s.split("-")[0]}function getWindow(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var o=s.ownerDocument;return o&&o.defaultView||window}return s}function isElement(s){var o=getWindow(s).Element;return s instanceof o||s instanceof Element}function isHTMLElement$1(s){var o=getWindow(s).HTMLElement;return s instanceof o||s instanceof HTMLElement}function isShadowRoot(s){if(typeof ShadowRoot>"u")return!1;var o=getWindow(s).ShadowRoot;return s instanceof o||s instanceof ShadowRoot}var max=Math.max,min=Math.min,round$1=Math.round;function getUAString(){var s=navigator.userAgentData;return s!=null&&s.brands?s.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(s,o,i){o===void 0&&(o=!1),i===void 0&&(i=!1);var a=s.getBoundingClientRect(),$=1,j=1;o&&isHTMLElement$1(s)&&($=s.offsetWidth>0&&round$1(a.width)/s.offsetWidth||1,j=s.offsetHeight>0&&round$1(a.height)/s.offsetHeight||1);var _e=isElement(s)?getWindow(s):window,et=_e.visualViewport,tt=!isLayoutViewport()&&i,nt=(a.left+(tt&&et?et.offsetLeft:0))/$,ot=(a.top+(tt&&et?et.offsetTop:0))/j,it=a.width/$,st=a.height/j;return{width:it,height:st,top:ot,right:nt+it,bottom:ot+st,left:nt,x:nt,y:ot}}function getLayoutRect(s){var o=getBoundingClientRect(s),i=s.offsetWidth,a=s.offsetHeight;return Math.abs(o.width-i)<=1&&(i=o.width),Math.abs(o.height-a)<=1&&(a=o.height),{x:s.offsetLeft,y:s.offsetTop,width:i,height:a}}function contains(s,o){var i=o.getRootNode&&o.getRootNode();if(s.contains(o))return!0;if(i&&isShadowRoot(i)){var a=o;do{if(a&&s.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function getNodeName(s){return s?(s.nodeName||"").toLowerCase():null}function getComputedStyle$1(s){return getWindow(s).getComputedStyle(s)}function isTableElement(s){return["table","td","th"].indexOf(getNodeName(s))>=0}function getDocumentElement(s){return((isElement(s)?s.ownerDocument:s.document)||window.document).documentElement}function getParentNode(s){return getNodeName(s)==="html"?s:s.assignedSlot||s.parentNode||(isShadowRoot(s)?s.host:null)||getDocumentElement(s)}function getTrueOffsetParent(s){return!isHTMLElement$1(s)||getComputedStyle$1(s).position==="fixed"?null:s.offsetParent}function getContainingBlock(s){var o=/firefox/i.test(getUAString()),i=/Trident/i.test(getUAString());if(i&&isHTMLElement$1(s)){var a=getComputedStyle$1(s);if(a.position==="fixed")return null}var $=getParentNode(s);for(isShadowRoot($)&&($=$.host);isHTMLElement$1($)&&["html","body"].indexOf(getNodeName($))<0;){var j=getComputedStyle$1($);if(j.transform!=="none"||j.perspective!=="none"||j.contain==="paint"||["transform","perspective"].indexOf(j.willChange)!==-1||o&&j.willChange==="filter"||o&&j.filter&&j.filter!=="none")return $;$=$.parentNode}return null}function getOffsetParent(s){for(var o=getWindow(s),i=getTrueOffsetParent(s);i&&isTableElement(i)&&getComputedStyle$1(i).position==="static";)i=getTrueOffsetParent(i);return i&&(getNodeName(i)==="html"||getNodeName(i)==="body"&&getComputedStyle$1(i).position==="static")?o:i||getContainingBlock(s)||o}function getMainAxisFromPlacement(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function within(s,o,i){return max(s,min(o,i))}function withinMaxClamp(s,o,i){var a=within(s,o,i);return a>i?i:a}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(s){return Object.assign({},getFreshSideObject(),s)}function expandToHashMap(s,o){return o.reduce(function(i,a){return i[a]=s,i},{})}var toPaddingObject=function(o,i){return o=typeof o=="function"?o(Object.assign({},i.rects,{placement:i.placement})):o,mergePaddingObject(typeof o!="number"?o:expandToHashMap(o,basePlacements))};function arrow(s){var o,i=s.state,a=s.name,$=s.options,j=i.elements.arrow,_e=i.modifiersData.popperOffsets,et=getBasePlacement(i.placement),tt=getMainAxisFromPlacement(et),nt=[left,right].indexOf(et)>=0,ot=nt?"height":"width";if(!(!j||!_e)){var it=toPaddingObject($.padding,i),st=getLayoutRect(j),ut=tt==="y"?top:left,lt=tt==="y"?bottom:right,rt=i.rects.reference[ot]+i.rects.reference[tt]-_e[tt]-i.rects.popper[ot],dt=_e[tt]-i.rects.reference[tt],ct=getOffsetParent(j),pt=ct?tt==="y"?ct.clientHeight||0:ct.clientWidth||0:0,at=rt/2-dt/2,ht=it[ut],xt=pt-st[ot]-it[lt],gt=pt/2-st[ot]/2+at,vt=within(ht,gt,xt),ft=tt;i.modifiersData[a]=(o={},o[ft]=vt,o.centerOffset=vt-gt,o)}}function effect$2(s){var o=s.state,i=s.options,a=i.element,$=a===void 0?"[data-popper-arrow]":a;$!=null&&(typeof $=="string"&&($=o.elements.popper.querySelector($),!$)||contains(o.elements.popper,$)&&(o.elements.arrow=$))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(s){return s.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(s){var o=s.x,i=s.y,a=window,$=a.devicePixelRatio||1;return{x:round$1(o*$)/$||0,y:round$1(i*$)/$||0}}function mapToStyles(s){var o,i=s.popper,a=s.popperRect,$=s.placement,j=s.variation,_e=s.offsets,et=s.position,tt=s.gpuAcceleration,nt=s.adaptive,ot=s.roundOffsets,it=s.isFixed,st=_e.x,ut=st===void 0?0:st,lt=_e.y,rt=lt===void 0?0:lt,dt=typeof ot=="function"?ot({x:ut,y:rt}):{x:ut,y:rt};ut=dt.x,rt=dt.y;var ct=_e.hasOwnProperty("x"),pt=_e.hasOwnProperty("y"),at=left,ht=top,xt=window;if(nt){var gt=getOffsetParent(i),vt="clientHeight",ft="clientWidth";if(gt===getWindow(i)&&(gt=getDocumentElement(i),getComputedStyle$1(gt).position!=="static"&&et==="absolute"&&(vt="scrollHeight",ft="scrollWidth")),gt=gt,$===top||($===left||$===right)&&j===end){ht=bottom;var yt=it&&gt===xt&&xt.visualViewport?xt.visualViewport.height:gt[vt];rt-=yt-a.height,rt*=tt?1:-1}if($===left||($===top||$===bottom)&&j===end){at=right;var mt=it&&gt===xt&&xt.visualViewport?xt.visualViewport.width:gt[ft];ut-=mt-a.width,ut*=tt?1:-1}}var St=Object.assign({position:et},nt&&unsetSides),At=ot===!0?roundOffsetsByDPR({x:ut,y:rt}):{x:ut,y:rt};if(ut=At.x,rt=At.y,tt){var Ft;return Object.assign({},St,(Ft={},Ft[ht]=pt?"0":"",Ft[at]=ct?"0":"",Ft.transform=(xt.devicePixelRatio||1)<=1?"translate("+ut+"px, "+rt+"px)":"translate3d("+ut+"px, "+rt+"px, 0)",Ft))}return Object.assign({},St,(o={},o[ht]=pt?rt+"px":"",o[at]=ct?ut+"px":"",o.transform="",o))}function computeStyles(s){var o=s.state,i=s.options,a=i.gpuAcceleration,$=a===void 0?!0:a,j=i.adaptive,_e=j===void 0?!0:j,et=i.roundOffsets,tt=et===void 0?!0:et,nt={placement:getBasePlacement(o.placement),variation:getVariation(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:$,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,mapToStyles(Object.assign({},nt,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:_e,roundOffsets:tt})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,mapToStyles(Object.assign({},nt,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:tt})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect$1(s){var o=s.state,i=s.instance,a=s.options,$=a.scroll,j=$===void 0?!0:$,_e=a.resize,et=_e===void 0?!0:_e,tt=getWindow(o.elements.popper),nt=[].concat(o.scrollParents.reference,o.scrollParents.popper);return j&&nt.forEach(function(ot){ot.addEventListener("scroll",i.update,passive)}),et&&tt.addEventListener("resize",i.update,passive),function(){j&&nt.forEach(function(ot){ot.removeEventListener("scroll",i.update,passive)}),et&&tt.removeEventListener("resize",i.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect$1,data:{}};var hash$2={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(s){return s.replace(/left|right|bottom|top/g,function(o){return hash$2[o]})}var hash$1={start:"end",end:"start"};function getOppositeVariationPlacement(s){return s.replace(/start|end/g,function(o){return hash$1[o]})}function getWindowScroll(s){var o=getWindow(s),i=o.pageXOffset,a=o.pageYOffset;return{scrollLeft:i,scrollTop:a}}function getWindowScrollBarX(s){return getBoundingClientRect(getDocumentElement(s)).left+getWindowScroll(s).scrollLeft}function getViewportRect(s,o){var i=getWindow(s),a=getDocumentElement(s),$=i.visualViewport,j=a.clientWidth,_e=a.clientHeight,et=0,tt=0;if($){j=$.width,_e=$.height;var nt=isLayoutViewport();(nt||!nt&&o==="fixed")&&(et=$.offsetLeft,tt=$.offsetTop)}return{width:j,height:_e,x:et+getWindowScrollBarX(s),y:tt}}function getDocumentRect(s){var o,i=getDocumentElement(s),a=getWindowScroll(s),$=(o=s.ownerDocument)==null?void 0:o.body,j=max(i.scrollWidth,i.clientWidth,$?$.scrollWidth:0,$?$.clientWidth:0),_e=max(i.scrollHeight,i.clientHeight,$?$.scrollHeight:0,$?$.clientHeight:0),et=-a.scrollLeft+getWindowScrollBarX(s),tt=-a.scrollTop;return getComputedStyle$1($||i).direction==="rtl"&&(et+=max(i.clientWidth,$?$.clientWidth:0)-j),{width:j,height:_e,x:et,y:tt}}function isScrollParent(s){var o=getComputedStyle$1(s),i=o.overflow,a=o.overflowX,$=o.overflowY;return/auto|scroll|overlay|hidden/.test(i+$+a)}function getScrollParent(s){return["html","body","#document"].indexOf(getNodeName(s))>=0?s.ownerDocument.body:isHTMLElement$1(s)&&isScrollParent(s)?s:getScrollParent(getParentNode(s))}function listScrollParents(s,o){var i;o===void 0&&(o=[]);var a=getScrollParent(s),$=a===((i=s.ownerDocument)==null?void 0:i.body),j=getWindow(a),_e=$?[j].concat(j.visualViewport||[],isScrollParent(a)?a:[]):a,et=o.concat(_e);return $?et:et.concat(listScrollParents(getParentNode(_e)))}function rectToClientRect(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function getInnerBoundingClientRect(s,o){var i=getBoundingClientRect(s,!1,o==="fixed");return i.top=i.top+s.clientTop,i.left=i.left+s.clientLeft,i.bottom=i.top+s.clientHeight,i.right=i.left+s.clientWidth,i.width=s.clientWidth,i.height=s.clientHeight,i.x=i.left,i.y=i.top,i}function getClientRectFromMixedType(s,o,i){return o===viewport?rectToClientRect(getViewportRect(s,i)):isElement(o)?getInnerBoundingClientRect(o,i):rectToClientRect(getDocumentRect(getDocumentElement(s)))}function getClippingParents(s){var o=listScrollParents(getParentNode(s)),i=["absolute","fixed"].indexOf(getComputedStyle$1(s).position)>=0,a=i&&isHTMLElement$1(s)?getOffsetParent(s):s;return isElement(a)?o.filter(function($){return isElement($)&&contains($,a)&&getNodeName($)!=="body"}):[]}function getClippingRect(s,o,i,a){var $=o==="clippingParents"?getClippingParents(s):[].concat(o),j=[].concat($,[i]),_e=j[0],et=j.reduce(function(tt,nt){var ot=getClientRectFromMixedType(s,nt,a);return tt.top=max(ot.top,tt.top),tt.right=min(ot.right,tt.right),tt.bottom=min(ot.bottom,tt.bottom),tt.left=max(ot.left,tt.left),tt},getClientRectFromMixedType(s,_e,a));return et.width=et.right-et.left,et.height=et.bottom-et.top,et.x=et.left,et.y=et.top,et}function computeOffsets(s){var o=s.reference,i=s.element,a=s.placement,$=a?getBasePlacement(a):null,j=a?getVariation(a):null,_e=o.x+o.width/2-i.width/2,et=o.y+o.height/2-i.height/2,tt;switch($){case top:tt={x:_e,y:o.y-i.height};break;case bottom:tt={x:_e,y:o.y+o.height};break;case right:tt={x:o.x+o.width,y:et};break;case left:tt={x:o.x-i.width,y:et};break;default:tt={x:o.x,y:o.y}}var nt=$?getMainAxisFromPlacement($):null;if(nt!=null){var ot=nt==="y"?"height":"width";switch(j){case start$1:tt[nt]=tt[nt]-(o[ot]/2-i[ot]/2);break;case end:tt[nt]=tt[nt]+(o[ot]/2-i[ot]/2);break}}return tt}function detectOverflow(s,o){o===void 0&&(o={});var i=o,a=i.placement,$=a===void 0?s.placement:a,j=i.strategy,_e=j===void 0?s.strategy:j,et=i.boundary,tt=et===void 0?clippingParents:et,nt=i.rootBoundary,ot=nt===void 0?viewport:nt,it=i.elementContext,st=it===void 0?popper:it,ut=i.altBoundary,lt=ut===void 0?!1:ut,rt=i.padding,dt=rt===void 0?0:rt,ct=mergePaddingObject(typeof dt!="number"?dt:expandToHashMap(dt,basePlacements)),pt=st===popper?reference:popper,at=s.rects.popper,ht=s.elements[lt?pt:st],xt=getClippingRect(isElement(ht)?ht:ht.contextElement||getDocumentElement(s.elements.popper),tt,ot,_e),gt=getBoundingClientRect(s.elements.reference),vt=computeOffsets({reference:gt,element:at,strategy:"absolute",placement:$}),ft=rectToClientRect(Object.assign({},at,vt)),yt=st===popper?ft:gt,mt={top:xt.top-yt.top+ct.top,bottom:yt.bottom-xt.bottom+ct.bottom,left:xt.left-yt.left+ct.left,right:yt.right-xt.right+ct.right},St=s.modifiersData.offset;if(st===popper&&St){var At=St[$];Object.keys(mt).forEach(function(Ft){var Tt=[right,bottom].indexOf(Ft)>=0?1:-1,Dt=[top,bottom].indexOf(Ft)>=0?"y":"x";mt[Ft]+=At[Dt]*Tt})}return mt}function computeAutoPlacement(s,o){o===void 0&&(o={});var i=o,a=i.placement,$=i.boundary,j=i.rootBoundary,_e=i.padding,et=i.flipVariations,tt=i.allowedAutoPlacements,nt=tt===void 0?placements:tt,ot=getVariation(a),it=ot?et?variationPlacements:variationPlacements.filter(function(lt){return getVariation(lt)===ot}):basePlacements,st=it.filter(function(lt){return nt.indexOf(lt)>=0});st.length===0&&(st=it);var ut=st.reduce(function(lt,rt){return lt[rt]=detectOverflow(s,{placement:rt,boundary:$,rootBoundary:j,padding:_e})[getBasePlacement(rt)],lt},{});return Object.keys(ut).sort(function(lt,rt){return ut[lt]-ut[rt]})}function getExpandedFallbackPlacements(s){if(getBasePlacement(s)===auto)return[];var o=getOppositePlacement(s);return[getOppositeVariationPlacement(s),o,getOppositeVariationPlacement(o)]}function flip(s){var o=s.state,i=s.options,a=s.name;if(!o.modifiersData[a]._skip){for(var $=i.mainAxis,j=$===void 0?!0:$,_e=i.altAxis,et=_e===void 0?!0:_e,tt=i.fallbackPlacements,nt=i.padding,ot=i.boundary,it=i.rootBoundary,st=i.altBoundary,ut=i.flipVariations,lt=ut===void 0?!0:ut,rt=i.allowedAutoPlacements,dt=o.options.placement,ct=getBasePlacement(dt),pt=ct===dt,at=tt||(pt||!lt?[getOppositePlacement(dt)]:getExpandedFallbackPlacements(dt)),ht=[dt].concat(at).reduce(function(Ct,Ot){return Ct.concat(getBasePlacement(Ot)===auto?computeAutoPlacement(o,{placement:Ot,boundary:ot,rootBoundary:it,padding:nt,flipVariations:lt,allowedAutoPlacements:rt}):Ot)},[]),xt=o.rects.reference,gt=o.rects.popper,vt=new Map,ft=!0,yt=ht[0],mt=0;mt<ht.length;mt++){var St=ht[mt],At=getBasePlacement(St),Ft=getVariation(St)===start$1,Tt=[top,bottom].indexOf(At)>=0,Dt=Tt?"width":"height",It=detectOverflow(o,{placement:St,boundary:ot,rootBoundary:it,altBoundary:st,padding:nt}),Rt=Tt?Ft?right:left:Ft?bottom:top;xt[Dt]>gt[Dt]&&(Rt=getOppositePlacement(Rt));var Pt=getOppositePlacement(Rt),Nt=[];if(j&&Nt.push(It[At]<=0),et&&Nt.push(It[Rt]<=0,It[Pt]<=0),Nt.every(function(Ct){return Ct})){yt=St,ft=!1;break}vt.set(St,Nt)}if(ft)for(var Lt=lt?3:1,zt=function(Ot){var Ut=ht.find(function($t){var Bt=vt.get($t);if(Bt)return Bt.slice(0,Ot).every(function(Wt){return Wt})});if(Ut)return yt=Ut,"break"},Mt=Lt;Mt>0;Mt--){var Et=zt(Mt);if(Et==="break")break}o.placement!==yt&&(o.modifiersData[a]._skip=!0,o.placement=yt,o.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(s,o,i){return i===void 0&&(i={x:0,y:0}),{top:s.top-o.height-i.y,right:s.right-o.width+i.x,bottom:s.bottom-o.height+i.y,left:s.left-o.width-i.x}}function isAnySideFullyClipped(s){return[top,right,bottom,left].some(function(o){return s[o]>=0})}function hide(s){var o=s.state,i=s.name,a=o.rects.reference,$=o.rects.popper,j=o.modifiersData.preventOverflow,_e=detectOverflow(o,{elementContext:"reference"}),et=detectOverflow(o,{altBoundary:!0}),tt=getSideOffsets(_e,a),nt=getSideOffsets(et,$,j),ot=isAnySideFullyClipped(tt),it=isAnySideFullyClipped(nt);o.modifiersData[i]={referenceClippingOffsets:tt,popperEscapeOffsets:nt,isReferenceHidden:ot,hasPopperEscaped:it},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":ot,"data-popper-escaped":it})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(s,o,i){var a=getBasePlacement(s),$=[left,top].indexOf(a)>=0?-1:1,j=typeof i=="function"?i(Object.assign({},o,{placement:s})):i,_e=j[0],et=j[1];return _e=_e||0,et=(et||0)*$,[left,right].indexOf(a)>=0?{x:et,y:_e}:{x:_e,y:et}}function offset(s){var o=s.state,i=s.options,a=s.name,$=i.offset,j=$===void 0?[0,0]:$,_e=placements.reduce(function(ot,it){return ot[it]=distanceAndSkiddingToXY(it,o.rects,j),ot},{}),et=_e[o.placement],tt=et.x,nt=et.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=tt,o.modifiersData.popperOffsets.y+=nt),o.modifiersData[a]=_e}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(s){var o=s.state,i=s.name;o.modifiersData[i]=computeOffsets({reference:o.rects.reference,element:o.rects.popper,strategy:"absolute",placement:o.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(s){return s==="x"?"y":"x"}function preventOverflow(s){var o=s.state,i=s.options,a=s.name,$=i.mainAxis,j=$===void 0?!0:$,_e=i.altAxis,et=_e===void 0?!1:_e,tt=i.boundary,nt=i.rootBoundary,ot=i.altBoundary,it=i.padding,st=i.tether,ut=st===void 0?!0:st,lt=i.tetherOffset,rt=lt===void 0?0:lt,dt=detectOverflow(o,{boundary:tt,rootBoundary:nt,padding:it,altBoundary:ot}),ct=getBasePlacement(o.placement),pt=getVariation(o.placement),at=!pt,ht=getMainAxisFromPlacement(ct),xt=getAltAxis(ht),gt=o.modifiersData.popperOffsets,vt=o.rects.reference,ft=o.rects.popper,yt=typeof rt=="function"?rt(Object.assign({},o.rects,{placement:o.placement})):rt,mt=typeof yt=="number"?{mainAxis:yt,altAxis:yt}:Object.assign({mainAxis:0,altAxis:0},yt),St=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,At={x:0,y:0};if(gt){if(j){var Ft,Tt=ht==="y"?top:left,Dt=ht==="y"?bottom:right,It=ht==="y"?"height":"width",Rt=gt[ht],Pt=Rt+dt[Tt],Nt=Rt-dt[Dt],Lt=ut?-ft[It]/2:0,zt=pt===start$1?vt[It]:ft[It],Mt=pt===start$1?-ft[It]:-vt[It],Et=o.elements.arrow,Ct=ut&&Et?getLayoutRect(Et):{width:0,height:0},Ot=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Ut=Ot[Tt],$t=Ot[Dt],Bt=within(0,vt[It],Ct[It]),Wt=at?vt[It]/2-Lt-Bt-Ut-mt.mainAxis:zt-Bt-Ut-mt.mainAxis,Gt=at?-vt[It]/2+Lt+Bt+$t+mt.mainAxis:Mt+Bt+$t+mt.mainAxis,bt=o.elements.arrow&&getOffsetParent(o.elements.arrow),wt=bt?ht==="y"?bt.clientTop||0:bt.clientLeft||0:0,kt=(Ft=St==null?void 0:St[ht])!=null?Ft:0,jt=Rt+Wt-kt-wt,Ht=Rt+Gt-kt,Kt=within(ut?min(Pt,jt):Pt,Rt,ut?max(Nt,Ht):Nt);gt[ht]=Kt,At[ht]=Kt-Rt}if(et){var Zt,rn=ht==="x"?top:left,qt=ht==="x"?bottom:right,nn=gt[xt],Xt=xt==="y"?"height":"width",sn=nn+dt[rn],ln=nn-dt[qt],Vt=[top,left].indexOf(ct)!==-1,cn=(Zt=St==null?void 0:St[xt])!=null?Zt:0,xn=Vt?sn:nn-vt[Xt]-ft[Xt]-cn+mt.altAxis,Cn=Vt?nn+vt[Xt]+ft[Xt]-cn-mt.altAxis:ln,an=ut&&Vt?withinMaxClamp(xn,nn,Cn):within(ut?xn:sn,nn,ut?Cn:ln);gt[xt]=an,At[xt]=an-nn}o.modifiersData[a]=At}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function getNodeScroll(s){return s===getWindow(s)||!isHTMLElement$1(s)?getWindowScroll(s):getHTMLElementScroll(s)}function isElementScaled(s){var o=s.getBoundingClientRect(),i=round$1(o.width)/s.offsetWidth||1,a=round$1(o.height)/s.offsetHeight||1;return i!==1||a!==1}function getCompositeRect(s,o,i){i===void 0&&(i=!1);var a=isHTMLElement$1(o),$=isHTMLElement$1(o)&&isElementScaled(o),j=getDocumentElement(o),_e=getBoundingClientRect(s,$,i),et={scrollLeft:0,scrollTop:0},tt={x:0,y:0};return(a||!a&&!i)&&((getNodeName(o)!=="body"||isScrollParent(j))&&(et=getNodeScroll(o)),isHTMLElement$1(o)?(tt=getBoundingClientRect(o,!0),tt.x+=o.clientLeft,tt.y+=o.clientTop):j&&(tt.x=getWindowScrollBarX(j))),{x:_e.left+et.scrollLeft-tt.x,y:_e.top+et.scrollTop-tt.y,width:_e.width,height:_e.height}}function order(s){var o=new Map,i=new Set,a=[];s.forEach(function(j){o.set(j.name,j)});function $(j){i.add(j.name);var _e=[].concat(j.requires||[],j.requiresIfExists||[]);_e.forEach(function(et){if(!i.has(et)){var tt=o.get(et);tt&&$(tt)}}),a.push(j)}return s.forEach(function(j){i.has(j.name)||$(j)}),a}function orderModifiers(s){var o=order(s);return modifierPhases.reduce(function(i,a){return i.concat(o.filter(function($){return $.phase===a}))},[])}function debounce$1(s){var o;return function(){return o||(o=new Promise(function(i){Promise.resolve().then(function(){o=void 0,i(s())})})),o}}function mergeByName(s){var o=s.reduce(function(i,a){var $=i[a.name];return i[a.name]=$?Object.assign({},$,a,{options:Object.assign({},$.options,a.options),data:Object.assign({},$.data,a.data)}):a,i},{});return Object.keys(o).map(function(i){return o[i]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return!o.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function popperGenerator(s){s===void 0&&(s={});var o=s,i=o.defaultModifiers,a=i===void 0?[]:i,$=o.defaultOptions,j=$===void 0?DEFAULT_OPTIONS:$;return function(et,tt,nt){nt===void 0&&(nt=j);var ot={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,j),modifiersData:{},elements:{reference:et,popper:tt},attributes:{},styles:{}},it=[],st=!1,ut={state:ot,setOptions:function(ct){var pt=typeof ct=="function"?ct(ot.options):ct;rt(),ot.options=Object.assign({},j,ot.options,pt),ot.scrollParents={reference:isElement(et)?listScrollParents(et):et.contextElement?listScrollParents(et.contextElement):[],popper:listScrollParents(tt)};var at=orderModifiers(mergeByName([].concat(a,ot.options.modifiers)));return ot.orderedModifiers=at.filter(function(ht){return ht.enabled}),lt(),ut.update()},forceUpdate:function(){if(!st){var ct=ot.elements,pt=ct.reference,at=ct.popper;if(areValidElements(pt,at)){ot.rects={reference:getCompositeRect(pt,getOffsetParent(at),ot.options.strategy==="fixed"),popper:getLayoutRect(at)},ot.reset=!1,ot.placement=ot.options.placement,ot.orderedModifiers.forEach(function(mt){return ot.modifiersData[mt.name]=Object.assign({},mt.data)});for(var ht=0;ht<ot.orderedModifiers.length;ht++){if(ot.reset===!0){ot.reset=!1,ht=-1;continue}var xt=ot.orderedModifiers[ht],gt=xt.fn,vt=xt.options,ft=vt===void 0?{}:vt,yt=xt.name;typeof gt=="function"&&(ot=gt({state:ot,options:ft,name:yt,instance:ut})||ot)}}}},update:debounce$1(function(){return new Promise(function(dt){ut.forceUpdate(),dt(ot)})}),destroy:function(){rt(),st=!0}};if(!areValidElements(et,tt))return ut;ut.setOptions(nt).then(function(dt){!st&&nt.onFirstUpdate&&nt.onFirstUpdate(dt)});function lt(){ot.orderedModifiers.forEach(function(dt){var ct=dt.name,pt=dt.options,at=pt===void 0?{}:pt,ht=dt.effect;if(typeof ht=="function"){var xt=ht({state:ot,name:ct,instance:ut,options:at}),gt=function(){};it.push(xt||gt)}})}function rt(){it.forEach(function(dt){return dt()}),it=[]}return ut}}const propTypes$1={type:propTypesExports.string,tooltip:propTypesExports.bool,as:propTypesExports.elementType},Feedback=reactExports.forwardRef(({as:s="div",className:o,type:i="valid",tooltip:a=!1,...$},j)=>jsx(s,{...$,ref:j,className:classNames(o,`${i}-${a?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$1;const Feedback$1=Feedback,FormContext=reactExports.createContext({}),FormContext$1=FormContext,FormCheckInput=reactExports.forwardRef(({id:s,bsPrefix:o,className:i,type:a="checkbox",isValid:$=!1,isInvalid:j=!1,as:_e="input",...et},tt)=>{const{controlId:nt}=reactExports.useContext(FormContext$1);return o=useBootstrapPrefix(o,"form-check-input"),jsx(_e,{...et,ref:tt,type:a,id:s||nt,className:classNames(i,o,$&&"is-valid",j&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckInput$1=FormCheckInput,FormCheckLabel=reactExports.forwardRef(({bsPrefix:s,className:o,htmlFor:i,...a},$)=>{const{controlId:j}=reactExports.useContext(FormContext$1);return s=useBootstrapPrefix(s,"form-check-label"),jsx("label",{...a,ref:$,htmlFor:i||j,className:classNames(o,s)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheckLabel$1=FormCheckLabel,FormCheck=reactExports.forwardRef(({id:s,bsPrefix:o,bsSwitchPrefix:i,inline:a=!1,reverse:$=!1,disabled:j=!1,isValid:_e=!1,isInvalid:et=!1,feedbackTooltip:tt=!1,feedback:nt,feedbackType:ot,className:it,style:st,title:ut="",type:lt="checkbox",label:rt,children:dt,as:ct="input",...pt},at)=>{o=useBootstrapPrefix(o,"form-check"),i=useBootstrapPrefix(i,"form-switch");const{controlId:ht}=reactExports.useContext(FormContext$1),xt=reactExports.useMemo(()=>({controlId:s||ht}),[ht,s]),gt=!dt&&rt!=null&&rt!==!1||hasChildOfType(dt,FormCheckLabel$1),vt=jsx(FormCheckInput$1,{...pt,type:lt==="switch"?"checkbox":lt,ref:at,isValid:_e,isInvalid:et,disabled:j,as:ct});return jsx(FormContext$1.Provider,{value:xt,children:jsx("div",{style:st,className:classNames(it,gt&&o,a&&`${o}-inline`,$&&`${o}-reverse`,lt==="switch"&&i),children:dt||jsxs(Fragment,{children:[vt,gt&&jsx(FormCheckLabel$1,{title:ut,children:rt}),nt&&jsx(Feedback$1,{type:ot,tooltip:tt,children:nt})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput$1,Label:FormCheckLabel$1}),FormControl$2=reactExports.forwardRef(({bsPrefix:s,type:o,size:i,htmlSize:a,id:$,className:j,isValid:_e=!1,isInvalid:et=!1,plaintext:tt,readOnly:nt,as:ot="input",...it},st)=>{const{controlId:ut}=reactExports.useContext(FormContext$1);s=useBootstrapPrefix(s,"form-control");let lt;return tt?lt={[`${s}-plaintext`]:!0}:lt={[s]:!0,[`${s}-${i}`]:i},jsx(ot,{...it,type:o,size:a,ref:st,readOnly:nt,id:$||ut,className:classNames(j,lt,_e&&"is-valid",et&&"is-invalid",o==="color"&&`${s}-color`)})});FormControl$2.displayName="FormControl";const FormControl$3=Object.assign(FormControl$2,{Feedback:Feedback$1}),FormFloating=createWithBsPrefix("form-floating"),FormGroup=reactExports.forwardRef(({controlId:s,as:o="div",...i},a)=>{const $=reactExports.useMemo(()=>({controlId:s}),[s]);return jsx(FormContext$1.Provider,{value:$,children:jsx(o,{...i,ref:a})})});FormGroup.displayName="FormGroup";const FormGroup$1=FormGroup,defaultProps$1={column:!1,visuallyHidden:!1},FormLabel$2=reactExports.forwardRef(({as:s="label",bsPrefix:o,column:i,visuallyHidden:a,className:$,htmlFor:j,..._e},et)=>{const{controlId:tt}=reactExports.useContext(FormContext$1);o=useBootstrapPrefix(o,"form-label");let nt="col-form-label";typeof i=="string"&&(nt=`${nt} ${nt}-${i}`);const ot=classNames($,o,a&&"visually-hidden",i&&nt);return j=j||tt,i?jsx(Col$1,{ref:et,as:"label",className:ot,htmlFor:j,..._e}):jsx(s,{ref:et,className:ot,htmlFor:j,..._e})});FormLabel$2.displayName="FormLabel";FormLabel$2.defaultProps=defaultProps$1;const FormLabel$3=FormLabel$2,FormRange=reactExports.forwardRef(({bsPrefix:s,className:o,id:i,...a},$)=>{const{controlId:j}=reactExports.useContext(FormContext$1);return s=useBootstrapPrefix(s,"form-range"),jsx("input",{...a,type:"range",ref:$,className:classNames(o,s),id:i||j})});FormRange.displayName="FormRange";const FormRange$1=FormRange,FormSelect=reactExports.forwardRef(({bsPrefix:s,size:o,htmlSize:i,className:a,isValid:$=!1,isInvalid:j=!1,id:_e,...et},tt)=>{const{controlId:nt}=reactExports.useContext(FormContext$1);return s=useBootstrapPrefix(s,"form-select"),jsx("select",{...et,size:i,ref:tt,className:classNames(a,s,o&&`${s}-${o}`,$&&"is-valid",j&&"is-invalid"),id:_e||nt})});FormSelect.displayName="FormSelect";const FormSelect$1=FormSelect,FormText=reactExports.forwardRef(({bsPrefix:s,className:o,as:i="small",muted:a,...$},j)=>(s=useBootstrapPrefix(s,"form-text"),jsx(i,{...$,ref:j,className:classNames(o,s,a&&"text-muted")})));FormText.displayName="FormText";const FormText$1=FormText,Switch=reactExports.forwardRef((s,o)=>jsx(FormCheck$1,{...s,ref:o,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:s,className:o,children:i,controlId:a,label:$,...j},_e)=>(s=useBootstrapPrefix(s,"form-floating"),jsxs(FormGroup$1,{ref:_e,className:classNames(o,s),controlId:a,...j,children:[i,jsx("label",{htmlFor:a,children:$})]})));FloatingLabel.displayName="FloatingLabel";const FloatingLabel$1=FloatingLabel,propTypes={_ref:propTypesExports.any,validated:propTypesExports.bool,as:propTypesExports.elementType},Form=reactExports.forwardRef(({className:s,validated:o,as:i="form",...a},$)=>jsx(i,{...a,ref:$,className:classNames(s,o&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes;const Form$1=Object.assign(Form,{Group:FormGroup$1,Control:FormControl$3,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel$3,Text:FormText$1,Range:FormRange$1,Select:FormSelect$1,FloatingLabel:FloatingLabel$1});var dayjs_minExports={},dayjs_min={get exports(){return dayjs_minExports},set exports(s){dayjs_minExports=s}};(function(s,o){(function(i,a){s.exports=a()})(commonjsGlobal,function(){var i=1e3,a=6e4,$=36e5,j="millisecond",_e="second",et="minute",tt="hour",nt="day",ot="week",it="month",st="quarter",ut="year",lt="date",rt="Invalid Date",dt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ct=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,pt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ft){var Tt=["th","st","nd","rd"],Dt=Ft%100;return"["+Ft+(Tt[(Dt-20)%10]||Tt[Dt]||Tt[0])+"]"}},at=function(Ft,Tt,Dt){var It=String(Ft);return!It||It.length>=Tt?Ft:""+Array(Tt+1-It.length).join(Dt)+Ft},ht={s:at,z:function(Ft){var Tt=-Ft.utcOffset(),Dt=Math.abs(Tt),It=Math.floor(Dt/60),Rt=Dt%60;return(Tt<=0?"+":"-")+at(It,2,"0")+":"+at(Rt,2,"0")},m:function Ft(Tt,Dt){if(Tt.date()<Dt.date())return-Ft(Dt,Tt);var It=12*(Dt.year()-Tt.year())+(Dt.month()-Tt.month()),Rt=Tt.clone().add(It,it),Pt=Dt-Rt<0,Nt=Tt.clone().add(It+(Pt?-1:1),it);return+(-(It+(Dt-Rt)/(Pt?Rt-Nt:Nt-Rt))||0)},a:function(Ft){return Ft<0?Math.ceil(Ft)||0:Math.floor(Ft)},p:function(Ft){return{M:it,y:ut,w:ot,d:nt,D:lt,h:tt,m:et,s:_e,ms:j,Q:st}[Ft]||String(Ft||"").toLowerCase().replace(/s$/,"")},u:function(Ft){return Ft===void 0}},xt="en",gt={};gt[xt]=pt;var vt=function(Ft){return Ft instanceof St},ft=function Ft(Tt,Dt,It){var Rt;if(!Tt)return xt;if(typeof Tt=="string"){var Pt=Tt.toLowerCase();gt[Pt]&&(Rt=Pt),Dt&&(gt[Pt]=Dt,Rt=Pt);var Nt=Tt.split("-");if(!Rt&&Nt.length>1)return Ft(Nt[0])}else{var Lt=Tt.name;gt[Lt]=Tt,Rt=Lt}return!It&&Rt&&(xt=Rt),Rt||!It&&xt},yt=function(Ft,Tt){if(vt(Ft))return Ft.clone();var Dt=typeof Tt=="object"?Tt:{};return Dt.date=Ft,Dt.args=arguments,new St(Dt)},mt=ht;mt.l=ft,mt.i=vt,mt.w=function(Ft,Tt){return yt(Ft,{locale:Tt.$L,utc:Tt.$u,x:Tt.$x,$offset:Tt.$offset})};var St=function(){function Ft(Dt){this.$L=ft(Dt.locale,null,!0),this.parse(Dt)}var Tt=Ft.prototype;return Tt.parse=function(Dt){this.$d=function(It){var Rt=It.date,Pt=It.utc;if(Rt===null)return new Date(NaN);if(mt.u(Rt))return new Date;if(Rt instanceof Date)return new Date(Rt);if(typeof Rt=="string"&&!/Z$/i.test(Rt)){var Nt=Rt.match(dt);if(Nt){var Lt=Nt[2]-1||0,zt=(Nt[7]||"0").substring(0,3);return Pt?new Date(Date.UTC(Nt[1],Lt,Nt[3]||1,Nt[4]||0,Nt[5]||0,Nt[6]||0,zt)):new Date(Nt[1],Lt,Nt[3]||1,Nt[4]||0,Nt[5]||0,Nt[6]||0,zt)}}return new Date(Rt)}(Dt),this.$x=Dt.x||{},this.init()},Tt.init=function(){var Dt=this.$d;this.$y=Dt.getFullYear(),this.$M=Dt.getMonth(),this.$D=Dt.getDate(),this.$W=Dt.getDay(),this.$H=Dt.getHours(),this.$m=Dt.getMinutes(),this.$s=Dt.getSeconds(),this.$ms=Dt.getMilliseconds()},Tt.$utils=function(){return mt},Tt.isValid=function(){return this.$d.toString()!==rt},Tt.isSame=function(Dt,It){var Rt=yt(Dt);return this.startOf(It)<=Rt&&Rt<=this.endOf(It)},Tt.isAfter=function(Dt,It){return yt(Dt)<this.startOf(It)},Tt.isBefore=function(Dt,It){return this.endOf(It)<yt(Dt)},Tt.$g=function(Dt,It,Rt){return mt.u(Dt)?this[It]:this.set(Rt,Dt)},Tt.unix=function(){return Math.floor(this.valueOf()/1e3)},Tt.valueOf=function(){return this.$d.getTime()},Tt.startOf=function(Dt,It){var Rt=this,Pt=!!mt.u(It)||It,Nt=mt.p(Dt),Lt=function(Bt,Wt){var Gt=mt.w(Rt.$u?Date.UTC(Rt.$y,Wt,Bt):new Date(Rt.$y,Wt,Bt),Rt);return Pt?Gt:Gt.endOf(nt)},zt=function(Bt,Wt){return mt.w(Rt.toDate()[Bt].apply(Rt.toDate("s"),(Pt?[0,0,0,0]:[23,59,59,999]).slice(Wt)),Rt)},Mt=this.$W,Et=this.$M,Ct=this.$D,Ot="set"+(this.$u?"UTC":"");switch(Nt){case ut:return Pt?Lt(1,0):Lt(31,11);case it:return Pt?Lt(1,Et):Lt(0,Et+1);case ot:var Ut=this.$locale().weekStart||0,$t=(Mt<Ut?Mt+7:Mt)-Ut;return Lt(Pt?Ct-$t:Ct+(6-$t),Et);case nt:case lt:return zt(Ot+"Hours",0);case tt:return zt(Ot+"Minutes",1);case et:return zt(Ot+"Seconds",2);case _e:return zt(Ot+"Milliseconds",3);default:return this.clone()}},Tt.endOf=function(Dt){return this.startOf(Dt,!1)},Tt.$set=function(Dt,It){var Rt,Pt=mt.p(Dt),Nt="set"+(this.$u?"UTC":""),Lt=(Rt={},Rt[nt]=Nt+"Date",Rt[lt]=Nt+"Date",Rt[it]=Nt+"Month",Rt[ut]=Nt+"FullYear",Rt[tt]=Nt+"Hours",Rt[et]=Nt+"Minutes",Rt[_e]=Nt+"Seconds",Rt[j]=Nt+"Milliseconds",Rt)[Pt],zt=Pt===nt?this.$D+(It-this.$W):It;if(Pt===it||Pt===ut){var Mt=this.clone().set(lt,1);Mt.$d[Lt](zt),Mt.init(),this.$d=Mt.set(lt,Math.min(this.$D,Mt.daysInMonth())).$d}else Lt&&this.$d[Lt](zt);return this.init(),this},Tt.set=function(Dt,It){return this.clone().$set(Dt,It)},Tt.get=function(Dt){return this[mt.p(Dt)]()},Tt.add=function(Dt,It){var Rt,Pt=this;Dt=Number(Dt);var Nt=mt.p(It),Lt=function(Et){var Ct=yt(Pt);return mt.w(Ct.date(Ct.date()+Math.round(Et*Dt)),Pt)};if(Nt===it)return this.set(it,this.$M+Dt);if(Nt===ut)return this.set(ut,this.$y+Dt);if(Nt===nt)return Lt(1);if(Nt===ot)return Lt(7);var zt=(Rt={},Rt[et]=a,Rt[tt]=$,Rt[_e]=i,Rt)[Nt]||1,Mt=this.$d.getTime()+Dt*zt;return mt.w(Mt,this)},Tt.subtract=function(Dt,It){return this.add(-1*Dt,It)},Tt.format=function(Dt){var It=this,Rt=this.$locale();if(!this.isValid())return Rt.invalidDate||rt;var Pt=Dt||"YYYY-MM-DDTHH:mm:ssZ",Nt=mt.z(this),Lt=this.$H,zt=this.$m,Mt=this.$M,Et=Rt.weekdays,Ct=Rt.months,Ot=function(Wt,Gt,bt,wt){return Wt&&(Wt[Gt]||Wt(It,Pt))||bt[Gt].slice(0,wt)},Ut=function(Wt){return mt.s(Lt%12||12,Wt,"0")},$t=Rt.meridiem||function(Wt,Gt,bt){var wt=Wt<12?"AM":"PM";return bt?wt.toLowerCase():wt},Bt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Mt+1,MM:mt.s(Mt+1,2,"0"),MMM:Ot(Rt.monthsShort,Mt,Ct,3),MMMM:Ot(Ct,Mt),D:this.$D,DD:mt.s(this.$D,2,"0"),d:String(this.$W),dd:Ot(Rt.weekdaysMin,this.$W,Et,2),ddd:Ot(Rt.weekdaysShort,this.$W,Et,3),dddd:Et[this.$W],H:String(Lt),HH:mt.s(Lt,2,"0"),h:Ut(1),hh:Ut(2),a:$t(Lt,zt,!0),A:$t(Lt,zt,!1),m:String(zt),mm:mt.s(zt,2,"0"),s:String(this.$s),ss:mt.s(this.$s,2,"0"),SSS:mt.s(this.$ms,3,"0"),Z:Nt};return Pt.replace(ct,function(Wt,Gt){return Gt||Bt[Wt]||Nt.replace(":","")})},Tt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Tt.diff=function(Dt,It,Rt){var Pt,Nt=mt.p(It),Lt=yt(Dt),zt=(Lt.utcOffset()-this.utcOffset())*a,Mt=this-Lt,Et=mt.m(this,Lt);return Et=(Pt={},Pt[ut]=Et/12,Pt[it]=Et,Pt[st]=Et/3,Pt[ot]=(Mt-zt)/6048e5,Pt[nt]=(Mt-zt)/864e5,Pt[tt]=Mt/$,Pt[et]=Mt/a,Pt[_e]=Mt/i,Pt)[Nt]||Mt,Rt?Et:mt.a(Et)},Tt.daysInMonth=function(){return this.endOf(it).$D},Tt.$locale=function(){return gt[this.$L]},Tt.locale=function(Dt,It){if(!Dt)return this.$L;var Rt=this.clone(),Pt=ft(Dt,It,!0);return Pt&&(Rt.$L=Pt),Rt},Tt.clone=function(){return mt.w(this.$d,this)},Tt.toDate=function(){return new Date(this.valueOf())},Tt.toJSON=function(){return this.isValid()?this.toISOString():null},Tt.toISOString=function(){return this.$d.toISOString()},Tt.toString=function(){return this.$d.toUTCString()},Ft}(),At=St.prototype;return yt.prototype=At,[["$ms",j],["$s",_e],["$m",et],["$H",tt],["$W",nt],["$M",it],["$y",ut],["$D",lt]].forEach(function(Ft){At[Ft[1]]=function(Tt){return this.$g(Tt,Ft[0],Ft[1])}}),yt.extend=function(Ft,Tt){return Ft.$i||(Ft(Tt,St,yt),Ft.$i=!0),yt},yt.locale=ft,yt.isDayjs=vt,yt.unix=function(Ft){return yt(1e3*Ft)},yt.en=gt[xt],yt.Ls=gt,yt.p={},yt})})(dayjs_min);const dayjs=dayjs_minExports;function isPlainObject(s){return s!==null&&typeof s=="object"&&s.constructor===Object}function deepClone(s){if(!isPlainObject(s))return s;const o={};return Object.keys(s).forEach(i=>{o[i]=deepClone(s[i])}),o}function deepmerge(s,o,i={clone:!0}){const a=i.clone?_extends({},s):s;return isPlainObject(s)&&isPlainObject(o)&&Object.keys(o).forEach($=>{$!=="__proto__"&&(isPlainObject(o[$])&&$ in s&&isPlainObject(s[$])?a[$]=deepmerge(s[$],o[$],i):i.clone?a[$]=isPlainObject(o[$])?deepClone(o[$]):o[$]:a[$]=o[$])}),a}function formatMuiErrorMessage(s){let o="https://mui.com/production-error/?code="+s;for(let i=1;i<arguments.length;i+=1)o+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+s+"; visit "+o+" for the full message."}var reactIsExports$1={},reactIs$2={get exports(){return reactIsExports$1},set exports(s){reactIsExports$1=s}},reactIs_production_min$1={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e$1=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v$1(s){if(typeof s=="object"&&s!==null){var o=s.$$typeof;switch(o){case b$1:switch(s=s.type,s){case d$1:case f$1:case e$1:case m$1:case n$1:return s;default:switch(s=s&&s.$$typeof,s){case k$1:case h$1:case l$1:case q$1:case p$1:case g$1:return s;default:return o}}case c$1:return o}}}reactIs_production_min$1.ContextConsumer=h$1;reactIs_production_min$1.ContextProvider=g$1;reactIs_production_min$1.Element=b$1;reactIs_production_min$1.ForwardRef=l$1;reactIs_production_min$1.Fragment=d$1;reactIs_production_min$1.Lazy=q$1;reactIs_production_min$1.Memo=p$1;reactIs_production_min$1.Portal=c$1;reactIs_production_min$1.Profiler=f$1;reactIs_production_min$1.StrictMode=e$1;reactIs_production_min$1.Suspense=m$1;reactIs_production_min$1.SuspenseList=n$1;reactIs_production_min$1.isAsyncMode=function(){return!1};reactIs_production_min$1.isConcurrentMode=function(){return!1};reactIs_production_min$1.isContextConsumer=function(s){return v$1(s)===h$1};reactIs_production_min$1.isContextProvider=function(s){return v$1(s)===g$1};reactIs_production_min$1.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===b$1};reactIs_production_min$1.isForwardRef=function(s){return v$1(s)===l$1};reactIs_production_min$1.isFragment=function(s){return v$1(s)===d$1};reactIs_production_min$1.isLazy=function(s){return v$1(s)===q$1};reactIs_production_min$1.isMemo=function(s){return v$1(s)===p$1};reactIs_production_min$1.isPortal=function(s){return v$1(s)===c$1};reactIs_production_min$1.isProfiler=function(s){return v$1(s)===f$1};reactIs_production_min$1.isStrictMode=function(s){return v$1(s)===e$1};reactIs_production_min$1.isSuspense=function(s){return v$1(s)===m$1};reactIs_production_min$1.isSuspenseList=function(s){return v$1(s)===n$1};reactIs_production_min$1.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===d$1||s===f$1||s===e$1||s===m$1||s===n$1||s===t$1||typeof s=="object"&&s!==null&&(s.$$typeof===q$1||s.$$typeof===p$1||s.$$typeof===g$1||s.$$typeof===h$1||s.$$typeof===l$1||s.$$typeof===u||s.getModuleId!==void 0)};reactIs_production_min$1.typeOf=v$1;(function(s){s.exports=reactIs_production_min$1})(reactIs$2);function capitalize(s){if(typeof s!="string")throw new Error(formatMuiErrorMessage(7));return s.charAt(0).toUpperCase()+s.slice(1)}function createChainedFunction(...s){return s.reduce((o,i)=>i==null?o:function(...$){o.apply(this,$),i.apply(this,$)},()=>{})}function debounce(s,o=166){let i;function a(...$){const j=()=>{s.apply(this,$)};clearTimeout(i),i=setTimeout(j,o)}return a.clear=()=>{clearTimeout(i)},a}function deprecatedPropType(s,o){return()=>null}function isMuiElement(s,o){return reactExports.isValidElement(s)&&o.indexOf(s.type.muiName)!==-1}function ownerDocument(s){return s&&s.ownerDocument||document}function ownerWindow(s){return ownerDocument(s).defaultView||window}function requirePropFactory(s,o){return()=>null}function setRef(s,o){typeof s=="function"?s(o):s&&(s.current=o)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(s){const[o,i]=reactExports.useState(s),a=s||o;return reactExports.useEffect(()=>{o==null&&(globalId+=1,i(`mui-${globalId}`))},[o]),a}const maybeReactUseId=React$1["useId"];function useId(s){if(maybeReactUseId!==void 0){const o=maybeReactUseId();return s??o}return useGlobalId(s)}function unsupportedProp(s,o,i,a,$){return null}function useControlled({controlled:s,default:o,name:i,state:a="value"}){const{current:$}=reactExports.useRef(s!==void 0),[j,_e]=reactExports.useState(o),et=$?s:j,tt=reactExports.useCallback(nt=>{$||_e(nt)},[]);return[et,tt]}function useEventCallback(s){const o=reactExports.useRef(s);return useEnhancedEffect$1(()=>{o.current=s}),reactExports.useCallback((...i)=>(0,o.current)(...i),[])}function useForkRef(...s){return reactExports.useMemo(()=>s.every(o=>o==null)?null:o=>{s.forEach(i=>{setRef(i,o)})},s)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(s){const{type:o,tagName:i}=s;return!!(i==="INPUT"&&inputTypesWhitelist[o]&&!s.readOnly||i==="TEXTAREA"&&!s.readOnly||s.isContentEditable)}function handleKeyDown(s){s.metaKey||s.altKey||s.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(s){s.addEventListener("keydown",handleKeyDown,!0),s.addEventListener("mousedown",handlePointerDown,!0),s.addEventListener("pointerdown",handlePointerDown,!0),s.addEventListener("touchstart",handlePointerDown,!0),s.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(s){const{target:o}=s;try{return o.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(o)}function useIsFocusVisible(){const s=reactExports.useCallback($=>{$!=null&&prepare($.ownerDocument)},[]),o=reactExports.useRef(!1);function i(){return o.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),o.current=!1,!0):!1}function a($){return isFocusVisible($)?(o.current=!0,!0):!1}return{isFocusVisibleRef:o,onFocus:a,onBlur:i,ref:s}}function getScrollbarSize(s){const o=s.documentElement.clientWidth;return Math.abs(window.innerWidth-o)}let cachedType;function detectScrollType(){if(cachedType)return cachedType;const s=document.createElement("div"),o=document.createElement("div");return o.style.width="10px",o.style.height="1px",s.appendChild(o),s.dir="rtl",s.style.fontSize="14px",s.style.width="4px",s.style.height="1px",s.style.position="absolute",s.style.top="-1000px",s.style.overflow="scroll",document.body.appendChild(s),cachedType="reverse",s.scrollLeft>0?cachedType="default":(s.scrollLeft=1,s.scrollLeft===0&&(cachedType="negative")),document.body.removeChild(s),cachedType}function getNormalizedScrollLeft(s,o){const i=s.scrollLeft;if(o!=="rtl")return i;switch(detectScrollType()){case"negative":return s.scrollWidth-s.clientWidth+i;case"reverse":return s.scrollWidth-s.clientWidth-i;default:return i}}function resolveProps(s,o){const i=_extends({},o);return Object.keys(s).forEach(a=>{if(a.toString().match(/^(components|slots)$/))i[a]=_extends({},s[a],i[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){const $=s[a]||{},j=o[a];i[a]={},!j||!Object.keys(j)?i[a]=$:!$||!Object.keys($)?i[a]=j:(i[a]=_extends({},j),Object.keys($).forEach(_e=>{i[a][_e]=resolveProps($[_e],j[_e])}))}else i[a]===void 0&&(i[a]=s[a])}),i}function composeClasses(s,o,i){const a={};return Object.keys(s).forEach($=>{a[$]=s[$].reduce((j,_e)=>(_e&&(j.push(o(_e)),i&&i[_e]&&j.push(i[_e])),j),[]).join(" ")}),a}const defaultGenerator=s=>s,createClassNameGenerator=()=>{let s=defaultGenerator;return{configure(o){s=o},generate(o){return s(o)},reset(){s=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(s,o,i="Mui"){const a=globalStateClassesMapping[o];return a?`${i}-${a}`:`${ClassNameGenerator$1.generate(s)}-${o}`}function generateUtilityClasses(s,o,i="Mui"){const a={};return o.forEach($=>{a[$]=generateUtilityClass(s,$,i)}),a}function memoize$1(s){var o=Object.create(null);return function(i){return o[i]===void 0&&(o[i]=s(i)),o[i]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(s){return reactPropsRegex.test(s)||s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)<91});function sheetForTag(s){if(s.sheet)return s.sheet;for(var o=0;o<document.styleSheets.length;o++)if(document.styleSheets[o].ownerNode===s)return document.styleSheets[o]}function createStyleElement(s){var o=document.createElement("style");return o.setAttribute("data-emotion",s.key),s.nonce!==void 0&&o.setAttribute("nonce",s.nonce),o.appendChild(document.createTextNode("")),o.setAttribute("data-s",""),o}var StyleSheet=function(){function s(i){var a=this;this._insertTag=function($){var j;a.tags.length===0?a.insertionPoint?j=a.insertionPoint.nextSibling:a.prepend?j=a.container.firstChild:j=a.before:j=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore($,j),a.tags.push($)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var o=s.prototype;return o.hydrate=function(a){a.forEach(this._insertTag)},o.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var $=this.tags[this.tags.length-1];if(this.isSpeedy){var j=sheetForTag($);try{j.insertRule(a,j.cssRules.length)}catch{}}else $.appendChild(document.createTextNode(a));this.ctr++},o.flush=function(){this.tags.forEach(function(a){return a.parentNode&&a.parentNode.removeChild(a)}),this.tags=[],this.ctr=0},s}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(s,o){return charat(s,0)^45?(((o<<2^charat(s,0))<<2^charat(s,1))<<2^charat(s,2))<<2^charat(s,3):0}function trim(s){return s.trim()}function match(s,o){return(s=o.exec(s))?s[0]:s}function replace(s,o,i){return s.replace(o,i)}function indexof(s,o){return s.indexOf(o)}function charat(s,o){return s.charCodeAt(o)|0}function substr(s,o,i){return s.slice(o,i)}function strlen(s){return s.length}function sizeof(s){return s.length}function append(s,o){return o.push(s),s}function combine(s,o){return s.map(o).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(s,o,i,a,$,j,_e){return{value:s,root:o,parent:i,type:a,props:$,children:j,line,column,length:_e,return:""}}function copy(s,o){return assign(node("",null,null,"",null,null,0),s,{length:-s.length},o)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(s,o){return substr(characters,s,o)}function token(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(s){return line=column=1,length=strlen(characters=s),position=0,[]}function dealloc(s){return characters="",s}function delimit(s){return trim(slice(position-1,delimiter(s===91?s+2:s===40?s+1:s)))}function whitespace(s){for(;(character=peek())&&character<33;)next();return token(s)>2||token(character)>3?"":" "}function escaping(s,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(s,caret()+(o<6&&peek()==32&&next()==32))}function delimiter(s){for(;next();)switch(character){case s:return position;case 34:case 39:s!==34&&s!==39&&delimiter(character);break;case 40:s===41&&delimiter(s);break;case 92:next();break}return position}function commenter(s,o){for(;next()&&s+character!==47+10;)if(s+character===42+42&&peek()===47)break;return"/*"+slice(o,position-1)+"*"+from(s===47?s:next())}function identifier(s){for(;!token(peek());)next();return slice(s,position)}function compile(s){return dealloc(parse("",null,null,null,[""],s=alloc(s),0,[0],s))}function parse(s,o,i,a,$,j,_e,et,tt){for(var nt=0,ot=0,it=_e,st=0,ut=0,lt=0,rt=1,dt=1,ct=1,pt=0,at="",ht=$,xt=j,gt=a,vt=at;dt;)switch(lt=pt,pt=next()){case 40:if(lt!=108&&charat(vt,it-1)==58){indexof(vt+=replace(delimit(pt),"&","&\f"),"&\f")!=-1&&(ct=-1);break}case 34:case 39:case 91:vt+=delimit(pt);break;case 9:case 10:case 13:case 32:vt+=whitespace(lt);break;case 92:vt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,i),tt);break;default:vt+="/"}break;case 123*rt:et[nt++]=strlen(vt)*ct;case 125*rt:case 59:case 0:switch(pt){case 0:case 125:dt=0;case 59+ot:ut>0&&strlen(vt)-it&&append(ut>32?declaration(vt+";",a,i,it-1):declaration(replace(vt," ","")+";",a,i,it-2),tt);break;case 59:vt+=";";default:if(append(gt=ruleset(vt,o,i,nt,ot,$,et,at,ht=[],xt=[],it),j),pt===123)if(ot===0)parse(vt,o,gt,gt,ht,j,it,et,xt);else switch(st===99&&charat(vt,3)===110?100:st){case 100:case 109:case 115:parse(s,gt,gt,a&&append(ruleset(s,gt,gt,0,0,$,et,at,$,ht=[],it),xt),$,xt,it,et,a?ht:xt);break;default:parse(vt,gt,gt,gt,[""],xt,0,et,xt)}}nt=ot=ut=0,rt=ct=1,at=vt="",it=_e;break;case 58:it=1+strlen(vt),ut=lt;default:if(rt<1){if(pt==123)--rt;else if(pt==125&&rt++==0&&prev()==125)continue}switch(vt+=from(pt),pt*rt){case 38:ct=ot>0?1:(vt+="\f",-1);break;case 44:et[nt++]=(strlen(vt)-1)*ct,ct=1;break;case 64:peek()===45&&(vt+=delimit(next())),st=peek(),ot=it=strlen(at=vt+=identifier(caret())),pt++;break;case 45:lt===45&&strlen(vt)==2&&(rt=0)}}return j}function ruleset(s,o,i,a,$,j,_e,et,tt,nt,ot){for(var it=$-1,st=$===0?j:[""],ut=sizeof(st),lt=0,rt=0,dt=0;lt<a;++lt)for(var ct=0,pt=substr(s,it+1,it=abs(rt=_e[lt])),at=s;ct<ut;++ct)(at=trim(rt>0?st[ct]+" "+pt:replace(pt,/&\f/g,st[ct])))&&(tt[dt++]=at);return node(s,o,i,$===0?RULESET:et,tt,nt,ot)}function comment(s,o,i){return node(s,o,i,COMMENT,from(char()),substr(s,2,-2),0)}function declaration(s,o,i,a){return node(s,o,i,DECLARATION,substr(s,0,a),substr(s,a+1,-1),a)}function serialize(s,o){for(var i="",a=sizeof(s),$=0;$<a;$++)i+=o(s[$],$,s,o)||"";return i}function stringify(s,o,i,a){switch(s.type){case IMPORT:case DECLARATION:return s.return=s.return||s.value;case COMMENT:return"";case KEYFRAMES:return s.return=s.value+"{"+serialize(s.children,a)+"}";case RULESET:s.value=s.props.join(",")}return strlen(i=serialize(s.children,a))?s.return=s.value+"{"+i+"}":""}function middleware(s){var o=sizeof(s);return function(i,a,$,j){for(var _e="",et=0;et<o;et++)_e+=s[et](i,a,$,j)||"";return _e}}function rulesheet(s){return function(o){o.root||(o=o.return)&&s(o)}}var identifierWithPointTracking=function(o,i,a){for(var $=0,j=0;$=j,j=peek(),$===38&&j===12&&(i[a]=1),!token(j);)next();return slice(o,position)},toRules=function(o,i){var a=-1,$=44;do switch(token($)){case 0:$===38&&peek()===12&&(i[a]=1),o[a]+=identifierWithPointTracking(position-1,i,a);break;case 2:o[a]+=delimit($);break;case 4:if($===44){o[++a]=peek()===58?"&\f":"",i[a]=o[a].length;break}default:o[a]+=from($)}while($=next());return o},getRules=function(o,i){return dealloc(toRules(alloc(o),i))},fixedElements=new WeakMap,compat=function(o){if(!(o.type!=="rule"||!o.parent||o.length<1)){for(var i=o.value,a=o.parent,$=o.column===a.column&&o.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(o.props.length===1&&i.charCodeAt(0)!==58&&!fixedElements.get(a))&&!$){fixedElements.set(o,!0);for(var j=[],_e=getRules(i,j),et=a.props,tt=0,nt=0;tt<_e.length;tt++)for(var ot=0;ot<et.length;ot++,nt++)o.props[nt]=j[tt]?_e[tt].replace(/&\f/g,et[ot]):et[ot]+" "+_e[tt]}}},removeLabel=function(o){if(o.type==="decl"){var i=o.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(o.return="",o.value="")}};function prefix$1(s,o){switch(hash(s,o)){case 5103:return WEBKIT+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+s+MOZ+s+MS+s+s;case 6828:case 4268:return WEBKIT+s+MS+s+s;case 6165:return WEBKIT+s+MS+"flex-"+s+s;case 5187:return WEBKIT+s+replace(s,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+s;case 5443:return WEBKIT+s+MS+"flex-item-"+replace(s,/flex-|-self/,"")+s;case 4675:return WEBKIT+s+MS+"flex-line-pack"+replace(s,/align-content|flex-|-self/,"")+s;case 5548:return WEBKIT+s+MS+replace(s,"shrink","negative")+s;case 5292:return WEBKIT+s+MS+replace(s,"basis","preferred-size")+s;case 6060:return WEBKIT+"box-"+replace(s,"-grow","")+WEBKIT+s+MS+replace(s,"grow","positive")+s;case 4554:return WEBKIT+replace(s,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+s;case 6187:return replace(replace(replace(s,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),s,"")+s;case 5495:case 3959:return replace(s,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(s,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+s+s;case 4095:case 3583:case 4068:case 2532:return replace(s,/(.+)-inline(.+)/,WEBKIT+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(s)-1-o>6)switch(charat(s,o+1)){case 109:if(charat(s,o+4)!==45)break;case 102:return replace(s,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(s,o+3)==108?"$3":"$2-$3"))+s;case 115:return~indexof(s,"stretch")?prefix$1(replace(s,"stretch","fill-available"),o)+s:s}break;case 4949:if(charat(s,o+1)!==115)break;case 6444:switch(charat(s,strlen(s)-3-(~indexof(s,"!important")&&10))){case 107:return replace(s,":",":"+WEBKIT)+s;case 101:return replace(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(s,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+s}break;case 5936:switch(charat(s,o+11)){case 114:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return WEBKIT+s+MS+s+s}return s}var prefixer=function(o,i,a,$){if(o.length>-1&&!o.return)switch(o.type){case DECLARATION:o.return=prefix$1(o.value,o.length);break;case KEYFRAMES:return serialize([copy(o,{value:replace(o.value,"@","@"+WEBKIT)})],$);case RULESET:if(o.length)return combine(o.props,function(j){switch(match(j,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(o,{props:[replace(j,/:(read-\w+)/,":"+MOZ+"$1")]})],$);case"::placeholder":return serialize([copy(o,{props:[replace(j,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(o,{props:[replace(j,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(o,{props:[replace(j,/:(plac\w+)/,MS+"input-$1")]})],$)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(o){var i=o.key;if(i==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(rt){var dt=rt.getAttribute("data-emotion");dt.indexOf(" ")!==-1&&(document.head.appendChild(rt),rt.setAttribute("data-s",""))})}var $=o.stylisPlugins||defaultStylisPlugins,j={},_e,et=[];_e=o.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(rt){for(var dt=rt.getAttribute("data-emotion").split(" "),ct=1;ct<dt.length;ct++)j[dt[ct]]=!0;et.push(rt)});var tt,nt=[compat,removeLabel];{var ot,it=[stringify,rulesheet(function(rt){ot.insert(rt)})],st=middleware(nt.concat($,it)),ut=function(dt){return serialize(compile(dt),st)};tt=function(dt,ct,pt,at){ot=pt,ut(dt?dt+"{"+ct.styles+"}":ct.styles),at&&(lt.inserted[ct.name]=!0)}}var lt={key:i,sheet:new StyleSheet({key:i,container:_e,nonce:o.nonce,speedy:o.speedy,prepend:o.prepend,insertionPoint:o.insertionPoint}),nonce:o.nonce,inserted:j,registered:{},insert:tt};return lt.sheet.hydrate(et),lt},reactIsExports={},reactIs$1={get exports(){return reactIsExports},set exports(s){reactIsExports=s}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(s){if(typeof s=="object"&&s!==null){var o=s.$$typeof;switch(o){case c:switch(s=s.type,s){case l:case m:case e:case g:case f:case p:return s;default:switch(s=s&&s.$$typeof,s){case k:case n:case t:case r$1:case h:return s;default:return o}}case d:return o}}}function A(s){return z(s)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(s){return A(s)||z(s)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(s){return z(s)===k};reactIs_production_min.isContextProvider=function(s){return z(s)===h};reactIs_production_min.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===c};reactIs_production_min.isForwardRef=function(s){return z(s)===n};reactIs_production_min.isFragment=function(s){return z(s)===e};reactIs_production_min.isLazy=function(s){return z(s)===t};reactIs_production_min.isMemo=function(s){return z(s)===r$1};reactIs_production_min.isPortal=function(s){return z(s)===d};reactIs_production_min.isProfiler=function(s){return z(s)===g};reactIs_production_min.isStrictMode=function(s){return z(s)===f};reactIs_production_min.isSuspense=function(s){return z(s)===p};reactIs_production_min.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===e||s===m||s===g||s===f||s===p||s===q||typeof s=="object"&&s!==null&&(s.$$typeof===t||s.$$typeof===r$1||s.$$typeof===h||s.$$typeof===k||s.$$typeof===n||s.$$typeof===w||s.$$typeof===x||s.$$typeof===y||s.$$typeof===v)};reactIs_production_min.typeOf=z;(function(s){s.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(s,o,i){var a="";return i.split(" ").forEach(function($){s[$]!==void 0?o.push(s[$]+";"):a+=$+" "}),a}var registerStyles=function(o,i,a){var $=o.key+"-"+i.name;(a===!1||isBrowser$1===!1)&&o.registered[$]===void 0&&(o.registered[$]=i.styles)},insertStyles=function(o,i,a){registerStyles(o,i,a);var $=o.key+"-"+i.name;if(o.inserted[i.name]===void 0){var j=i;do o.insert(i===j?"."+$:"",j,o.sheet,!0),j=j.next;while(j!==void 0)}};function murmur2(s){for(var o=0,i,a=0,$=s.length;$>=4;++a,$-=4)i=s.charCodeAt(a)&255|(s.charCodeAt(++a)&255)<<8|(s.charCodeAt(++a)&255)<<16|(s.charCodeAt(++a)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,o=(i&65535)*1540483477+((i>>>16)*59797<<16)^(o&65535)*1540483477+((o>>>16)*59797<<16);switch($){case 3:o^=(s.charCodeAt(a+2)&255)<<16;case 2:o^=(s.charCodeAt(a+1)&255)<<8;case 1:o^=s.charCodeAt(a)&255,o=(o&65535)*1540483477+((o>>>16)*59797<<16)}return o^=o>>>13,o=(o&65535)*1540483477+((o>>>16)*59797<<16),((o^o>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(o){return o.charCodeAt(1)===45},isProcessableValue=function(o){return o!=null&&typeof o!="boolean"},processStyleName=memoize$1(function(s){return isCustomProperty(s)?s:s.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(o,i){switch(o){case"animation":case"animationName":if(typeof i=="string")return i.replace(animationRegex,function(a,$,j){return cursor={name:$,styles:j,next:cursor},$})}return unitlessKeys[o]!==1&&!isCustomProperty(o)&&typeof i=="number"&&i!==0?i+"px":i},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(s,o,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return cursor={name:i.name,styles:i.styles,next:cursor},i.name;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)cursor={name:a.name,styles:a.styles,next:cursor},a=a.next;var $=i.styles+";";return $}return createStringFromObject(s,o,i)}case"function":{if(s!==void 0){var j=cursor,_e=i(s);return cursor=j,handleInterpolation(s,o,_e)}break}}if(o==null)return i;var et=o[i];return et!==void 0?et:i}function createStringFromObject(s,o,i){var a="";if(Array.isArray(i))for(var $=0;$<i.length;$++)a+=handleInterpolation(s,o,i[$])+";";else for(var j in i){var _e=i[j];if(typeof _e!="object")o!=null&&o[_e]!==void 0?a+=j+"{"+o[_e]+"}":isProcessableValue(_e)&&(a+=processStyleName(j)+":"+processStyleValue(j,_e)+";");else if(Array.isArray(_e)&&typeof _e[0]=="string"&&(o==null||o[_e[0]]===void 0))for(var et=0;et<_e.length;et++)isProcessableValue(_e[et])&&(a+=processStyleName(j)+":"+processStyleValue(j,_e[et])+";");else{var tt=handleInterpolation(s,o,_e);switch(j){case"animation":case"animationName":{a+=processStyleName(j)+":"+tt+";";break}default:a+=j+"{"+tt+"}"}}}return a}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(o,i,a){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var $=!0,j="";cursor=void 0;var _e=o[0];_e==null||_e.raw===void 0?($=!1,j+=handleInterpolation(a,i,_e)):j+=_e[0];for(var et=1;et<o.length;et++)j+=handleInterpolation(a,i,o[et]),$&&(j+=_e[et]);labelPattern.lastIndex=0;for(var tt="",nt;(nt=labelPattern.exec(j))!==null;)tt+="-"+nt[1];var ot=murmur2(j)+tt;return{name:ot,styles:j,next:cursor}},syncFallback=function(o){return o()},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(o){return reactExports.forwardRef(function(i,a){var $=reactExports.useContext(EmotionCacheContext);return o(i,$,a)})},ThemeContext$2=reactExports.createContext({}),Global=withEmotionCache(function(s,o){var i=s.styles,a=serializeStyles([i],void 0,reactExports.useContext(ThemeContext$2)),$=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var j=o.key+"-global",_e=new o.sheet.constructor({key:j,nonce:o.sheet.nonce,container:o.sheet.container,speedy:o.sheet.isSpeedy}),et=!1,tt=document.querySelector('style[data-emotion="'+j+" "+a.name+'"]');return o.sheet.tags.length&&(_e.before=o.sheet.tags[0]),tt!==null&&(et=!0,tt.setAttribute("data-emotion",j),_e.hydrate([tt])),$.current=[_e,et],function(){_e.flush()}},[o]),useInsertionEffectWithLayoutFallback(function(){var j=$.current,_e=j[0],et=j[1];if(et){j[1]=!1;return}if(a.next!==void 0&&insertStyles(o,a.next,!0),_e.tags.length){var tt=_e.tags[_e.tags.length-1].nextElementSibling;_e.before=tt,_e.flush()}o.insert("",a,_e,!1)},[o,a.name]),null});function css(){for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return serializeStyles(o)}var keyframes=function(){var o=css.apply(void 0,arguments),i="animation-"+o.name;return{name:i,styles:"@keyframes "+i+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(o){return o!=="theme"},getDefaultShouldForwardProp=function(o){return typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(o,i,a){var $;if(i){var j=i.shouldForwardProp;$=o.__emotion_forwardProp&&j?function(_e){return o.__emotion_forwardProp(_e)&&j(_e)}:j}return typeof $!="function"&&a&&($=o.__emotion_forwardProp),$},Insertion=function(o){var i=o.cache,a=o.serialized,$=o.isStringTag;return registerStyles(i,a,$),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(i,a,$)}),null},createStyled$1=function s(o,i){var a=o.__emotion_real===o,$=a&&o.__emotion_base||o,j,_e;i!==void 0&&(j=i.label,_e=i.target);var et=composeShouldForwardProps(o,i,a),tt=et||getDefaultShouldForwardProp($),nt=!tt("as");return function(){var ot=arguments,it=a&&o.__emotion_styles!==void 0?o.__emotion_styles.slice(0):[];if(j!==void 0&&it.push("label:"+j+";"),ot[0]==null||ot[0].raw===void 0)it.push.apply(it,ot);else{it.push(ot[0][0]);for(var st=ot.length,ut=1;ut<st;ut++)it.push(ot[ut],ot[0][ut])}var lt=withEmotionCache(function(rt,dt,ct){var pt=nt&&rt.as||$,at="",ht=[],xt=rt;if(rt.theme==null){xt={};for(var gt in rt)xt[gt]=rt[gt];xt.theme=reactExports.useContext(ThemeContext$2)}typeof rt.className=="string"?at=getRegisteredStyles(dt.registered,ht,rt.className):rt.className!=null&&(at=rt.className+" ");var vt=serializeStyles(it.concat(ht),dt.registered,xt);at+=dt.key+"-"+vt.name,_e!==void 0&&(at+=" "+_e);var ft=nt&&et===void 0?getDefaultShouldForwardProp(pt):tt,yt={};for(var mt in rt)nt&&mt==="as"||ft(mt)&&(yt[mt]=rt[mt]);return yt.className=at,yt.ref=ct,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:dt,serialized:vt,isStringTag:typeof pt=="string"}),reactExports.createElement(pt,yt))});return lt.displayName=j!==void 0?j:"Styled("+(typeof $=="string"?$:$.displayName||$.name||"Component")+")",lt.defaultProps=o.defaultProps,lt.__emotion_real=lt,lt.__emotion_base=$,lt.__emotion_styles=it,lt.__emotion_forwardProp=et,Object.defineProperty(lt,"toString",{value:function(){return"."+_e}}),lt.withComponent=function(rt,dt){return s(rt,_extends({},i,dt,{shouldForwardProp:composeShouldForwardProps(lt,dt,!0)})).apply(void 0,it)},lt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(s){newStyled[s]=newStyled(s)});const emStyled=newStyled;function isEmpty$4(s){return s==null||Object.keys(s).length===0}function GlobalStyles$1(s){const{styles:o,defaultTheme:i={}}=s;return jsx(Global,{styles:typeof o=="function"?$=>o(isEmpty$4($)?i:$):o})}/** @license MUI v5.11.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(s,o){return emStyled(s,o)}const internal_processStyles=(s,o)=>{Array.isArray(s.__emotion_styles)&&(s.__emotion_styles=o(s.__emotion_styles))};function merge(s,o){return o?deepmerge(s,o,{clone:!1}):s}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:s=>`@media (min-width:${values$1[s]}px)`};function handleBreakpoints(s,o,i){const a=s.theme||{};if(Array.isArray(o)){const j=a.breakpoints||defaultBreakpoints;return o.reduce((_e,et,tt)=>(_e[j.up(j.keys[tt])]=i(o[tt]),_e),{})}if(typeof o=="object"){const j=a.breakpoints||defaultBreakpoints;return Object.keys(o).reduce((_e,et)=>{if(Object.keys(j.values||values$1).indexOf(et)!==-1){const tt=j.up(et);_e[tt]=i(o[et],et)}else{const tt=et;_e[tt]=o[tt]}return _e},{})}return i(o)}function createEmptyBreakpointObject(s={}){var o;return((o=s.keys)==null?void 0:o.reduce((a,$)=>{const j=s.up($);return a[j]={},a},{}))||{}}function removeUnusedBreakpoints(s,o){return s.reduce((i,a)=>{const $=i[a];return(!$||Object.keys($).length===0)&&delete i[a],i},o)}function mergeBreakpointsInOrder(s,...o){const i=createEmptyBreakpointObject(s),a=[i,...o].reduce(($,j)=>deepmerge($,j),{});return removeUnusedBreakpoints(Object.keys(i),a)}function computeBreakpointsBase(s,o){if(typeof s!="object")return{};const i={},a=Object.keys(o);return Array.isArray(s)?a.forEach(($,j)=>{j<s.length&&(i[$]=!0)}):a.forEach($=>{s[$]!=null&&(i[$]=!0)}),i}function resolveBreakpointValues({values:s,breakpoints:o,base:i}){const a=i||computeBreakpointsBase(s,o),$=Object.keys(a);if($.length===0)return s;let j;return $.reduce((_e,et,tt)=>(Array.isArray(s)?(_e[et]=s[tt]!=null?s[tt]:s[j],j=tt):typeof s=="object"?(_e[et]=s[et]!=null?s[et]:s[j],j=et):_e[et]=s,_e),{})}function getPath(s,o,i=!0){if(!o||typeof o!="string")return null;if(s&&s.vars&&i){const a=`vars.${o}`.split(".").reduce(($,j)=>$&&$[j]?$[j]:null,s);if(a!=null)return a}return o.split(".").reduce((a,$)=>a&&a[$]!=null?a[$]:null,s)}function getStyleValue$1(s,o,i,a=i){let $;return typeof s=="function"?$=s(i):Array.isArray(s)?$=s[i]||a:$=getPath(s,i)||a,o&&($=o($,a,s)),$}function style$2(s){const{prop:o,cssProperty:i=s.prop,themeKey:a,transform:$}=s,j=_e=>{if(_e[o]==null)return null;const et=_e[o],tt=_e.theme,nt=getPath(tt,a)||{};return handleBreakpoints(_e,et,it=>{let st=getStyleValue$1(nt,$,it);return it===st&&typeof it=="string"&&(st=getStyleValue$1(nt,$,`${o}${it==="default"?"":capitalize(it)}`,it)),i===!1?st:{[i]:st}})};return j.propTypes={},j.filterProps=[o],j}function compose(...s){const o=s.reduce((a,$)=>($.filterProps.forEach(j=>{a[j]=$}),a),{}),i=a=>Object.keys(a).reduce(($,j)=>o[j]?merge($,o[j](a)):$,{});return i.propTypes={},i.filterProps=s.reduce((a,$)=>a.concat($.filterProps),[]),i}function memoize(s){const o={};return i=>(o[i]===void 0&&(o[i]=s(i)),o[i])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(s=>{if(s.length>2)if(aliases[s])s=aliases[s];else return[s];const[o,i]=s.split(""),a=properties[o],$=directions[i]||"";return Array.isArray($)?$.map(j=>a+j):[a+$]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(s,o,i,a){var $;const j=($=getPath(s,o,!1))!=null?$:i;return typeof j=="number"?_e=>typeof _e=="string"?_e:j*_e:Array.isArray(j)?_e=>typeof _e=="string"?_e:j[_e]:typeof j=="function"?j:()=>{}}function createUnarySpacing(s){return createUnaryUnit(s,"spacing",8)}function getValue(s,o){if(typeof o=="string"||o==null)return o;const i=Math.abs(o),a=s(i);return o>=0?a:typeof a=="number"?-a:`-${a}`}function getStyleFromPropValue(s,o){return i=>s.reduce((a,$)=>(a[$]=getValue(o,i),a),{})}function resolveCssProperty(s,o,i,a){if(o.indexOf(i)===-1)return null;const $=getCssProperties(i),j=getStyleFromPropValue($,a),_e=s[i];return handleBreakpoints(s,_e,j)}function style$1(s,o){const i=createUnarySpacing(s.theme);return Object.keys(s).map(a=>resolveCssProperty(s,o,a,i)).reduce(merge,{})}function margin(s){return style$1(s,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(s){return style$1(s,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function borderTransform(s){return typeof s!="number"?s:`${s}px solid`}const border=style$2({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$2({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$2({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$2({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$2({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$2({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$2({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$2({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$2({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$2({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=s=>{if(s.borderRadius!==void 0&&s.borderRadius!==null){const o=createUnaryUnit(s.theme,"shape.borderRadius",4),i=a=>({borderRadius:getValue(o,a)});return handleBreakpoints(s,s.borderRadius,i)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=s=>{if(s.gap!==void 0&&s.gap!==null){const o=createUnaryUnit(s.theme,"spacing",8),i=a=>({gap:getValue(o,a)});return handleBreakpoints(s,s.gap,i)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=s=>{if(s.columnGap!==void 0&&s.columnGap!==null){const o=createUnaryUnit(s.theme,"spacing",8),i=a=>({columnGap:getValue(o,a)});return handleBreakpoints(s,s.columnGap,i)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=s=>{if(s.rowGap!==void 0&&s.rowGap!==null){const o=createUnaryUnit(s.theme,"spacing",8),i=a=>({rowGap:getValue(o,a)});return handleBreakpoints(s,s.rowGap,i)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(s,o){return o==="grey"?o:s}const color=style$2({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(s){return s<=1&&s!==0?`${s*100}%`:s}const width=style$2({prop:"width",transform:sizingTransform}),maxWidth=s=>{if(s.maxWidth!==void 0&&s.maxWidth!==null){const o=i=>{var a,$,j;return{maxWidth:((a=s.theme)==null||($=a.breakpoints)==null||(j=$.values)==null?void 0:j[i])||values$1[i]||sizingTransform(i)}};return handleBreakpoints(s,s.maxWidth,o)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform:sizingTransform}),height=style$2({prop:"height",transform:sizingTransform}),maxHeight=style$2({prop:"maxHeight",transform:sizingTransform}),minHeight=style$2({prop:"minHeight",transform:sizingTransform});style$2({prop:"size",cssProperty:"width",transform:sizingTransform});style$2({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$2({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:s=>({"@media print":{display:s}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...s){const o=s.reduce((a,$)=>a.concat(Object.keys($)),[]),i=new Set(o);return s.every(a=>i.size===Object.keys(a).length)}function callIfFn(s,o){return typeof s=="function"?s(o):s}function unstable_createStyleFunctionSx(){function s(i,a,$,j){const _e={[i]:a,theme:$},et=j[i];if(!et)return{[i]:a};const{cssProperty:tt=i,themeKey:nt,transform:ot,style:it}=et;if(a==null)return null;const st=getPath($,nt)||{};return it?it(_e):handleBreakpoints(_e,a,lt=>{let rt=getStyleValue$1(st,ot,lt);return lt===rt&&typeof lt=="string"&&(rt=getStyleValue$1(st,ot,`${i}${lt==="default"?"":capitalize(lt)}`,lt)),tt===!1?rt:{[tt]:rt}})}function o(i){var a;const{sx:$,theme:j={}}=i||{};if(!$)return null;const _e=(a=j.unstable_sxConfig)!=null?a:defaultSxConfig$1;function et(tt){let nt=tt;if(typeof tt=="function")nt=tt(j);else if(typeof tt!="object")return tt;if(!nt)return null;const ot=createEmptyBreakpointObject(j.breakpoints),it=Object.keys(ot);let st=ot;return Object.keys(nt).forEach(ut=>{const lt=callIfFn(nt[ut],j);if(lt!=null)if(typeof lt=="object")if(_e[ut])st=merge(st,s(ut,lt,j,_e));else{const rt=handleBreakpoints({theme:j},lt,dt=>({[ut]:dt}));objectsHaveSameKeys(rt,lt)?st[ut]=o({sx:lt,theme:j}):st=merge(st,rt)}else st=merge(st,s(ut,lt,j,_e))}),removeUnusedBreakpoints(it,st)}return Array.isArray($)?$.map(et):et($)}return o}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$1h=["sx"],splitProps=s=>{var o,i;const a={systemProps:{},otherProps:{}},$=(o=s==null||(i=s.theme)==null?void 0:i.unstable_sxConfig)!=null?o:defaultSxConfig$1;return Object.keys(s).forEach(j=>{$[j]?a.systemProps[j]=s[j]:a.otherProps[j]=s[j]}),a};function extendSxProp(s){const{sx:o}=s,i=_objectWithoutPropertiesLoose$5(s,_excluded$1h),{systemProps:a,otherProps:$}=splitProps(i);let j;return Array.isArray(o)?j=[a,...o]:typeof o=="function"?j=(..._e)=>{const et=o(..._e);return isPlainObject(et)?_extends({},a,et):a}:j=_extends({},a,o),_extends({},$,{sx:j})}function r(s){var o,i,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s))for(o=0;o<s.length;o++)s[o]&&(i=r(s[o]))&&(a&&(a+=" "),a+=i);else for(o in s)s[o]&&(a&&(a+=" "),a+=o);return a}function clsx(){for(var s,o,i=0,a="";i<arguments.length;)(s=arguments[i++])&&(o=r(s))&&(a&&(a+=" "),a+=o);return a}const _excluded$1g=["values","unit","step"],sortBreakpointsValues=s=>{const o=Object.keys(s).map(i=>({key:i,val:s[i]}))||[];return o.sort((i,a)=>i.val-a.val),o.reduce((i,a)=>_extends({},i,{[a.key]:a.val}),{})};function createBreakpoints(s){const{values:o={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:a=5}=s,$=_objectWithoutPropertiesLoose$5(s,_excluded$1g),j=sortBreakpointsValues(o),_e=Object.keys(j);function et(st){return`@media (min-width:${typeof o[st]=="number"?o[st]:st}${i})`}function tt(st){return`@media (max-width:${(typeof o[st]=="number"?o[st]:st)-a/100}${i})`}function nt(st,ut){const lt=_e.indexOf(ut);return`@media (min-width:${typeof o[st]=="number"?o[st]:st}${i}) and (max-width:${(lt!==-1&&typeof o[_e[lt]]=="number"?o[_e[lt]]:ut)-a/100}${i})`}function ot(st){return _e.indexOf(st)+1<_e.length?nt(st,_e[_e.indexOf(st)+1]):et(st)}function it(st){const ut=_e.indexOf(st);return ut===0?et(_e[1]):ut===_e.length-1?tt(_e[ut]):nt(st,_e[_e.indexOf(st)+1]).replace("@media","@media not all and")}return _extends({keys:_e,values:j,up:et,down:tt,between:nt,only:ot,not:it,unit:i},$)}const shape={borderRadius:4},shape$1=shape;function createSpacing(s=8){if(s.mui)return s;const o=createUnarySpacing({spacing:s}),i=(...a)=>(a.length===0?[1]:a).map(j=>{const _e=o(j);return typeof _e=="number"?`${_e}px`:_e}).join(" ");return i.mui=!0,i}const _excluded$1f=["breakpoints","palette","spacing","shape"];function createTheme$1(s={},...o){const{breakpoints:i={},palette:a={},spacing:$,shape:j={}}=s,_e=_objectWithoutPropertiesLoose$5(s,_excluded$1f),et=createBreakpoints(i),tt=createSpacing($);let nt=deepmerge({breakpoints:et,direction:"ltr",components:{},palette:_extends({mode:"light"},a),spacing:tt,shape:_extends({},shape$1,j)},_e);return nt=o.reduce((ot,it)=>deepmerge(ot,it),nt),nt.unstable_sxConfig=_extends({},defaultSxConfig$1,_e==null?void 0:_e.unstable_sxConfig),nt.unstable_sx=function(it){return styleFunctionSx$1({sx:it,theme:this})},nt}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme$3(){return reactExports.useContext(ThemeContext$1)}function isObjectEmpty(s){return Object.keys(s).length===0}function useTheme$2(s=null){const o=useTheme$3();return!o||isObjectEmpty(o)?s:o}const systemDefaultTheme$1=createTheme$1();function useTheme$1(s=systemDefaultTheme$1){return useTheme$2(s)}const _excluded$1e=["variant"];function isEmpty$3(s){return s.length===0}function propsToClassKey(s){const{variant:o}=s,i=_objectWithoutPropertiesLoose$5(s,_excluded$1e);let a=o||"";return Object.keys(i).sort().forEach($=>{$==="color"?a+=isEmpty$3(a)?s[$]:capitalize(s[$]):a+=`${isEmpty$3(a)?$:capitalize($)}${capitalize(s[$].toString())}`}),a}const _excluded$1d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2$3=["theme"],_excluded3=["theme"];function isEmpty$2(s){return Object.keys(s).length===0}function isStringTag(s){return typeof s=="string"&&s.charCodeAt(0)>96}const getStyleOverrides=(s,o)=>o.components&&o.components[s]&&o.components[s].styleOverrides?o.components[s].styleOverrides:null,getVariantStyles=(s,o)=>{let i=[];o&&o.components&&o.components[s]&&o.components[s].variants&&(i=o.components[s].variants);const a={};return i.forEach($=>{const j=propsToClassKey($.props);a[j]=$.style}),a},variantsResolver=(s,o,i,a)=>{var $,j;const{ownerState:_e={}}=s,et=[],tt=i==null||($=i.components)==null||(j=$[a])==null?void 0:j.variants;return tt&&tt.forEach(nt=>{let ot=!0;Object.keys(nt.props).forEach(it=>{_e[it]!==nt.props[it]&&s[it]!==nt.props[it]&&(ot=!1)}),ot&&et.push(o[propsToClassKey(nt.props)])}),et};function shouldForwardProp(s){return s!=="ownerState"&&s!=="theme"&&s!=="sx"&&s!=="as"}const systemDefaultTheme=createTheme$1();function createStyled(s={}){const{defaultTheme:o=systemDefaultTheme,rootShouldForwardProp:i=shouldForwardProp,slotShouldForwardProp:a=shouldForwardProp}=s,$=j=>{const _e=isEmpty$2(j.theme)?o:j.theme;return styleFunctionSx$1(_extends({},j,{theme:_e}))};return $.__mui_systemSx=!0,(j,_e={})=>{internal_processStyles(j,at=>at.filter(ht=>!(ht!=null&&ht.__mui_systemSx)));const{name:et,slot:tt,skipVariantsResolver:nt,skipSx:ot,overridesResolver:it}=_e,st=_objectWithoutPropertiesLoose$5(_e,_excluded$1d),ut=nt!==void 0?nt:tt&&tt!=="Root"||!1,lt=ot||!1;let rt,dt=shouldForwardProp;tt==="Root"?dt=i:tt?dt=a:isStringTag(j)&&(dt=void 0);const ct=styled$2(j,_extends({shouldForwardProp:dt,label:rt},st)),pt=(at,...ht)=>{const xt=ht?ht.map(yt=>typeof yt=="function"&&yt.__emotion_real!==yt?mt=>{let{theme:St}=mt,At=_objectWithoutPropertiesLoose$5(mt,_excluded2$3);return yt(_extends({theme:isEmpty$2(St)?o:St},At))}:yt):[];let gt=at;et&&it&&xt.push(yt=>{const mt=isEmpty$2(yt.theme)?o:yt.theme,St=getStyleOverrides(et,mt);if(St){const At={};return Object.entries(St).forEach(([Ft,Tt])=>{At[Ft]=typeof Tt=="function"?Tt(_extends({},yt,{theme:mt})):Tt}),it(yt,At)}return null}),et&&!ut&&xt.push(yt=>{const mt=isEmpty$2(yt.theme)?o:yt.theme;return variantsResolver(yt,getVariantStyles(et,mt),mt,et)}),lt||xt.push($);const vt=xt.length-ht.length;if(Array.isArray(at)&&vt>0){const yt=new Array(vt).fill("");gt=[...at,...yt],gt.raw=[...at.raw,...yt]}else typeof at=="function"&&at.__emotion_real!==at&&(gt=yt=>{let{theme:mt}=yt,St=_objectWithoutPropertiesLoose$5(yt,_excluded3);return at(_extends({theme:isEmpty$2(mt)?o:mt},St))});return ct(gt,...xt)};return ct.withConfig&&(pt.withConfig=ct.withConfig),pt}}function getThemeProps(s){const{theme:o,name:i,props:a}=s;return!o||!o.components||!o.components[i]||!o.components[i].defaultProps?a:resolveProps(o.components[i].defaultProps,a)}function useThemeProps$1({props:s,name:o,defaultTheme:i}){const a=useTheme$1(i);return getThemeProps({theme:a,name:o,props:s})}function clamp(s,o=0,i=1){return Math.min(Math.max(o,s),i)}function hexToRgb(s){s=s.slice(1);const o=new RegExp(`.{1,${s.length>=6?2:1}}`,"g");let i=s.match(o);return i&&i[0].length===1&&(i=i.map(a=>a+a)),i?`rgb${i.length===4?"a":""}(${i.map((a,$)=>$<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(s){if(s.type)return s;if(s.charAt(0)==="#")return decomposeColor(hexToRgb(s));const o=s.indexOf("("),i=s.substring(0,o);if(["rgb","rgba","hsl","hsla","color"].indexOf(i)===-1)throw new Error(formatMuiErrorMessage(9,s));let a=s.substring(o+1,s.length-1),$;if(i==="color"){if(a=a.split(" "),$=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf($)===-1)throw new Error(formatMuiErrorMessage(10,$))}else a=a.split(",");return a=a.map(j=>parseFloat(j)),{type:i,values:a,colorSpace:$}}function recomposeColor(s){const{type:o,colorSpace:i}=s;let{values:a}=s;return o.indexOf("rgb")!==-1?a=a.map(($,j)=>j<3?parseInt($,10):$):o.indexOf("hsl")!==-1&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),o.indexOf("color")!==-1?a=`${i} ${a.join(" ")}`:a=`${a.join(", ")}`,`${o}(${a})`}function hslToRgb(s){s=decomposeColor(s);const{values:o}=s,i=o[0],a=o[1]/100,$=o[2]/100,j=a*Math.min($,1-$),_e=(nt,ot=(nt+i/30)%12)=>$-j*Math.max(Math.min(ot-3,9-ot,1),-1);let et="rgb";const tt=[Math.round(_e(0)*255),Math.round(_e(8)*255),Math.round(_e(4)*255)];return s.type==="hsla"&&(et+="a",tt.push(o[3])),recomposeColor({type:et,values:tt})}function getLuminance(s){s=decomposeColor(s);let o=s.type==="hsl"||s.type==="hsla"?decomposeColor(hslToRgb(s)).values:s.values;return o=o.map(i=>(s.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*o[0]+.7152*o[1]+.0722*o[2]).toFixed(3))}function getContrastRatio(s,o){const i=getLuminance(s),a=getLuminance(o);return(Math.max(i,a)+.05)/(Math.min(i,a)+.05)}function alpha(s,o){return s=decomposeColor(s),o=clamp(o),(s.type==="rgb"||s.type==="hsl")&&(s.type+="a"),s.type==="color"?s.values[3]=`/${o}`:s.values[3]=o,recomposeColor(s)}function darken(s,o){if(s=decomposeColor(s),o=clamp(o),s.type.indexOf("hsl")!==-1)s.values[2]*=1-o;else if(s.type.indexOf("rgb")!==-1||s.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)s.values[i]*=1-o;return recomposeColor(s)}function lighten(s,o){if(s=decomposeColor(s),o=clamp(o),s.type.indexOf("hsl")!==-1)s.values[2]+=(100-s.values[2])*o;else if(s.type.indexOf("rgb")!==-1)for(let i=0;i<3;i+=1)s.values[i]+=(255-s.values[i])*o;else if(s.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)s.values[i]+=(1-s.values[i])*o;return recomposeColor(s)}function createMixins(s,o){return _extends({toolbar:{minHeight:56,[s.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[s.up("sm")]:{minHeight:64}}},o)}const common={black:"#000",white:"#fff"},common$1=common,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$1=blue,lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$1=green,_excluded$1c=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(s,o,i,a){const $=a.light||a,j=a.dark||a*1.5;s[o]||(s.hasOwnProperty(i)?s[o]=s[i]:o==="light"?s.light=lighten(s.main,$):o==="dark"&&(s.dark=darken(s.main,j)))}function getDefaultPrimary(s="light"){return s==="dark"?{main:blue$1[200],light:blue$1[50],dark:blue$1[400]}:{main:blue$1[700],light:blue$1[400],dark:blue$1[800]}}function getDefaultSecondary(s="light"){return s==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(s="light"){return s==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(s="light"){return s==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(s="light"){return s==="dark"?{main:green$1[400],light:green$1[300],dark:green$1[700]}:{main:green$1[800],light:green$1[500],dark:green$1[900]}}function getDefaultWarning(s="light"){return s==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(s){const{mode:o="light",contrastThreshold:i=3,tonalOffset:a=.2}=s,$=_objectWithoutPropertiesLoose$5(s,_excluded$1c),j=s.primary||getDefaultPrimary(o),_e=s.secondary||getDefaultSecondary(o),et=s.error||getDefaultError(o),tt=s.info||getDefaultInfo(o),nt=s.success||getDefaultSuccess(o),ot=s.warning||getDefaultWarning(o);function it(rt){return getContrastRatio(rt,dark.text.primary)>=i?dark.text.primary:light.text.primary}const st=({color:rt,name:dt,mainShade:ct=500,lightShade:pt=300,darkShade:at=700})=>{if(rt=_extends({},rt),!rt.main&&rt[ct]&&(rt.main=rt[ct]),!rt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,dt?` (${dt})`:"",ct));if(typeof rt.main!="string")throw new Error(formatMuiErrorMessage(12,dt?` (${dt})`:"",JSON.stringify(rt.main)));return addLightOrDark(rt,"light",pt,a),addLightOrDark(rt,"dark",at,a),rt.contrastText||(rt.contrastText=it(rt.main)),rt},ut={dark,light};return deepmerge(_extends({common:_extends({},common$1),mode:o,primary:st({color:j,name:"primary"}),secondary:st({color:_e,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:st({color:et,name:"error"}),warning:st({color:ot,name:"warning"}),info:st({color:tt,name:"info"}),success:st({color:nt,name:"success"}),grey:grey$1,contrastThreshold:i,getContrastText:it,augmentColor:st,tonalOffset:a},ut[o]),$)}const _excluded$1b=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round(s){return Math.round(s*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(s,o){const i=typeof o=="function"?o(s):o,{fontFamily:a=defaultFontFamily,fontSize:$=14,fontWeightLight:j=300,fontWeightRegular:_e=400,fontWeightMedium:et=500,fontWeightBold:tt=700,htmlFontSize:nt=16,allVariants:ot,pxToRem:it}=i,st=_objectWithoutPropertiesLoose$5(i,_excluded$1b),ut=$/14,lt=it||(ct=>`${ct/nt*ut}rem`),rt=(ct,pt,at,ht,xt)=>_extends({fontFamily:a,fontWeight:ct,fontSize:lt(pt),lineHeight:at},a===defaultFontFamily?{letterSpacing:`${round(ht/pt)}em`}:{},xt,ot),dt={h1:rt(j,96,1.167,-1.5),h2:rt(j,60,1.2,-.5),h3:rt(_e,48,1.167,0),h4:rt(_e,34,1.235,.25),h5:rt(_e,24,1.334,0),h6:rt(et,20,1.6,.15),subtitle1:rt(_e,16,1.75,.15),subtitle2:rt(et,14,1.57,.1),body1:rt(_e,16,1.5,.15),body2:rt(_e,14,1.43,.15),button:rt(et,14,1.75,.4,caseAllCaps),caption:rt(_e,12,1.66,.4),overline:rt(_e,12,2.66,1,caseAllCaps)};return deepmerge(_extends({htmlFontSize:nt,pxToRem:lt,fontFamily:a,fontSize:$,fontWeightLight:j,fontWeightRegular:_e,fontWeightMedium:et,fontWeightBold:tt},dt),st,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...s){return[`${s[0]}px ${s[1]}px ${s[2]}px ${s[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${s[4]}px ${s[5]}px ${s[6]}px ${s[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${s[8]}px ${s[9]}px ${s[10]}px ${s[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$1a=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(s){return`${Math.round(s)}ms`}function getAutoHeightDuration(s){if(!s)return 0;const o=s/36;return Math.round((4+15*o**.25+o/5)*10)}function createTransitions(s){const o=_extends({},easing,s.easing),i=_extends({},duration,s.duration);return _extends({getAutoHeightDuration,create:($=["all"],j={})=>{const{duration:_e=i.standard,easing:et=o.easeInOut,delay:tt=0}=j;return _objectWithoutPropertiesLoose$5(j,_excluded$1a),(Array.isArray($)?$:[$]).map(nt=>`${nt} ${typeof _e=="string"?_e:formatMs(_e)} ${et} ${typeof tt=="string"?tt:formatMs(tt)}`).join(",")}},s,{easing:o,duration:i})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$19=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(s={},...o){const{mixins:i={},palette:a={},transitions:$={},typography:j={}}=s,_e=_objectWithoutPropertiesLoose$5(s,_excluded$19);if(s.vars)throw new Error(formatMuiErrorMessage(18));const et=createPalette(a),tt=createTheme$1(s);let nt=deepmerge(tt,{mixins:createMixins(tt.breakpoints,i),palette:et,shadows:shadows$1.slice(),typography:createTypography(et,j),transitions:createTransitions($),zIndex:_extends({},zIndex$1)});return nt=deepmerge(nt,_e),nt=o.reduce((ot,it)=>deepmerge(ot,it),nt),nt.unstable_sxConfig=_extends({},defaultSxConfig$1,_e==null?void 0:_e.unstable_sxConfig),nt.unstable_sx=function(it){return styleFunctionSx$1({sx:it,theme:this})},nt}const defaultTheme=createTheme(),defaultTheme$1=defaultTheme,rootShouldForwardProp=s=>shouldForwardProp(s)&&s!=="classes",slotShouldForwardProp=shouldForwardProp,styled=createStyled({defaultTheme:defaultTheme$1,rootShouldForwardProp}),styled$1=styled;function useThemeProps({props:s,name:o}){return useThemeProps$1({props:s,name:o,defaultTheme:defaultTheme$1})}const _excluded$18=["component","direction","spacing","divider","children"];function joinChildren(s,o){const i=reactExports.Children.toArray(s).filter(Boolean);return i.reduce((a,$,j)=>(a.push($),j<i.length-1&&a.push(reactExports.cloneElement(o,{key:`separator-${j}`})),a),[])}const getSideFromDirection=s=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[s],style=({ownerState:s,theme:o})=>{let i=_extends({display:"flex",flexDirection:"column"},handleBreakpoints({theme:o},resolveBreakpointValues({values:s.direction,breakpoints:o.breakpoints.values}),a=>({flexDirection:a})));if(s.spacing){const a=createUnarySpacing(o),$=Object.keys(o.breakpoints.values).reduce((tt,nt)=>((typeof s.spacing=="object"&&s.spacing[nt]!=null||typeof s.direction=="object"&&s.direction[nt]!=null)&&(tt[nt]=!0),tt),{}),j=resolveBreakpointValues({values:s.direction,base:$}),_e=resolveBreakpointValues({values:s.spacing,base:$});typeof j=="object"&&Object.keys(j).forEach((tt,nt,ot)=>{if(!j[tt]){const st=nt>0?j[ot[nt-1]]:"column";j[tt]=st}}),i=deepmerge(i,handleBreakpoints({theme:o},_e,(tt,nt)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${getSideFromDirection(nt?j[nt]:s.direction)}`]:getValue(a,tt)}})))}return i=mergeBreakpointsInOrder(o.breakpoints,i),i},StackRoot=styled$1("div",{name:"MuiStack",slot:"Root",overridesResolver:(s,o)=>[o.root]})(style),Stack=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiStack"}),$=extendSxProp(a),{component:j="div",direction:_e="column",spacing:et=0,divider:tt,children:nt}=$,ot=_objectWithoutPropertiesLoose$5($,_excluded$18);return jsx(StackRoot,_extends({as:j,ownerState:{direction:_e,spacing:et},ref:i},ot,{children:tt?joinChildren(nt,tt):nt}))}),Stack$1=Stack;function isHostComponent(s){return typeof s=="string"}function appendOwnerState(s,o,i){return s===void 0||isHostComponent(s)?o:_extends({},o,{ownerState:_extends({},o.ownerState,i)})}function extractEventHandlers(s,o=[]){if(s===void 0)return{};const i={};return Object.keys(s).filter(a=>a.match(/^on[A-Z]/)&&typeof s[a]=="function"&&!o.includes(a)).forEach(a=>{i[a]=s[a]}),i}function resolveComponentProps(s,o){return typeof s=="function"?s(o):s}function omitEventHandlers(s){if(s===void 0)return{};const o={};return Object.keys(s).filter(i=>!(i.match(/^on[A-Z]/)&&typeof s[i]=="function")).forEach(i=>{o[i]=s[i]}),o}function mergeSlotProps(s){const{getSlotProps:o,additionalProps:i,externalSlotProps:a,externalForwardedProps:$,className:j}=s;if(!o){const ut=clsx($==null?void 0:$.className,a==null?void 0:a.className,j,i==null?void 0:i.className),lt=_extends({},i==null?void 0:i.style,$==null?void 0:$.style,a==null?void 0:a.style),rt=_extends({},i,$,a);return ut.length>0&&(rt.className=ut),Object.keys(lt).length>0&&(rt.style=lt),{props:rt,internalRef:void 0}}const _e=extractEventHandlers(_extends({},$,a)),et=omitEventHandlers(a),tt=omitEventHandlers($),nt=o(_e),ot=clsx(nt==null?void 0:nt.className,i==null?void 0:i.className,j,$==null?void 0:$.className,a==null?void 0:a.className),it=_extends({},nt==null?void 0:nt.style,i==null?void 0:i.style,$==null?void 0:$.style,a==null?void 0:a.style),st=_extends({},nt,i,tt,et);return ot.length>0&&(st.className=ot),Object.keys(it).length>0&&(st.style=it),{props:st,internalRef:nt.ref}}const _excluded$17=["elementType","externalSlotProps","ownerState"];function useSlotProps(s){var o;const{elementType:i,externalSlotProps:a,ownerState:$}=s,j=_objectWithoutPropertiesLoose$5(s,_excluded$17),_e=resolveComponentProps(a,$),{props:et,internalRef:tt}=mergeSlotProps(_extends({},j,{externalSlotProps:_e})),nt=useForkRef(tt,_e==null?void 0:_e.ref,(o=s.additionalProps)==null?void 0:o.ref);return appendOwnerState(i,_extends({},et,{ref:nt}),$)}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(s){const o=parseInt(s.getAttribute("tabindex")||"",10);return Number.isNaN(o)?s.contentEditable==="true"||(s.nodeName==="AUDIO"||s.nodeName==="VIDEO"||s.nodeName==="DETAILS")&&s.getAttribute("tabindex")===null?0:s.tabIndex:o}function isNonTabbableRadio(s){if(s.tagName!=="INPUT"||s.type!=="radio"||!s.name)return!1;const o=a=>s.ownerDocument.querySelector(`input[type="radio"]${a}`);let i=o(`[name="${s.name}"]:checked`);return i||(i=o(`[name="${s.name}"]`)),i!==s}function isNodeMatchingSelectorFocusable(s){return!(s.disabled||s.tagName==="INPUT"&&s.type==="hidden"||isNonTabbableRadio(s))}function defaultGetTabbable(s){const o=[],i=[];return Array.from(s.querySelectorAll(candidatesSelector)).forEach((a,$)=>{const j=getTabIndex(a);j===-1||!isNodeMatchingSelectorFocusable(a)||(j===0?o.push(a):i.push({documentOrder:$,tabIndex:j,node:a}))}),i.sort((a,$)=>a.tabIndex===$.tabIndex?a.documentOrder-$.documentOrder:a.tabIndex-$.tabIndex).map(a=>a.node).concat(o)}function defaultIsEnabled(){return!0}function FocusTrap(s){const{children:o,disableAutoFocus:i=!1,disableEnforceFocus:a=!1,disableRestoreFocus:$=!1,getTabbable:j=defaultGetTabbable,isEnabled:_e=defaultIsEnabled,open:et}=s,tt=reactExports.useRef(!1),nt=reactExports.useRef(null),ot=reactExports.useRef(null),it=reactExports.useRef(null),st=reactExports.useRef(null),ut=reactExports.useRef(!1),lt=reactExports.useRef(null),rt=useForkRef(o.ref,lt),dt=reactExports.useRef(null);reactExports.useEffect(()=>{!et||!lt.current||(ut.current=!i)},[i,et]),reactExports.useEffect(()=>{if(!et||!lt.current)return;const at=ownerDocument(lt.current);return lt.current.contains(at.activeElement)||(lt.current.hasAttribute("tabIndex")||lt.current.setAttribute("tabIndex","-1"),ut.current&&lt.current.focus()),()=>{$||(it.current&&it.current.focus&&(tt.current=!0,it.current.focus()),it.current=null)}},[et]),reactExports.useEffect(()=>{if(!et||!lt.current)return;const at=ownerDocument(lt.current),ht=vt=>{const{current:ft}=lt;if(ft!==null){if(!at.hasFocus()||a||!_e()||tt.current){tt.current=!1;return}if(!ft.contains(at.activeElement)){if(vt&&st.current!==vt.target||at.activeElement!==st.current)st.current=null;else if(st.current!==null)return;if(!ut.current)return;let St=[];if((at.activeElement===nt.current||at.activeElement===ot.current)&&(St=j(lt.current)),St.length>0){var yt,mt;const At=Boolean(((yt=dt.current)==null?void 0:yt.shiftKey)&&((mt=dt.current)==null?void 0:mt.key)==="Tab"),Ft=St[0],Tt=St[St.length-1];typeof Ft!="string"&&typeof Tt!="string"&&(At?Tt.focus():Ft.focus())}else ft.focus()}}},xt=vt=>{dt.current=vt,!(a||!_e()||vt.key!=="Tab")&&at.activeElement===lt.current&&vt.shiftKey&&(tt.current=!0,ot.current&&ot.current.focus())};at.addEventListener("focusin",ht),at.addEventListener("keydown",xt,!0);const gt=setInterval(()=>{at.activeElement&&at.activeElement.tagName==="BODY"&&ht(null)},50);return()=>{clearInterval(gt),at.removeEventListener("focusin",ht),at.removeEventListener("keydown",xt,!0)}},[i,a,$,_e,et,j]);const ct=at=>{it.current===null&&(it.current=at.relatedTarget),ut.current=!0,st.current=at.target;const ht=o.props.onFocus;ht&&ht(at)},pt=at=>{it.current===null&&(it.current=at.relatedTarget),ut.current=!0};return jsxs(reactExports.Fragment,{children:[jsx("div",{tabIndex:et?0:-1,onFocus:pt,ref:nt,"data-testid":"sentinelStart"}),reactExports.cloneElement(o,{ref:rt,onFocus:ct}),jsx("div",{tabIndex:et?0:-1,onFocus:pt,ref:ot,"data-testid":"sentinelEnd"})]})}function applyStyles(s){var o=s.state;Object.keys(o.elements).forEach(function(i){var a=o.styles[i]||{},$=o.attributes[i]||{},j=o.elements[i];!isHTMLElement$1(j)||!getNodeName(j)||(Object.assign(j.style,a),Object.keys($).forEach(function(_e){var et=$[_e];et===!1?j.removeAttribute(_e):j.setAttribute(_e,et===!0?"":et)}))})}function effect(s){var o=s.state,i={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,i.popper),o.styles=i,o.elements.arrow&&Object.assign(o.elements.arrow.style,i.arrow),function(){Object.keys(o.elements).forEach(function(a){var $=o.elements[a],j=o.attributes[a]||{},_e=Object.keys(o.styles.hasOwnProperty(a)?o.styles[a]:i[a]),et=_e.reduce(function(tt,nt){return tt[nt]="",tt},{});!isHTMLElement$1($)||!getNodeName($)||(Object.assign($.style,et),Object.keys(j).forEach(function(tt){$.removeAttribute(tt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect,requires:["computeStyles"]};var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function getContainer$1(s){return typeof s=="function"?s():s}const Portal=reactExports.forwardRef(function(o,i){const{children:a,container:$,disablePortal:j=!1}=o,[_e,et]=reactExports.useState(null),tt=useForkRef(reactExports.isValidElement(a)?a.ref:null,i);if(useEnhancedEffect$1(()=>{j||et(getContainer$1($)||document.body)},[$,j]),useEnhancedEffect$1(()=>{if(_e&&!j)return setRef(i,_e),()=>{setRef(i,null)}},[i,_e,j]),j){if(reactExports.isValidElement(a)){const nt={ref:tt};return reactExports.cloneElement(a,nt)}return jsx(reactExports.Fragment,{children:a})}return jsx(reactExports.Fragment,{children:_e&&reactDomExports.createPortal(a,_e)})}),Portal$1=Portal;function getPopperUnstyledUtilityClass(s){return generateUtilityClass("MuiPopperUnstyled",s)}generateUtilityClasses("MuiPopperUnstyled",["root"]);const _excluded$16=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],_excluded2$2=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function flipPlacement(s,o){if(o==="ltr")return s;switch(s){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return s}}function resolveAnchorEl$1(s){return typeof s=="function"?s():s}function isHTMLElement(s){return s.nodeType!==void 0}const useUtilityClasses$Z=()=>composeClasses({root:["root"]},getPopperUnstyledUtilityClass,{}),defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function(o,i){var a;const{anchorEl:$,children:j,component:_e,direction:et,disablePortal:tt,modifiers:nt,open:ot,ownerState:it,placement:st,popperOptions:ut,popperRef:lt,slotProps:rt={},slots:dt={},TransitionProps:ct}=o,pt=_objectWithoutPropertiesLoose$5(o,_excluded$16),at=reactExports.useRef(null),ht=useForkRef(at,i),xt=reactExports.useRef(null),gt=useForkRef(xt,lt),vt=reactExports.useRef(gt);useEnhancedEffect$1(()=>{vt.current=gt},[gt]),reactExports.useImperativeHandle(lt,()=>xt.current,[]);const ft=flipPlacement(st,et),[yt,mt]=reactExports.useState(ft),[St,At]=reactExports.useState(resolveAnchorEl$1($));reactExports.useEffect(()=>{xt.current&&xt.current.forceUpdate()}),reactExports.useEffect(()=>{$&&At(resolveAnchorEl$1($))},[$]),useEnhancedEffect$1(()=>{if(!St||!ot)return;const Rt=Lt=>{mt(Lt.placement)};let Pt=[{name:"preventOverflow",options:{altBoundary:tt}},{name:"flip",options:{altBoundary:tt}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Lt})=>{Rt(Lt)}}];nt!=null&&(Pt=Pt.concat(nt)),ut&&ut.modifiers!=null&&(Pt=Pt.concat(ut.modifiers));const Nt=createPopper(St,at.current,_extends({placement:ft},ut,{modifiers:Pt}));return vt.current(Nt),()=>{Nt.destroy(),vt.current(null)}},[St,tt,nt,ot,ut,ft]);const Ft={placement:yt};ct!==null&&(Ft.TransitionProps=ct);const Tt=useUtilityClasses$Z(),Dt=(a=_e??dt.root)!=null?a:"div",It=useSlotProps({elementType:Dt,externalSlotProps:rt.root,externalForwardedProps:pt,additionalProps:{role:"tooltip",ref:ht},ownerState:_extends({},o,it),className:Tt.root});return jsx(Dt,_extends({},It,{children:typeof j=="function"?j(Ft):j}))}),PopperUnstyled=reactExports.forwardRef(function(o,i){const{anchorEl:a,children:$,container:j,direction:_e="ltr",disablePortal:et=!1,keepMounted:tt=!1,modifiers:nt,open:ot,placement:it="bottom",popperOptions:st=defaultPopperOptions,popperRef:ut,style:lt,transition:rt=!1,slotProps:dt={},slots:ct={}}=o,pt=_objectWithoutPropertiesLoose$5(o,_excluded2$2),[at,ht]=reactExports.useState(!0),xt=()=>{ht(!1)},gt=()=>{ht(!0)};if(!tt&&!ot&&(!rt||at))return null;let vt;if(j)vt=j;else if(a){const mt=resolveAnchorEl$1(a);vt=mt&&isHTMLElement(mt)?ownerDocument(mt).body:ownerDocument(null).body}const ft=!ot&&tt&&(!rt||at)?"none":void 0,yt=rt?{in:ot,onEnter:xt,onExited:gt}:void 0;return jsx(Portal$1,{disablePortal:et,container:vt,children:jsx(PopperTooltip,_extends({anchorEl:a,direction:_e,disablePortal:et,modifiers:nt,ref:i,open:rt?!at:ot,placement:it,popperOptions:st,popperRef:ut,slotProps:dt,slots:ct},pt,{style:_extends({position:"fixed",top:0,left:0,display:ft},lt),TransitionProps:yt,children:$}))})}),PopperUnstyled$1=PopperUnstyled;function isOverflowing(s){const o=ownerDocument(s);return o.body===s?ownerWindow(s).innerWidth>o.documentElement.clientWidth:s.scrollHeight>s.clientHeight}function ariaHidden(s,o){o?s.setAttribute("aria-hidden","true"):s.removeAttribute("aria-hidden")}function getPaddingRight(s){return parseInt(ownerWindow(s).getComputedStyle(s).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(s){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(s.tagName)!==-1,a=s.tagName==="INPUT"&&s.getAttribute("type")==="hidden";return i||a}function ariaHiddenSiblings(s,o,i,a,$){const j=[o,i,...a];[].forEach.call(s.children,_e=>{const et=j.indexOf(_e)===-1,tt=!isAriaHiddenForbiddenOnElement(_e);et&&tt&&ariaHidden(_e,$)})}function findIndexOf(s,o){let i=-1;return s.some((a,$)=>o(a)?(i=$,!0):!1),i}function handleContainer(s,o){const i=[],a=s.container;if(!o.disableScrollLock){if(isOverflowing(a)){const _e=getScrollbarSize(ownerDocument(a));i.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${getPaddingRight(a)+_e}px`;const et=ownerDocument(a).querySelectorAll(".mui-fixed");[].forEach.call(et,tt=>{i.push({value:tt.style.paddingRight,property:"padding-right",el:tt}),tt.style.paddingRight=`${getPaddingRight(tt)+_e}px`})}let j;if(a.parentNode instanceof DocumentFragment)j=ownerDocument(a).body;else{const _e=a.parentElement,et=ownerWindow(a);j=(_e==null?void 0:_e.nodeName)==="HTML"&&et.getComputedStyle(_e).overflowY==="scroll"?_e:a}i.push({value:j.style.overflow,property:"overflow",el:j},{value:j.style.overflowX,property:"overflow-x",el:j},{value:j.style.overflowY,property:"overflow-y",el:j}),j.style.overflow="hidden"}return()=>{i.forEach(({value:j,el:_e,property:et})=>{j?_e.style.setProperty(et,j):_e.style.removeProperty(et)})}}function getHiddenSiblings(s){const o=[];return[].forEach.call(s.children,i=>{i.getAttribute("aria-hidden")==="true"&&o.push(i)}),o}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(o,i){let a=this.modals.indexOf(o);if(a!==-1)return a;a=this.modals.length,this.modals.push(o),o.modalRef&&ariaHidden(o.modalRef,!1);const $=getHiddenSiblings(i);ariaHiddenSiblings(i,o.mount,o.modalRef,$,!0);const j=findIndexOf(this.containers,_e=>_e.container===i);return j!==-1?(this.containers[j].modals.push(o),a):(this.containers.push({modals:[o],container:i,restore:null,hiddenSiblings:$}),a)}mount(o,i){const a=findIndexOf(this.containers,j=>j.modals.indexOf(o)!==-1),$=this.containers[a];$.restore||($.restore=handleContainer($,i))}remove(o,i=!0){const a=this.modals.indexOf(o);if(a===-1)return a;const $=findIndexOf(this.containers,_e=>_e.modals.indexOf(o)!==-1),j=this.containers[$];if(j.modals.splice(j.modals.indexOf(o),1),this.modals.splice(a,1),j.modals.length===0)j.restore&&j.restore(),o.modalRef&&ariaHidden(o.modalRef,i),ariaHiddenSiblings(j.container,o.mount,o.modalRef,j.hiddenSiblings,!1),this.containers.splice($,1);else{const _e=j.modals[j.modals.length-1];_e.modalRef&&ariaHidden(_e.modalRef,!1)}return a}isTopModal(o){return this.modals.length>0&&this.modals[this.modals.length-1]===o}}function getModalUtilityClass(s){return generateUtilityClass("MuiModal",s)}generateUtilityClasses("MuiModal",["root","hidden"]);const _excluded$15=["children","classes","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],useUtilityClasses$Y=s=>{const{open:o,exited:i,classes:a}=s;return composeClasses({root:["root",!o&&i&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,a)};function getContainer(s){return typeof s=="function"?s():s}function getHasTransition(s){return s?s.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,ModalUnstyled=reactExports.forwardRef(function(o,i){var a,$;const{children:j,classes:_e,closeAfterTransition:et=!1,component:tt,container:nt,disableAutoFocus:ot=!1,disableEnforceFocus:it=!1,disableEscapeKeyDown:st=!1,disablePortal:ut=!1,disableRestoreFocus:lt=!1,disableScrollLock:rt=!1,hideBackdrop:dt=!1,keepMounted:ct=!1,manager:pt=defaultManager,onBackdropClick:at,onClose:ht,onKeyDown:xt,open:gt,onTransitionEnter:vt,onTransitionExited:ft,slotProps:yt={},slots:mt={}}=o,St=_objectWithoutPropertiesLoose$5(o,_excluded$15),[At,Ft]=reactExports.useState(!gt),Tt=reactExports.useRef({}),Dt=reactExports.useRef(null),It=reactExports.useRef(null),Rt=useForkRef(It,i),Pt=getHasTransition(j),Nt=(a=o["aria-hidden"])!=null?a:!0,Lt=()=>ownerDocument(Dt.current),zt=()=>(Tt.current.modalRef=It.current,Tt.current.mountNode=Dt.current,Tt.current),Mt=()=>{pt.mount(zt(),{disableScrollLock:rt}),It.current&&(It.current.scrollTop=0)},Et=useEventCallback(()=>{const rn=getContainer(nt)||Lt().body;pt.add(zt(),rn),It.current&&Mt()}),Ct=reactExports.useCallback(()=>pt.isTopModal(zt()),[pt]),Ot=useEventCallback(rn=>{Dt.current=rn,!(!rn||!It.current)&&(gt&&Ct()?Mt():ariaHidden(It.current,Nt))}),Ut=reactExports.useCallback(()=>{pt.remove(zt(),Nt)},[pt,Nt]);reactExports.useEffect(()=>()=>{Ut()},[Ut]),reactExports.useEffect(()=>{gt?Et():(!Pt||!et)&&Ut()},[gt,Ut,Pt,et,Et]);const $t=_extends({},o,{classes:_e,closeAfterTransition:et,disableAutoFocus:ot,disableEnforceFocus:it,disableEscapeKeyDown:st,disablePortal:ut,disableRestoreFocus:lt,disableScrollLock:rt,exited:At,hideBackdrop:dt,keepMounted:ct}),Bt=useUtilityClasses$Y($t),Wt=()=>{Ft(!1),vt&&vt()},Gt=()=>{Ft(!0),ft&&ft(),et&&Ut()},bt=rn=>{rn.target===rn.currentTarget&&(at&&at(rn),ht&&ht(rn,"backdropClick"))},wt=rn=>{xt&&xt(rn),!(rn.key!=="Escape"||!Ct())&&(st||(rn.stopPropagation(),ht&&ht(rn,"escapeKeyDown")))},kt={};j.props.tabIndex===void 0&&(kt.tabIndex="-1"),Pt&&(kt.onEnter=createChainedFunction(Wt,j.props.onEnter),kt.onExited=createChainedFunction(Gt,j.props.onExited));const jt=($=tt??mt.root)!=null?$:"div",Ht=useSlotProps({elementType:jt,externalSlotProps:yt.root,externalForwardedProps:St,additionalProps:{ref:Rt,role:"presentation",onKeyDown:wt},className:Bt.root,ownerState:$t}),Kt=mt.backdrop,Zt=useSlotProps({elementType:Kt,externalSlotProps:yt.backdrop,additionalProps:{"aria-hidden":!0,onClick:bt,open:gt},className:Bt.backdrop,ownerState:$t});return!ct&&!gt&&(!Pt||At)?null:jsx(Portal$1,{ref:Ot,container:nt,disablePortal:ut,children:jsxs(jt,_extends({},Ht,{children:[!dt&&Kt?jsx(Kt,_extends({},Zt)):null,jsx(FocusTrap,{disableEnforceFocus:it,disableAutoFocus:ot,disableRestoreFocus:lt,isEnabled:Ct,open:gt,children:reactExports.cloneElement(j,kt)})]}))})}),ModalUnstyled$1=ModalUnstyled,_excluded$14=["onChange","maxRows","minRows","style","value"];function getStyleValue(s,o){return parseInt(s[o],10)||0}const styles$3={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1(s){return s==null||Object.keys(s).length===0}const TextareaAutosize=reactExports.forwardRef(function(o,i){const{onChange:a,maxRows:$,minRows:j=1,style:_e,value:et}=o,tt=_objectWithoutPropertiesLoose$5(o,_excluded$14),{current:nt}=reactExports.useRef(et!=null),ot=reactExports.useRef(null),it=useForkRef(i,ot),st=reactExports.useRef(null),ut=reactExports.useRef(0),[lt,rt]=reactExports.useState({}),dt=reactExports.useCallback(()=>{const xt=ot.current,vt=ownerWindow(xt).getComputedStyle(xt);if(vt.width==="0px")return{};const ft=st.current;ft.style.width=vt.width,ft.value=xt.value||o.placeholder||"x",ft.value.slice(-1)===`
`&&(ft.value+=" ");const yt=vt["box-sizing"],mt=getStyleValue(vt,"padding-bottom")+getStyleValue(vt,"padding-top"),St=getStyleValue(vt,"border-bottom-width")+getStyleValue(vt,"border-top-width"),At=ft.scrollHeight;ft.value="x";const Ft=ft.scrollHeight;let Tt=At;j&&(Tt=Math.max(Number(j)*Ft,Tt)),$&&(Tt=Math.min(Number($)*Ft,Tt)),Tt=Math.max(Tt,Ft);const Dt=Tt+(yt==="border-box"?mt+St:0),It=Math.abs(Tt-At)<=1;return{outerHeightStyle:Dt,overflow:It}},[$,j,o.placeholder]),ct=(xt,gt)=>{const{outerHeightStyle:vt,overflow:ft}=gt;return ut.current<20&&(vt>0&&Math.abs((xt.outerHeightStyle||0)-vt)>1||xt.overflow!==ft)?(ut.current+=1,{overflow:ft,outerHeightStyle:vt}):xt},pt=reactExports.useCallback(()=>{const xt=dt();isEmpty$1(xt)||rt(gt=>ct(gt,xt))},[dt]),at=()=>{const xt=dt();isEmpty$1(xt)||reactDomExports.flushSync(()=>{rt(gt=>ct(gt,xt))})};reactExports.useEffect(()=>{const xt=debounce(()=>{ut.current=0,ot.current&&at()}),gt=ownerWindow(ot.current);gt.addEventListener("resize",xt);let vt;return typeof ResizeObserver<"u"&&(vt=new ResizeObserver(xt),vt.observe(ot.current)),()=>{xt.clear(),gt.removeEventListener("resize",xt),vt&&vt.disconnect()}}),useEnhancedEffect$1(()=>{pt()}),reactExports.useEffect(()=>{ut.current=0},[et]);const ht=xt=>{ut.current=0,nt||pt(),a&&a(xt)};return jsxs(reactExports.Fragment,{children:[jsx("textarea",_extends({value:et,onChange:ht,ref:it,rows:j,style:_extends({height:lt.outerHeightStyle,overflow:lt.overflow?"hidden":null},_e)},tt)),jsx("textarea",{"aria-hidden":!0,className:o.className,readOnly:!0,ref:st,tabIndex:-1,style:_extends({},styles$3.shadow,_e,{padding:0})})]})}),TextareaAutosize$1=TextareaAutosize;function formControlState({props:s,states:o,muiFormControl:i}){return o.reduce((a,$)=>(a[$]=s[$],i&&typeof s[$]>"u"&&(a[$]=i[$]),a),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles(s){return jsx(GlobalStyles$1,_extends({},s,{defaultTheme:defaultTheme$1}))}function hasValue(s){return s!=null&&!(Array.isArray(s)&&s.length===0)}function isFilled(s,o=!1){return s&&(hasValue(s.value)&&s.value!==""||o&&hasValue(s.defaultValue)&&s.defaultValue!=="")}function isAdornedStart(s){return s.startAdornment}function getInputBaseUtilityClass(s){return generateUtilityClass("MuiInputBase",s)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$13=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(s,o)=>{const{ownerState:i}=s;return[o.root,i.formControl&&o.formControl,i.startAdornment&&o.adornedStart,i.endAdornment&&o.adornedEnd,i.error&&o.error,i.size==="small"&&o.sizeSmall,i.multiline&&o.multiline,i.color&&o[`color${capitalize(i.color)}`],i.fullWidth&&o.fullWidth,i.hiddenLabel&&o.hiddenLabel]},inputOverridesResolver=(s,o)=>{const{ownerState:i}=s;return[o.input,i.size==="small"&&o.inputSizeSmall,i.multiline&&o.inputMultiline,i.type==="search"&&o.inputTypeSearch,i.startAdornment&&o.inputAdornedStart,i.endAdornment&&o.inputAdornedEnd,i.hiddenLabel&&o.inputHiddenLabel]},useUtilityClasses$X=s=>{const{classes:o,color:i,disabled:a,error:$,endAdornment:j,focused:_e,formControl:et,fullWidth:tt,hiddenLabel:nt,multiline:ot,readOnly:it,size:st,startAdornment:ut,type:lt}=s,rt={root:["root",`color${capitalize(i)}`,a&&"disabled",$&&"error",tt&&"fullWidth",_e&&"focused",et&&"formControl",st==="small"&&"sizeSmall",ot&&"multiline",ut&&"adornedStart",j&&"adornedEnd",nt&&"hiddenLabel",it&&"readOnly"],input:["input",a&&"disabled",lt==="search"&&"inputTypeSearch",ot&&"inputMultiline",st==="small"&&"inputSizeSmall",nt&&"inputHiddenLabel",ut&&"inputAdornedStart",j&&"inputAdornedEnd",it&&"readOnly"]};return composeClasses(rt,getInputBaseUtilityClass,o)},InputBaseRoot=styled$1("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:s,ownerState:o})=>_extends({},s.typography.body1,{color:(s.vars||s).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:(s.vars||s).palette.text.disabled,cursor:"default"}},o.multiline&&_extends({padding:"4px 0 5px"},o.size==="small"&&{paddingTop:1}),o.fullWidth&&{width:"100%"})),InputBaseComponent=styled$1("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:s,ownerState:o})=>{const i=s.palette.mode==="light",a=_extends({color:"currentColor"},s.vars?{opacity:s.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:s.transitions.create("opacity",{duration:s.transitions.duration.shorter})}),$={opacity:"0 !important"},j=s.vars?{opacity:s.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return _extends({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":$,"&::-moz-placeholder":$,"&:-ms-input-placeholder":$,"&::-ms-input-placeholder":$,"&:focus::-webkit-input-placeholder":j,"&:focus::-moz-placeholder":j,"&:focus:-ms-input-placeholder":j,"&:focus::-ms-input-placeholder":j},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:(s.vars||s).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},o.size==="small"&&{paddingTop:1},o.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},o.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(o,i){var a;const $=useThemeProps({props:o,name:"MuiInputBase"}),{"aria-describedby":j,autoComplete:_e,autoFocus:et,className:tt,components:nt={},componentsProps:ot={},defaultValue:it,disabled:st,disableInjectingGlobalStyles:ut,endAdornment:lt,fullWidth:rt=!1,id:dt,inputComponent:ct="input",inputProps:pt={},inputRef:at,maxRows:ht,minRows:xt,multiline:gt=!1,name:vt,onBlur:ft,onChange:yt,onClick:mt,onFocus:St,onKeyDown:At,onKeyUp:Ft,placeholder:Tt,readOnly:Dt,renderSuffix:It,rows:Rt,slotProps:Pt={},slots:Nt={},startAdornment:Lt,type:zt="text",value:Mt}=$,Et=_objectWithoutPropertiesLoose$5($,_excluded$13),Ct=pt.value!=null?pt.value:Mt,{current:Ot}=reactExports.useRef(Ct!=null),Ut=reactExports.useRef(),$t=reactExports.useCallback(an=>{},[]),Bt=useForkRef(Ut,at,pt.ref,$t),[Wt,Gt]=reactExports.useState(!1),bt=useFormControl(),wt=formControlState({props:$,muiFormControl:bt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});wt.focused=bt?bt.focused:Wt,reactExports.useEffect(()=>{!bt&&st&&Wt&&(Gt(!1),ft&&ft())},[bt,st,Wt,ft]);const kt=bt&&bt.onFilled,jt=bt&&bt.onEmpty,Ht=reactExports.useCallback(an=>{isFilled(an)?kt&&kt():jt&&jt()},[kt,jt]);useEnhancedEffect$1(()=>{Ot&&Ht({value:Ct})},[Ct,Ht,Ot]);const Kt=an=>{if(wt.disabled){an.stopPropagation();return}St&&St(an),pt.onFocus&&pt.onFocus(an),bt&&bt.onFocus?bt.onFocus(an):Gt(!0)},Zt=an=>{ft&&ft(an),pt.onBlur&&pt.onBlur(an),bt&&bt.onBlur?bt.onBlur(an):Gt(!1)},rn=(an,...tn)=>{if(!Ot){const bn=an.target||Ut.current;if(bn==null)throw new Error(formatMuiErrorMessage(1));Ht({value:bn.value})}pt.onChange&&pt.onChange(an,...tn),yt&&yt(an,...tn)};reactExports.useEffect(()=>{Ht(Ut.current)},[]);const qt=an=>{Ut.current&&an.currentTarget===an.target&&Ut.current.focus(),mt&&mt(an)};let nn=ct,Xt=pt;gt&&nn==="input"&&(Rt?Xt=_extends({type:void 0,minRows:Rt,maxRows:Rt},Xt):Xt=_extends({type:void 0,maxRows:ht,minRows:xt},Xt),nn=TextareaAutosize$1);const sn=an=>{Ht(an.animationName==="mui-auto-fill-cancel"?Ut.current:{value:"x"})};reactExports.useEffect(()=>{bt&&bt.setAdornedStart(Boolean(Lt))},[bt,Lt]);const ln=_extends({},$,{color:wt.color||"primary",disabled:wt.disabled,endAdornment:lt,error:wt.error,focused:wt.focused,formControl:bt,fullWidth:rt,hiddenLabel:wt.hiddenLabel,multiline:gt,size:wt.size,startAdornment:Lt,type:zt}),Vt=useUtilityClasses$X(ln),cn=Nt.root||nt.Root||InputBaseRoot,xn=Pt.root||ot.root||{},Cn=Nt.input||nt.Input||InputBaseComponent;return Xt=_extends({},Xt,(a=Pt.input)!=null?a:ot.input),jsxs(reactExports.Fragment,{children:[!ut&&inputGlobalStyles,jsxs(cn,_extends({},xn,!isHostComponent(cn)&&{ownerState:_extends({},ln,xn.ownerState)},{ref:i,onClick:qt},Et,{className:clsx(Vt.root,xn.className,tt),children:[Lt,jsx(FormControlContext$1.Provider,{value:null,children:jsx(Cn,_extends({ownerState:ln,"aria-invalid":wt.error,"aria-describedby":j,autoComplete:_e,autoFocus:et,defaultValue:it,disabled:wt.disabled,id:dt,onAnimationStart:sn,name:vt,placeholder:Tt,readOnly:Dt,required:wt.required,rows:Rt,value:Ct,onKeyDown:At,onKeyUp:Ft,type:zt},Xt,!isHostComponent(Cn)&&{as:nn,ownerState:_extends({},ln,Xt.ownerState)},{ref:Bt,className:clsx(Vt.input,Xt.className),onBlur:Zt,onChange:rn,onFocus:Kt}))}),lt,It?It(_extends({},wt,{startAdornment:Lt})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass(s){return generateUtilityClass("MuiInput",s)}const inputClasses=_extends({},inputBaseClasses$1,generateUtilityClasses("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses,_excluded$12=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$W=s=>{const{classes:o,disableUnderline:i}=s,$=composeClasses({root:["root",!i&&"underline"],input:["input"]},getInputUtilityClass,o);return _extends({},o,$)},InputRoot=styled$1(InputBaseRoot,{shouldForwardProp:s=>rootShouldForwardProp(s)||s==="classes",name:"MuiInput",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[...rootOverridesResolver(s,o),!i.disableUnderline&&o.underline]}})(({theme:s,ownerState:o})=>{let a=s.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return s.vars&&(a=`rgba(${s.vars.palette.common.onBackgroundChannel} / ${s.vars.opacity.inputUnderline})`),_extends({position:"relative"},o.formControl&&{"label + &":{marginTop:16}},!o.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(s.vars||s).palette[o.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:s.transitions.create("transform",{duration:s.transitions.duration.shorter,easing:s.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:(s.vars||s).palette.error.main}},"&:before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:s.transitions.create("border-bottom-color",{duration:s.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses$1.disabled}, .${inputClasses$1.error}):before`]:{borderBottom:`2px solid ${(s.vars||s).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${a}`}},[`&.${inputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled$1(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function(o,i){var a,$,j,_e;const et=useThemeProps({props:o,name:"MuiInput"}),{disableUnderline:tt,components:nt={},componentsProps:ot,fullWidth:it=!1,inputComponent:st="input",multiline:ut=!1,slotProps:lt,slots:rt={},type:dt="text"}=et,ct=_objectWithoutPropertiesLoose$5(et,_excluded$12),pt=useUtilityClasses$W(et),ht={root:{ownerState:{disableUnderline:tt}}},xt=lt??ot?deepmerge(lt??ot,ht):ht,gt=(a=($=rt.root)!=null?$:nt.Root)!=null?a:InputRoot,vt=(j=(_e=rt.input)!=null?_e:nt.Input)!=null?j:InputInput;return jsx(InputBase$1,_extends({slots:{root:gt,input:vt},slotProps:xt,fullWidth:it,inputComponent:st,multiline:ut,ref:i,type:dt},ct,{classes:pt}))});Input.muiName="Input";const Input$1=Input;function getFilledInputUtilityClass(s){return generateUtilityClass("MuiFilledInput",s)}const filledInputClasses=_extends({},inputBaseClasses$1,generateUtilityClasses("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,_excluded$11=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$V=s=>{const{classes:o,disableUnderline:i}=s,$=composeClasses({root:["root",!i&&"underline"],input:["input"]},getFilledInputUtilityClass,o);return _extends({},o,$)},FilledInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:s=>rootShouldForwardProp(s)||s==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[...rootOverridesResolver(s,o),!i.disableUnderline&&o.underline]}})(({theme:s,ownerState:o})=>{var i;const a=s.palette.mode==="light",$=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",j=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",_e=a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",et=a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends({position:"relative",backgroundColor:s.vars?s.vars.palette.FilledInput.bg:j,borderTopLeftRadius:(s.vars||s).shape.borderRadius,borderTopRightRadius:(s.vars||s).shape.borderRadius,transition:s.transitions.create("background-color",{duration:s.transitions.duration.shorter,easing:s.transitions.easing.easeOut}),"&:hover":{backgroundColor:s.vars?s.vars.palette.FilledInput.hoverBg:_e,"@media (hover: none)":{backgroundColor:s.vars?s.vars.palette.FilledInput.bg:j}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:s.vars?s.vars.palette.FilledInput.bg:j},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:s.vars?s.vars.palette.FilledInput.disabledBg:et}},!o.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(i=(s.vars||s).palette[o.color||"primary"])==null?void 0:i.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:s.transitions.create("transform",{duration:s.transitions.duration.shorter,easing:s.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:(s.vars||s).palette.error.main}},"&:before":{borderBottom:`1px solid ${s.vars?`rgba(${s.vars.palette.common.onBackgroundChannel} / ${s.vars.opacity.inputUnderline})`:$}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:s.transitions.create("border-bottom-color",{duration:s.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}, .${filledInputClasses$1.error}):before`]:{borderBottom:`1px solid ${(s.vars||s).palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&_extends({padding:"25px 12px 8px"},o.size==="small"&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),FilledInputInput=styled$1(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:s,ownerState:o})=>_extends({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!s.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:s.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:s.palette.mode==="light"?null:"#fff",caretColor:s.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},s.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[s.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},o.size==="small"&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17},o.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},o.startAdornment&&{paddingLeft:0},o.endAdornment&&{paddingRight:0},o.hiddenLabel&&o.size==="small"&&{paddingTop:8,paddingBottom:9})),FilledInput=reactExports.forwardRef(function(o,i){var a,$,j,_e;const et=useThemeProps({props:o,name:"MuiFilledInput"}),{components:tt={},componentsProps:nt,fullWidth:ot=!1,inputComponent:it="input",multiline:st=!1,slotProps:ut,slots:lt={},type:rt="text"}=et,dt=_objectWithoutPropertiesLoose$5(et,_excluded$11),ct=_extends({},et,{fullWidth:ot,inputComponent:it,multiline:st,type:rt}),pt=useUtilityClasses$V(et),at={root:{ownerState:ct},input:{ownerState:ct}},ht=ut??nt?deepmerge(ut??nt,at):at,xt=(a=($=lt.root)!=null?$:tt.Root)!=null?a:FilledInputRoot,gt=(j=(_e=lt.input)!=null?_e:tt.Input)!=null?j:FilledInputInput;return jsx(InputBase$1,_extends({slots:{root:xt,input:gt},componentsProps:ht,fullWidth:ot,inputComponent:it,multiline:st,ref:i,type:rt},dt,{classes:pt}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;var _span$3;const _excluded$10=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled$1("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled$1("legend")(({ownerState:s,theme:o})=>_extends({float:"unset",width:"auto",overflow:"hidden"},!s.withLabel&&{padding:0,lineHeight:"11px",transition:o.transitions.create("width",{duration:150,easing:o.transitions.easing.easeOut})},s.withLabel&&_extends({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:o.transitions.create("max-width",{duration:50,easing:o.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},s.notched&&{maxWidth:"100%",transition:o.transitions.create("max-width",{duration:100,easing:o.transitions.easing.easeOut,delay:50})})));function NotchedOutline(s){const{className:o,label:i,notched:a}=s,$=_objectWithoutPropertiesLoose$5(s,_excluded$10),j=i!=null&&i!=="",_e=_extends({},s,{notched:a,withLabel:j});return jsx(NotchedOutlineRoot$1,_extends({"aria-hidden":!0,className:o,ownerState:_e},$,{children:jsx(NotchedOutlineLegend,{ownerState:_e,children:j?jsx("span",{children:i}):_span$3||(_span$3=jsx("span",{className:"notranslate",children:""}))})}))}function getOutlinedInputUtilityClass(s){return generateUtilityClass("MuiOutlinedInput",s)}const outlinedInputClasses=_extends({},inputBaseClasses$1,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses,_excluded$$=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$U=s=>{const{classes:o}=s,a=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,o);return _extends({},o,a)},OutlinedInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:s=>rootShouldForwardProp(s)||s==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:s,ownerState:o})=>{const i=s.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends({position:"relative",borderRadius:(s.vars||s).shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(s.vars||s).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:s.vars?`rgba(${s.vars.palette.common.onBackgroundChannel} / 0.23)`:i}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(s.vars||s).palette[o.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(s.vars||s).palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(s.vars||s).palette.action.disabled}},o.startAdornment&&{paddingLeft:14},o.endAdornment&&{paddingRight:14},o.multiline&&_extends({padding:"16.5px 14px"},o.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled$1(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(s,o)=>o.notchedOutline})(({theme:s})=>{const o=s.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:s.vars?`rgba(${s.vars.palette.common.onBackgroundChannel} / 0.23)`:o}}),OutlinedInputInput=styled$1(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:s,ownerState:o})=>_extends({padding:"16.5px 14px"},!s.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:s.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:s.palette.mode==="light"?null:"#fff",caretColor:s.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},s.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[s.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},o.size==="small"&&{padding:"8.5px 14px"},o.multiline&&{padding:0},o.startAdornment&&{paddingLeft:0},o.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(o,i){var a,$,j,_e,et;const tt=useThemeProps({props:o,name:"MuiOutlinedInput"}),{components:nt={},fullWidth:ot=!1,inputComponent:it="input",label:st,multiline:ut=!1,notched:lt,slots:rt={},type:dt="text"}=tt,ct=_objectWithoutPropertiesLoose$5(tt,_excluded$$),pt=useUtilityClasses$U(tt),at=useFormControl(),ht=formControlState({props:tt,muiFormControl:at,states:["required"]}),xt=_extends({},tt,{color:ht.color||"primary",disabled:ht.disabled,error:ht.error,focused:ht.focused,formControl:at,fullWidth:ot,hiddenLabel:ht.hiddenLabel,multiline:ut,size:ht.size,type:dt}),gt=(a=($=rt.root)!=null?$:nt.Root)!=null?a:OutlinedInputRoot,vt=(j=(_e=rt.input)!=null?_e:nt.Input)!=null?j:OutlinedInputInput;return jsx(InputBase$1,_extends({slots:{root:gt,input:vt},renderSuffix:ft=>jsx(NotchedOutlineRoot,{ownerState:xt,className:pt.notchedOutline,label:st!=null&&st!==""&&ht.required?et||(et=jsxs(reactExports.Fragment,{children:[st,"","*"]})):st,notched:typeof lt<"u"?lt:Boolean(ft.startAdornment||ft.filled||ft.focused)}),fullWidth:ot,inputComponent:it,multiline:ut,ref:i,type:dt},ct,{classes:_extends({},pt,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput;function getFormLabelUtilityClasses(s){return generateUtilityClass("MuiFormLabel",s)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$_=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$T=s=>{const{classes:o,color:i,focused:a,disabled:$,error:j,filled:_e,required:et}=s,tt={root:["root",`color${capitalize(i)}`,$&&"disabled",j&&"error",_e&&"filled",a&&"focused",et&&"required"],asterisk:["asterisk",j&&"error"]};return composeClasses(tt,getFormLabelUtilityClasses,o)},FormLabelRoot=styled$1("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:s},o)=>_extends({},o.root,s.color==="secondary"&&o.colorSecondary,s.filled&&o.filled)})(({theme:s,ownerState:o})=>_extends({color:(s.vars||s).palette.text.secondary},s.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:(s.vars||s).palette[o.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:(s.vars||s).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:(s.vars||s).palette.error.main}})),AsteriskComponent=styled$1("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(s,o)=>o.asterisk})(({theme:s})=>({[`&.${formLabelClasses$1.error}`]:{color:(s.vars||s).palette.error.main}})),FormLabel=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiFormLabel"}),{children:$,className:j,component:_e="label"}=a,et=_objectWithoutPropertiesLoose$5(a,_excluded$_),tt=useFormControl(),nt=formControlState({props:a,muiFormControl:tt,states:["color","required","focused","disabled","error","filled"]}),ot=_extends({},a,{color:nt.color||"primary",component:_e,disabled:nt.disabled,error:nt.error,filled:nt.filled,focused:nt.focused,required:nt.required}),it=useUtilityClasses$T(ot);return jsxs(FormLabelRoot,_extends({as:_e,ownerState:ot,className:clsx(it.root,j),ref:i},et,{children:[$,nt.required&&jsxs(AsteriskComponent,{ownerState:ot,"aria-hidden":!0,className:it.asterisk,children:["","*"]})]}))}),FormLabel$1=FormLabel;function getInputLabelUtilityClasses(s){return generateUtilityClass("MuiInputLabel",s)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$Z=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$S=s=>{const{classes:o,formControl:i,size:a,shrink:$,disableAnimation:j,variant:_e,required:et}=s,nt=composeClasses({root:["root",i&&"formControl",!j&&"animated",$&&"shrink",a==="small"&&"sizeSmall",_e],asterisk:[et&&"asterisk"]},getInputLabelUtilityClasses,o);return _extends({},o,nt)},InputLabelRoot=styled$1(FormLabel$1,{shouldForwardProp:s=>rootShouldForwardProp(s)||s==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[{[`& .${formLabelClasses$1.asterisk}`]:o.asterisk},o.root,i.formControl&&o.formControl,i.size==="small"&&o.sizeSmall,i.shrink&&o.shrink,!i.disableAnimation&&o.animated,o[i.variant]]}})(({theme:s,ownerState:o})=>_extends({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},o.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},o.size==="small"&&{transform:"translate(0, 17px) scale(1)"},o.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!o.disableAnimation&&{transition:s.transitions.create(["color","transform","max-width"],{duration:s.transitions.duration.shorter,easing:s.transitions.easing.easeOut})},o.variant==="filled"&&_extends({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},o.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},o.shrink&&_extends({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},o.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),o.variant==="outlined"&&_extends({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},o.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},o.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(o,i){const a=useThemeProps({name:"MuiInputLabel",props:o}),{disableAnimation:$=!1,shrink:j,className:_e}=a,et=_objectWithoutPropertiesLoose$5(a,_excluded$Z),tt=useFormControl();let nt=j;typeof nt>"u"&&tt&&(nt=tt.filled||tt.focused||tt.adornedStart);const ot=formControlState({props:a,muiFormControl:tt,states:["size","variant","required"]}),it=_extends({},a,{disableAnimation:$,formControl:tt,shrink:nt,size:ot.size,variant:ot.variant,required:ot.required}),st=useUtilityClasses$S(it);return jsx(InputLabelRoot,_extends({"data-shrink":nt,ownerState:it,ref:i,className:clsx(st.root,_e)},et,{classes:st}))}),InputLabel$1=InputLabel;function getFormControlUtilityClasses(s){return generateUtilityClass("MuiFormControl",s)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$Y=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$R=s=>{const{classes:o,margin:i,fullWidth:a}=s,$={root:["root",i!=="none"&&`margin${capitalize(i)}`,a&&"fullWidth"]};return composeClasses($,getFormControlUtilityClasses,o)},FormControlRoot=styled$1("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:s},o)=>_extends({},o.root,o[`margin${capitalize(s.margin)}`],s.fullWidth&&o.fullWidth)})(({ownerState:s})=>_extends({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},s.margin==="normal"&&{marginTop:16,marginBottom:8},s.margin==="dense"&&{marginTop:8,marginBottom:4},s.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiFormControl"}),{children:$,className:j,color:_e="primary",component:et="div",disabled:tt=!1,error:nt=!1,focused:ot,fullWidth:it=!1,hiddenLabel:st=!1,margin:ut="none",required:lt=!1,size:rt="medium",variant:dt="outlined"}=a,ct=_objectWithoutPropertiesLoose$5(a,_excluded$Y),pt=_extends({},a,{color:_e,component:et,disabled:tt,error:nt,fullWidth:it,hiddenLabel:st,margin:ut,required:lt,size:rt,variant:dt}),at=useUtilityClasses$R(pt),[ht,xt]=reactExports.useState(()=>{let Ft=!1;return $&&reactExports.Children.forEach($,Tt=>{if(!isMuiElement(Tt,["Input","Select"]))return;const Dt=isMuiElement(Tt,["Select"])?Tt.props.input:Tt;Dt&&isAdornedStart(Dt.props)&&(Ft=!0)}),Ft}),[gt,vt]=reactExports.useState(()=>{let Ft=!1;return $&&reactExports.Children.forEach($,Tt=>{isMuiElement(Tt,["Input","Select"])&&isFilled(Tt.props,!0)&&(Ft=!0)}),Ft}),[ft,yt]=reactExports.useState(!1);tt&&ft&&yt(!1);const mt=ot!==void 0&&!tt?ot:ft;let St;const At=reactExports.useMemo(()=>({adornedStart:ht,setAdornedStart:xt,color:_e,disabled:tt,error:nt,filled:gt,focused:mt,fullWidth:it,hiddenLabel:st,size:rt,onBlur:()=>{yt(!1)},onEmpty:()=>{vt(!1)},onFilled:()=>{vt(!0)},onFocus:()=>{yt(!0)},registerEffect:St,required:lt,variant:dt}),[ht,_e,tt,nt,gt,mt,it,st,St,lt,rt,dt]);return jsx(FormControlContext$1.Provider,{value:At,children:jsx(FormControlRoot,_extends({as:et,ownerState:pt,className:clsx(at.root,j),ref:i},ct,{children:$}))})}),FormControl$1=FormControl;function getFormHelperTextUtilityClasses(s){return generateUtilityClass("MuiFormHelperText",s)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$2;const _excluded$X=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$Q=s=>{const{classes:o,contained:i,size:a,disabled:$,error:j,filled:_e,focused:et,required:tt}=s,nt={root:["root",$&&"disabled",j&&"error",a&&`size${capitalize(a)}`,i&&"contained",et&&"focused",_e&&"filled",tt&&"required"]};return composeClasses(nt,getFormHelperTextUtilityClasses,o)},FormHelperTextRoot=styled$1("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,i.size&&o[`size${capitalize(i.size)}`],i.contained&&o.contained,i.filled&&o.filled]}})(({theme:s,ownerState:o})=>_extends({color:(s.vars||s).palette.text.secondary},s.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:(s.vars||s).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:(s.vars||s).palette.error.main}},o.size==="small"&&{marginTop:4},o.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiFormHelperText"}),{children:$,className:j,component:_e="p"}=a,et=_objectWithoutPropertiesLoose$5(a,_excluded$X),tt=useFormControl(),nt=formControlState({props:a,muiFormControl:tt,states:["variant","size","disabled","error","filled","focused","required"]}),ot=_extends({},a,{component:_e,contained:nt.variant==="filled"||nt.variant==="outlined",variant:nt.variant,size:nt.size,disabled:nt.disabled,error:nt.error,filled:nt.filled,focused:nt.focused,required:nt.required}),it=useUtilityClasses$Q(ot);return jsx(FormHelperTextRoot,_extends({as:_e,ownerState:ot,className:clsx(it.root,j),ref:i},et,{children:$===" "?_span$2||(_span$2=jsx("span",{className:"notranslate",children:""})):$}))}),FormHelperText$1=FormHelperText,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass(s){return generateUtilityClass("MuiList",s)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$W=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$P=s=>{const{classes:o,disablePadding:i,dense:a,subheader:$}=s;return composeClasses({root:["root",!i&&"padding",a&&"dense",$&&"subheader"]},getListUtilityClass,o)},ListRoot=styled$1("ul",{name:"MuiList",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,!i.disablePadding&&o.padding,i.dense&&o.dense,i.subheader&&o.subheader]}})(({ownerState:s})=>_extends({listStyle:"none",margin:0,padding:0,position:"relative"},!s.disablePadding&&{paddingTop:8,paddingBottom:8},s.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiList"}),{children:$,className:j,component:_e="ul",dense:et=!1,disablePadding:tt=!1,subheader:nt}=a,ot=_objectWithoutPropertiesLoose$5(a,_excluded$W),it=reactExports.useMemo(()=>({dense:et}),[et]),st=_extends({},a,{component:_e,dense:et,disablePadding:tt}),ut=useUtilityClasses$P(st);return jsx(ListContext$1.Provider,{value:it,children:jsxs(ListRoot,_extends({as:_e,className:clsx(ut.root,j),ref:i,ownerState:st},ot,{children:[nt,$]}))})}),List$1=List,_excluded$V=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem$1(s,o,i){return s===o?s.firstChild:o&&o.nextElementSibling?o.nextElementSibling:i?null:s.firstChild}function previousItem$1(s,o,i){return s===o?i?s.firstChild:s.lastChild:o&&o.previousElementSibling?o.previousElementSibling:i?null:s.lastChild}function textCriteriaMatches(s,o){if(o===void 0)return!0;let i=s.innerText;return i===void 0&&(i=s.textContent),i=i.trim().toLowerCase(),i.length===0?!1:o.repeating?i[0]===o.keys[0]:i.indexOf(o.keys.join(""))===0}function moveFocus$1(s,o,i,a,$,j){let _e=!1,et=$(s,o,o?i:!1);for(;et;){if(et===s.firstChild){if(_e)return!1;_e=!0}const tt=a?!1:et.disabled||et.getAttribute("aria-disabled")==="true";if(!et.hasAttribute("tabindex")||!textCriteriaMatches(et,j)||tt)et=$(s,et,i);else return et.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(o,i){const{actions:a,autoFocus:$=!1,autoFocusItem:j=!1,children:_e,className:et,disabledItemsFocusable:tt=!1,disableListWrap:nt=!1,onKeyDown:ot,variant:it="selectedMenu"}=o,st=_objectWithoutPropertiesLoose$5(o,_excluded$V),ut=reactExports.useRef(null),lt=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect$1(()=>{$&&ut.current.focus()},[$]),reactExports.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(at,ht)=>{const xt=!ut.current.style.width;if(at.clientHeight<ut.current.clientHeight&&xt){const gt=`${getScrollbarSize(ownerDocument(at))}px`;ut.current.style[ht.direction==="rtl"?"paddingLeft":"paddingRight"]=gt,ut.current.style.width=`calc(100% + ${gt})`}return ut.current}}),[]);const rt=at=>{const ht=ut.current,xt=at.key,gt=ownerDocument(ht).activeElement;if(xt==="ArrowDown")at.preventDefault(),moveFocus$1(ht,gt,nt,tt,nextItem$1);else if(xt==="ArrowUp")at.preventDefault(),moveFocus$1(ht,gt,nt,tt,previousItem$1);else if(xt==="Home")at.preventDefault(),moveFocus$1(ht,null,nt,tt,nextItem$1);else if(xt==="End")at.preventDefault(),moveFocus$1(ht,null,nt,tt,previousItem$1);else if(xt.length===1){const vt=lt.current,ft=xt.toLowerCase(),yt=performance.now();vt.keys.length>0&&(yt-vt.lastTime>500?(vt.keys=[],vt.repeating=!0,vt.previousKeyMatched=!0):vt.repeating&&ft!==vt.keys[0]&&(vt.repeating=!1)),vt.lastTime=yt,vt.keys.push(ft);const mt=gt&&!vt.repeating&&textCriteriaMatches(gt,vt);vt.previousKeyMatched&&(mt||moveFocus$1(ht,gt,!1,tt,nextItem$1,vt))?at.preventDefault():vt.previousKeyMatched=!1}ot&&ot(at)},dt=useForkRef(ut,i);let ct=-1;reactExports.Children.forEach(_e,(at,ht)=>{reactExports.isValidElement(at)&&(at.props.disabled||(it==="selectedMenu"&&at.props.selected||ct===-1)&&(ct=ht))});const pt=reactExports.Children.map(_e,(at,ht)=>{if(ht===ct){const xt={};return j&&(xt.autoFocus=!0),at.props.tabIndex===void 0&&it==="selectedMenu"&&(xt.tabIndex=0),reactExports.cloneElement(at,xt)}return at});return jsx(List$1,_extends({role:"menu",ref:dt,className:et,onKeyDown:rt,tabIndex:$?0:-1},st,{children:pt}))}),MenuList$1=MenuList,getOverlayAlpha=s=>{let o;return s<1?o=5.11916*s**2:o=4.5*Math.log(s+1)+2,(o/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function useTheme(){return useTheme$1(defaultTheme$1)}function getPaperUtilityClass(s){return generateUtilityClass("MuiPaper",s)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$U=["className","component","elevation","square","variant"],useUtilityClasses$O=s=>{const{square:o,elevation:i,variant:a,classes:$}=s,j={root:["root",a,!o&&"rounded",a==="elevation"&&`elevation${i}`]};return composeClasses(j,getPaperUtilityClass,$)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,o[i.variant],!i.square&&o.rounded,i.variant==="elevation"&&o[`elevation${i.elevation}`]]}})(({theme:s,ownerState:o})=>{var i;return _extends({backgroundColor:(s.vars||s).palette.background.paper,color:(s.vars||s).palette.text.primary,transition:s.transitions.create("box-shadow")},!o.square&&{borderRadius:s.shape.borderRadius},o.variant==="outlined"&&{border:`1px solid ${(s.vars||s).palette.divider}`},o.variant==="elevation"&&_extends({boxShadow:(s.vars||s).shadows[o.elevation]},!s.vars&&s.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(o.elevation))}, ${alpha("#fff",getOverlayAlpha$1(o.elevation))})`},s.vars&&{backgroundImage:(i=s.vars.overlays)==null?void 0:i[o.elevation]}))}),Paper=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiPaper"}),{className:$,component:j="div",elevation:_e=1,square:et=!1,variant:tt="elevation"}=a,nt=_objectWithoutPropertiesLoose$5(a,_excluded$U),ot=_extends({},a,{component:j,elevation:_e,square:et,variant:tt}),it=useUtilityClasses$O(ot);return jsx(PaperRoot,_extends({as:j,ownerState:ot,className:clsx(it.root,$),ref:i},nt))}),Paper$1=Paper;var _addClass=function(o,i){return o&&i&&i.split(" ").forEach(function(a){return addClass(o,a)})},removeClass=function(o,i){return o&&i&&i.split(" ").forEach(function(a){return removeClass$1(o,a)})},CSSTransition=function(s){_inheritsLoose(o,s);function o(){for(var a,$=arguments.length,j=new Array($),_e=0;_e<$;_e++)j[_e]=arguments[_e];return a=s.call.apply(s,[this].concat(j))||this,a.appliedClasses={appear:{},enter:{},exit:{}},a.onEnter=function(et,tt){var nt=a.resolveArguments(et,tt),ot=nt[0],it=nt[1];a.removeClasses(ot,"exit"),a.addClass(ot,it?"appear":"enter","base"),a.props.onEnter&&a.props.onEnter(et,tt)},a.onEntering=function(et,tt){var nt=a.resolveArguments(et,tt),ot=nt[0],it=nt[1],st=it?"appear":"enter";a.addClass(ot,st,"active"),a.props.onEntering&&a.props.onEntering(et,tt)},a.onEntered=function(et,tt){var nt=a.resolveArguments(et,tt),ot=nt[0],it=nt[1],st=it?"appear":"enter";a.removeClasses(ot,st),a.addClass(ot,st,"done"),a.props.onEntered&&a.props.onEntered(et,tt)},a.onExit=function(et){var tt=a.resolveArguments(et),nt=tt[0];a.removeClasses(nt,"appear"),a.removeClasses(nt,"enter"),a.addClass(nt,"exit","base"),a.props.onExit&&a.props.onExit(et)},a.onExiting=function(et){var tt=a.resolveArguments(et),nt=tt[0];a.addClass(nt,"exit","active"),a.props.onExiting&&a.props.onExiting(et)},a.onExited=function(et){var tt=a.resolveArguments(et),nt=tt[0];a.removeClasses(nt,"exit"),a.addClass(nt,"exit","done"),a.props.onExited&&a.props.onExited(et)},a.resolveArguments=function(et,tt){return a.props.nodeRef?[a.props.nodeRef.current,et]:[et,tt]},a.getClassNames=function(et){var tt=a.props.classNames,nt=typeof tt=="string",ot=nt&&tt?tt+"-":"",it=nt?""+ot+et:tt[et],st=nt?it+"-active":tt[et+"Active"],ut=nt?it+"-done":tt[et+"Done"];return{baseClassName:it,activeClassName:st,doneClassName:ut}},a}var i=o.prototype;return i.addClass=function($,j,_e){var et=this.getClassNames(j)[_e+"ClassName"],tt=this.getClassNames("enter"),nt=tt.doneClassName;j==="appear"&&_e==="done"&&nt&&(et+=" "+nt),_e==="active"&&$&&forceReflow($),et&&(this.appliedClasses[j][_e]=et,_addClass($,et))},i.removeClasses=function($,j){var _e=this.appliedClasses[j],et=_e.base,tt=_e.active,nt=_e.done;this.appliedClasses[j]={},et&&removeClass($,et),tt&&removeClass($,tt),nt&&removeClass($,nt)},i.render=function(){var $=this.props;$.classNames;var j=_objectWithoutPropertiesLoose$5($,["classNames"]);return React.createElement(Transition,_extends({},j,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},o}(React.Component);CSSTransition.defaultProps={classNames:""};CSSTransition.propTypes={};const CSSTransition$1=CSSTransition;function _assertThisInitialized(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function getChildMapping(s,o){var i=function(j){return o&&reactExports.isValidElement(j)?o(j):j},a=Object.create(null);return s&&reactExports.Children.map(s,function($){return $}).forEach(function($){a[$.key]=i($)}),a}function mergeChildMappings(s,o){s=s||{},o=o||{};function i(ot){return ot in o?o[ot]:s[ot]}var a=Object.create(null),$=[];for(var j in s)j in o?$.length&&(a[j]=$,$=[]):$.push(j);var _e,et={};for(var tt in o){if(a[tt])for(_e=0;_e<a[tt].length;_e++){var nt=a[tt][_e];et[a[tt][_e]]=i(nt)}et[tt]=i(tt)}for(_e=0;_e<$.length;_e++)et[$[_e]]=i($[_e]);return et}function getProp(s,o,i){return i[o]!=null?i[o]:s.props[o]}function getInitialChildMapping(s,o){return getChildMapping(s.children,function(i){return reactExports.cloneElement(i,{onExited:o.bind(null,i),in:!0,appear:getProp(i,"appear",s),enter:getProp(i,"enter",s),exit:getProp(i,"exit",s)})})}function getNextChildMapping(s,o,i){var a=getChildMapping(s.children),$=mergeChildMappings(o,a);return Object.keys($).forEach(function(j){var _e=$[j];if(reactExports.isValidElement(_e)){var et=j in o,tt=j in a,nt=o[j],ot=reactExports.isValidElement(nt)&&!nt.props.in;tt&&(!et||ot)?$[j]=reactExports.cloneElement(_e,{onExited:i.bind(null,_e),in:!0,exit:getProp(_e,"exit",s),enter:getProp(_e,"enter",s)}):!tt&&et&&!ot?$[j]=reactExports.cloneElement(_e,{in:!1}):tt&&et&&reactExports.isValidElement(nt)&&($[j]=reactExports.cloneElement(_e,{onExited:i.bind(null,_e),in:nt.props.in,exit:getProp(_e,"exit",s),enter:getProp(_e,"enter",s)}))}}),$}var values=Object.values||function(s){return Object.keys(s).map(function(o){return s[o]})},defaultProps={component:"div",childFactory:function(o){return o}},TransitionGroup=function(s){_inheritsLoose(o,s);function o(a,$){var j;j=s.call(this,a,$)||this;var _e=j.handleExited.bind(_assertThisInitialized(j));return j.state={contextValue:{isMounting:!0},handleExited:_e,firstRender:!0},j}var i=o.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function($,j){var _e=j.children,et=j.handleExited,tt=j.firstRender;return{children:tt?getInitialChildMapping($,et):getNextChildMapping($,_e,et),firstRender:!1}},i.handleExited=function($,j){var _e=getChildMapping(this.props.children);$.key in _e||($.props.onExited&&$.props.onExited(j),this.mounted&&this.setState(function(et){var tt=_extends({},et.children);return delete tt[$.key],{children:tt}}))},i.render=function(){var $=this.props,j=$.component,_e=$.childFactory,et=_objectWithoutPropertiesLoose$5($,["component","childFactory"]),tt=this.state.contextValue,nt=values(this.state.children).map(_e);return delete et.appear,delete et.enter,delete et.exit,j===null?React.createElement(TransitionGroupContext.Provider,{value:tt},nt):React.createElement(TransitionGroupContext.Provider,{value:tt},React.createElement(j,et,nt))},o}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const TransitionGroup$1=TransitionGroup,reflow=s=>s.scrollTop;function getTransitionProps(s,o){var i,a;const{timeout:$,easing:j,style:_e={}}=s;return{duration:(i=_e.transitionDuration)!=null?i:typeof $=="number"?$:$[o.mode]||0,easing:(a=_e.transitionTimingFunction)!=null?a:typeof j=="object"?j[o.mode]:j,delay:_e.transitionDelay}}const _excluded$T=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(s){return`scale(${s}, ${s**2})`}const styles$2={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(o,i){const{addEndListener:a,appear:$=!0,children:j,easing:_e,in:et,onEnter:tt,onEntered:nt,onEntering:ot,onExit:it,onExited:st,onExiting:ut,style:lt,timeout:rt="auto",TransitionComponent:dt=Transition}=o,ct=_objectWithoutPropertiesLoose$5(o,_excluded$T),pt=reactExports.useRef(),at=reactExports.useRef(),ht=useTheme(),xt=reactExports.useRef(null),gt=useForkRef(xt,j.ref,i),vt=Dt=>It=>{if(Dt){const Rt=xt.current;It===void 0?Dt(Rt):Dt(Rt,It)}},ft=vt(ot),yt=vt((Dt,It)=>{reflow(Dt);const{duration:Rt,delay:Pt,easing:Nt}=getTransitionProps({style:lt,timeout:rt,easing:_e},{mode:"enter"});let Lt;rt==="auto"?(Lt=ht.transitions.getAutoHeightDuration(Dt.clientHeight),at.current=Lt):Lt=Rt,Dt.style.transition=[ht.transitions.create("opacity",{duration:Lt,delay:Pt}),ht.transitions.create("transform",{duration:isWebKit154?Lt:Lt*.666,delay:Pt,easing:Nt})].join(","),tt&&tt(Dt,It)}),mt=vt(nt),St=vt(ut),At=vt(Dt=>{const{duration:It,delay:Rt,easing:Pt}=getTransitionProps({style:lt,timeout:rt,easing:_e},{mode:"exit"});let Nt;rt==="auto"?(Nt=ht.transitions.getAutoHeightDuration(Dt.clientHeight),at.current=Nt):Nt=It,Dt.style.transition=[ht.transitions.create("opacity",{duration:Nt,delay:Rt}),ht.transitions.create("transform",{duration:isWebKit154?Nt:Nt*.666,delay:isWebKit154?Rt:Rt||Nt*.333,easing:Pt})].join(","),Dt.style.opacity=0,Dt.style.transform=getScale(.75),it&&it(Dt)}),Ft=vt(st),Tt=Dt=>{rt==="auto"&&(pt.current=setTimeout(Dt,at.current||0)),a&&a(xt.current,Dt)};return reactExports.useEffect(()=>()=>{clearTimeout(pt.current)},[]),jsx(dt,_extends({appear:$,in:et,nodeRef:xt,onEnter:yt,onEntered:mt,onEntering:ft,onExit:At,onExited:Ft,onExiting:St,addEndListener:Tt,timeout:rt==="auto"?null:rt},ct,{children:(Dt,It)=>reactExports.cloneElement(j,_extends({style:_extends({opacity:0,transform:getScale(.75),visibility:Dt==="exited"&&!et?"hidden":void 0},styles$2[Dt],lt,j.props.style),ref:gt},It))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow,_excluded$S=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(o,i){const a=useTheme(),$={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:j,appear:_e=!0,children:et,easing:tt,in:nt,onEnter:ot,onEntered:it,onEntering:st,onExit:ut,onExited:lt,onExiting:rt,style:dt,timeout:ct=$,TransitionComponent:pt=Transition}=o,at=_objectWithoutPropertiesLoose$5(o,_excluded$S),ht=reactExports.useRef(null),xt=useForkRef(ht,et.ref,i),gt=Tt=>Dt=>{if(Tt){const It=ht.current;Dt===void 0?Tt(It):Tt(It,Dt)}},vt=gt(st),ft=gt((Tt,Dt)=>{reflow(Tt);const It=getTransitionProps({style:dt,timeout:ct,easing:tt},{mode:"enter"});Tt.style.webkitTransition=a.transitions.create("opacity",It),Tt.style.transition=a.transitions.create("opacity",It),ot&&ot(Tt,Dt)}),yt=gt(it),mt=gt(rt),St=gt(Tt=>{const Dt=getTransitionProps({style:dt,timeout:ct,easing:tt},{mode:"exit"});Tt.style.webkitTransition=a.transitions.create("opacity",Dt),Tt.style.transition=a.transitions.create("opacity",Dt),ut&&ut(Tt)}),At=gt(lt);return jsx(pt,_extends({appear:_e,in:nt,nodeRef:ht,onEnter:ft,onEntered:yt,onEntering:vt,onExit:St,onExited:At,onExiting:mt,addEndListener:Tt=>{j&&j(ht.current,Tt)},timeout:ct},at,{children:(Tt,Dt)=>reactExports.cloneElement(et,_extends({style:_extends({opacity:0,visibility:Tt==="exited"&&!nt?"hidden":void 0},styles$1[Tt],dt,et.props.style),ref:xt},Dt))}))}),Fade$1=Fade;function getBackdropUtilityClass(s){return generateUtilityClass("MuiBackdrop",s)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$R=["children","component","components","componentsProps","className","invisible","open","slotProps","slots","transitionDuration","TransitionComponent"],useUtilityClasses$N=s=>{const{classes:o,invisible:i}=s;return composeClasses({root:["root",i&&"invisible"]},getBackdropUtilityClass,o)},BackdropRoot=styled$1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,i.invisible&&o.invisible]}})(({ownerState:s})=>_extends({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},s.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(o,i){var a,$,j;const _e=useThemeProps({props:o,name:"MuiBackdrop"}),{children:et,component:tt="div",components:nt={},componentsProps:ot={},className:it,invisible:st=!1,open:ut,slotProps:lt={},slots:rt={},transitionDuration:dt,TransitionComponent:ct=Fade$1}=_e,pt=_objectWithoutPropertiesLoose$5(_e,_excluded$R),at=_extends({},_e,{component:tt,invisible:st}),ht=useUtilityClasses$N(at),xt=(a=lt.root)!=null?a:ot.root;return jsx(ct,_extends({in:ut,timeout:dt},pt,{children:jsx(BackdropRoot,_extends({"aria-hidden":!0},xt,{as:($=(j=rt.root)!=null?j:nt.Root)!=null?$:tt,className:clsx(ht.root,it,xt==null?void 0:xt.className),ownerState:_extends({},at,xt==null?void 0:xt.ownerState),classes:ht,ref:i,children:et}))}))}),Backdrop$1=Backdrop,_excluded$Q=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],extendUtilityClasses=s=>s.classes,ModalRoot=styled$1("div",{name:"MuiModal",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,!i.open&&i.exited&&o.hidden]}})(({theme:s,ownerState:o})=>_extends({position:"fixed",zIndex:(s.vars||s).zIndex.modal,right:0,bottom:0,top:0,left:0},!o.open&&o.exited&&{visibility:"hidden"})),ModalBackdrop=styled$1(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(s,o)=>o.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(o,i){var a,$,j,_e,et,tt;const nt=useThemeProps({name:"MuiModal",props:o}),{BackdropComponent:ot=ModalBackdrop,BackdropProps:it,closeAfterTransition:st=!1,children:ut,component:lt,components:rt={},componentsProps:dt={},disableAutoFocus:ct=!1,disableEnforceFocus:pt=!1,disableEscapeKeyDown:at=!1,disablePortal:ht=!1,disableRestoreFocus:xt=!1,disableScrollLock:gt=!1,hideBackdrop:vt=!1,keepMounted:ft=!1,slotProps:yt,slots:mt,theme:St}=nt,At=_objectWithoutPropertiesLoose$5(nt,_excluded$Q),[Ft,Tt]=reactExports.useState(!0),Dt={closeAfterTransition:st,disableAutoFocus:ct,disableEnforceFocus:pt,disableEscapeKeyDown:at,disablePortal:ht,disableRestoreFocus:xt,disableScrollLock:gt,hideBackdrop:vt,keepMounted:ft},It=_extends({},nt,Dt,{exited:Ft}),Rt=extendUtilityClasses(It),Pt=(a=($=mt==null?void 0:mt.root)!=null?$:rt.Root)!=null?a:ModalRoot,Nt=(j=(_e=mt==null?void 0:mt.backdrop)!=null?_e:rt.Backdrop)!=null?j:ot,Lt=(et=yt==null?void 0:yt.root)!=null?et:dt.root,zt=(tt=yt==null?void 0:yt.backdrop)!=null?tt:dt.backdrop;return jsx(ModalUnstyled$1,_extends({slots:{root:Pt,backdrop:Nt},slotProps:{root:()=>_extends({},resolveComponentProps(Lt,It),!isHostComponent(Pt)&&{as:lt,theme:St}),backdrop:()=>_extends({},it,resolveComponentProps(zt,It))},onTransitionEnter:()=>Tt(!1),onTransitionExited:()=>Tt(!0),ref:i},At,{classes:Rt},Dt,{children:ut}))}),Modal$1=Modal;function getPopoverUtilityClass(s){return generateUtilityClass("MuiPopover",s)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$P=["onEntering"],_excluded2$1=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function getOffsetTop(s,o){let i=0;return typeof o=="number"?i=o:o==="center"?i=s.height/2:o==="bottom"&&(i=s.height),i}function getOffsetLeft(s,o){let i=0;return typeof o=="number"?i=o:o==="center"?i=s.width/2:o==="right"&&(i=s.width),i}function getTransformOriginValue(s){return[s.horizontal,s.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function resolveAnchorEl(s){return typeof s=="function"?s():s}const useUtilityClasses$M=s=>{const{classes:o}=s;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,o)},PopoverRoot=styled$1(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:(s,o)=>o.root})({}),PopoverPaper=styled$1(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(s,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiPopover"}),{action:$,anchorEl:j,anchorOrigin:_e={vertical:"top",horizontal:"left"},anchorPosition:et,anchorReference:tt="anchorEl",children:nt,className:ot,container:it,elevation:st=8,marginThreshold:ut=16,open:lt,PaperProps:rt={},transformOrigin:dt={vertical:"top",horizontal:"left"},TransitionComponent:ct=Grow$1,transitionDuration:pt="auto",TransitionProps:{onEntering:at}={}}=a,ht=_objectWithoutPropertiesLoose$5(a.TransitionProps,_excluded$P),xt=_objectWithoutPropertiesLoose$5(a,_excluded2$1),gt=reactExports.useRef(),vt=useForkRef(gt,rt.ref),ft=_extends({},a,{anchorOrigin:_e,anchorReference:tt,elevation:st,marginThreshold:ut,PaperProps:rt,transformOrigin:dt,TransitionComponent:ct,transitionDuration:pt,TransitionProps:ht}),yt=useUtilityClasses$M(ft),mt=reactExports.useCallback(()=>{if(tt==="anchorPosition")return et;const Lt=resolveAnchorEl(j),Mt=(Lt&&Lt.nodeType===1?Lt:ownerDocument(gt.current).body).getBoundingClientRect();return{top:Mt.top+getOffsetTop(Mt,_e.vertical),left:Mt.left+getOffsetLeft(Mt,_e.horizontal)}},[j,_e.horizontal,_e.vertical,et,tt]),St=reactExports.useCallback(Lt=>({vertical:getOffsetTop(Lt,dt.vertical),horizontal:getOffsetLeft(Lt,dt.horizontal)}),[dt.horizontal,dt.vertical]),At=reactExports.useCallback(Lt=>{const zt={width:Lt.offsetWidth,height:Lt.offsetHeight},Mt=St(zt);if(tt==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(Mt)};const Et=mt();let Ct=Et.top-Mt.vertical,Ot=Et.left-Mt.horizontal;const Ut=Ct+zt.height,$t=Ot+zt.width,Bt=ownerWindow(resolveAnchorEl(j)),Wt=Bt.innerHeight-ut,Gt=Bt.innerWidth-ut;if(Ct<ut){const bt=Ct-ut;Ct-=bt,Mt.vertical+=bt}else if(Ut>Wt){const bt=Ut-Wt;Ct-=bt,Mt.vertical+=bt}if(Ot<ut){const bt=Ot-ut;Ot-=bt,Mt.horizontal+=bt}else if($t>Gt){const bt=$t-Gt;Ot-=bt,Mt.horizontal+=bt}return{top:`${Math.round(Ct)}px`,left:`${Math.round(Ot)}px`,transformOrigin:getTransformOriginValue(Mt)}},[j,tt,mt,St,ut]),[Ft,Tt]=reactExports.useState(lt),Dt=reactExports.useCallback(()=>{const Lt=gt.current;if(!Lt)return;const zt=At(Lt);zt.top!==null&&(Lt.style.top=zt.top),zt.left!==null&&(Lt.style.left=zt.left),Lt.style.transformOrigin=zt.transformOrigin,Tt(!0)},[At]),It=(Lt,zt)=>{at&&at(Lt,zt),Dt()},Rt=()=>{Tt(!1)};reactExports.useEffect(()=>{lt&&Dt()}),reactExports.useImperativeHandle($,()=>lt?{updatePosition:()=>{Dt()}}:null,[lt,Dt]),reactExports.useEffect(()=>{if(!lt)return;const Lt=debounce(()=>{Dt()}),zt=ownerWindow(j);return zt.addEventListener("resize",Lt),()=>{Lt.clear(),zt.removeEventListener("resize",Lt)}},[j,lt,Dt]);let Pt=pt;pt==="auto"&&!ct.muiSupportAuto&&(Pt=void 0);const Nt=it||(j?ownerDocument(resolveAnchorEl(j)).body:void 0);return jsx(PopoverRoot,_extends({BackdropProps:{invisible:!0},className:clsx(yt.root,ot),container:Nt,open:lt,ref:i,ownerState:ft},xt,{children:jsx(ct,_extends({appear:!0,in:lt,onEntering:It,onExited:Rt,timeout:Pt},ht,{children:jsx(PopoverPaper,_extends({elevation:st},rt,{ref:vt,className:clsx(yt.paper,rt.className)},Ft?void 0:{style:_extends({},rt.style,{opacity:0})},{ownerState:ft,children:nt}))}))}))}),Popover$1=Popover;function getMenuUtilityClass(s){return generateUtilityClass("MuiMenu",s)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$O=["onEntering"],_excluded2=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$L=s=>{const{classes:o}=s;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,o)},MenuRoot=styled$1(Popover$1,{shouldForwardProp:s=>rootShouldForwardProp(s)||s==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(s,o)=>o.root})({}),MenuPaper=styled$1(Paper$1,{name:"MuiMenu",slot:"Paper",overridesResolver:(s,o)=>o.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled$1(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(s,o)=>o.list})({outline:0}),Menu=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiMenu"}),{autoFocus:$=!0,children:j,disableAutoFocusItem:_e=!1,MenuListProps:et={},onClose:tt,open:nt,PaperProps:ot={},PopoverClasses:it,transitionDuration:st="auto",TransitionProps:{onEntering:ut}={},variant:lt="selectedMenu"}=a,rt=_objectWithoutPropertiesLoose$5(a.TransitionProps,_excluded$O),dt=_objectWithoutPropertiesLoose$5(a,_excluded2),ct=useTheme(),pt=ct.direction==="rtl",at=_extends({},a,{autoFocus:$,disableAutoFocusItem:_e,MenuListProps:et,onEntering:ut,PaperProps:ot,transitionDuration:st,TransitionProps:rt,variant:lt}),ht=useUtilityClasses$L(at),xt=$&&!_e&&nt,gt=reactExports.useRef(null),vt=(mt,St)=>{gt.current&&gt.current.adjustStyleForScrollbar(mt,ct),ut&&ut(mt,St)},ft=mt=>{mt.key==="Tab"&&(mt.preventDefault(),tt&&tt(mt,"tabKeyDown"))};let yt=-1;return reactExports.Children.map(j,(mt,St)=>{reactExports.isValidElement(mt)&&(mt.props.disabled||(lt==="selectedMenu"&&mt.props.selected||yt===-1)&&(yt=St))}),jsx(MenuRoot,_extends({onClose:tt,anchorOrigin:{vertical:"bottom",horizontal:pt?"right":"left"},transformOrigin:pt?RTL_ORIGIN:LTR_ORIGIN,PaperProps:_extends({component:MenuPaper},ot,{classes:_extends({},ot.classes,{root:ht.paper})}),className:ht.root,open:nt,ref:i,transitionDuration:st,TransitionProps:_extends({onEntering:vt},rt),ownerState:at},dt,{classes:it,children:jsx(MenuMenuList,_extends({onKeyDown:ft,actions:gt,autoFocus:$&&(yt===-1||_e),autoFocusItem:xt,variant:lt},et,{className:clsx(ht.list,et.className),children:j}))}))}),Menu$1=Menu;function getNativeSelectUtilityClasses(s){return generateUtilityClass("MuiNativeSelect",s)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$N=["className","disabled","IconComponent","inputRef","variant"],useUtilityClasses$K=s=>{const{classes:o,variant:i,disabled:a,multiple:$,open:j}=s,_e={select:["select",i,a&&"disabled",$&&"multiple"],icon:["icon",`icon${capitalize(i)}`,j&&"iconOpen",a&&"disabled"]};return composeClasses(_e,getNativeSelectUtilityClasses,o)},nativeSelectSelectStyles=({ownerState:s,theme:o})=>_extends({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends({},o.vars?{backgroundColor:`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:o.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(o.vars||o).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},s.variant==="filled"&&{"&&&":{paddingRight:32}},s.variant==="outlined"&&{borderRadius:(o.vars||o).shape.borderRadius,"&:focus":{borderRadius:(o.vars||o).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled$1("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.select,o[i.variant],{[`&.${nativeSelectClasses$1.multiple}`]:o.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:s,theme:o})=>_extends({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(o.vars||o).palette.action.active,[`&.${nativeSelectClasses$1.disabled}`]:{color:(o.vars||o).palette.action.disabled}},s.open&&{transform:"rotate(180deg)"},s.variant==="filled"&&{right:7},s.variant==="outlined"&&{right:7}),NativeSelectIcon=styled$1("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.icon,i.variant&&o[`icon${capitalize(i.variant)}`],i.open&&o.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(o,i){const{className:a,disabled:$,IconComponent:j,inputRef:_e,variant:et="standard"}=o,tt=_objectWithoutPropertiesLoose$5(o,_excluded$N),nt=_extends({},o,{disabled:$,variant:et}),ot=useUtilityClasses$K(nt);return jsxs(reactExports.Fragment,{children:[jsx(NativeSelectSelect,_extends({ownerState:nt,className:clsx(ot.select,a),disabled:$,ref:_e||i},tt)),o.multiple?null:jsx(NativeSelectIcon,{as:j,ownerState:nt,className:ot.icon})]})}),NativeSelectInput$1=NativeSelectInput;function getSelectUtilityClasses(s){return generateUtilityClass("MuiSelect",s)}const selectClasses=generateUtilityClasses("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),selectClasses$1=selectClasses;var _span$1;const _excluded$M=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled$1("div",{name:"MuiSelect",slot:"Select",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[{[`&.${selectClasses$1.select}`]:o.select},{[`&.${selectClasses$1.select}`]:o[i.variant]},{[`&.${selectClasses$1.multiple}`]:o.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses$1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled$1("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.icon,i.variant&&o[`icon${capitalize(i.variant)}`],i.open&&o.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled$1("input",{shouldForwardProp:s=>slotShouldForwardProp(s)&&s!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(s,o)=>o.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(s,o){return typeof o=="object"&&o!==null?s===o:String(s)===String(o)}function isEmpty(s){return s==null||typeof s=="string"&&!s.trim()}const useUtilityClasses$J=s=>{const{classes:o,variant:i,disabled:a,multiple:$,open:j}=s,_e={select:["select",i,a&&"disabled",$&&"multiple"],icon:["icon",`icon${capitalize(i)}`,j&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(_e,getSelectUtilityClasses,o)},SelectInput=reactExports.forwardRef(function(o,i){const{"aria-describedby":a,"aria-label":$,autoFocus:j,autoWidth:_e,children:et,className:tt,defaultOpen:nt,defaultValue:ot,disabled:it,displayEmpty:st,IconComponent:ut,inputRef:lt,labelId:rt,MenuProps:dt={},multiple:ct,name:pt,onBlur:at,onChange:ht,onClose:xt,onFocus:gt,onOpen:vt,open:ft,readOnly:yt,renderValue:mt,SelectDisplayProps:St={},tabIndex:At,value:Ft,variant:Tt="standard"}=o,Dt=_objectWithoutPropertiesLoose$5(o,_excluded$M),[It,Rt]=useControlled({controlled:Ft,default:ot,name:"Select"}),[Pt,Nt]=useControlled({controlled:ft,default:nt,name:"Select"}),Lt=reactExports.useRef(null),zt=reactExports.useRef(null),[Mt,Et]=reactExports.useState(null),{current:Ct}=reactExports.useRef(ft!=null),[Ot,Ut]=reactExports.useState(),$t=useForkRef(i,lt),Bt=reactExports.useCallback(tn=>{zt.current=tn,tn&&Et(tn)},[]),Wt=Mt==null?void 0:Mt.parentNode;reactExports.useImperativeHandle($t,()=>({focus:()=>{zt.current.focus()},node:Lt.current,value:It}),[It]),reactExports.useEffect(()=>{nt&&Pt&&Mt&&!Ct&&(Ut(_e?null:Wt.clientWidth),zt.current.focus())},[Mt,_e]),reactExports.useEffect(()=>{j&&zt.current.focus()},[j]),reactExports.useEffect(()=>{if(!rt)return;const tn=ownerDocument(zt.current).getElementById(rt);if(tn){const bn=()=>{getSelection().isCollapsed&&zt.current.focus()};return tn.addEventListener("click",bn),()=>{tn.removeEventListener("click",bn)}}},[rt]);const Gt=(tn,bn)=>{tn?vt&&vt(bn):xt&&xt(bn),Ct||(Ut(_e?null:Wt.clientWidth),Nt(tn))},bt=tn=>{tn.button===0&&(tn.preventDefault(),zt.current.focus(),Gt(!0,tn))},wt=tn=>{Gt(!1,tn)},kt=reactExports.Children.toArray(et),jt=tn=>{const bn=kt.map(pn=>pn.props.value).indexOf(tn.target.value);if(bn===-1)return;const En=kt[bn];Rt(En.props.value),ht&&ht(tn,En)},Ht=tn=>bn=>{let En;if(bn.currentTarget.hasAttribute("tabindex")){if(ct){En=Array.isArray(It)?It.slice():[];const pn=It.indexOf(tn.props.value);pn===-1?En.push(tn.props.value):En.splice(pn,1)}else En=tn.props.value;if(tn.props.onClick&&tn.props.onClick(bn),It!==En&&(Rt(En),ht)){const pn=bn.nativeEvent||bn,vn=new pn.constructor(pn.type,pn);Object.defineProperty(vn,"target",{writable:!0,value:{value:En,name:pt}}),ht(vn,tn)}ct||Gt(!1,bn)}},Kt=tn=>{yt||[" ","ArrowUp","ArrowDown","Enter"].indexOf(tn.key)!==-1&&(tn.preventDefault(),Gt(!0,tn))},Zt=Mt!==null&&Pt,rn=tn=>{!Zt&&at&&(Object.defineProperty(tn,"target",{writable:!0,value:{value:It,name:pt}}),at(tn))};delete Dt["aria-invalid"];let qt,nn;const Xt=[];let sn=!1;(isFilled({value:It})||st)&&(mt?qt=mt(It):sn=!0);const ln=kt.map((tn,bn,En)=>{var pn,vn,wn,An;if(!reactExports.isValidElement(tn))return null;let on;if(ct){if(!Array.isArray(It))throw new Error(formatMuiErrorMessage(2));on=It.some(en=>areEqualValues(en,tn.props.value)),on&&sn&&Xt.push(tn.props.children)}else on=areEqualValues(It,tn.props.value),on&&sn&&(nn=tn.props.children);if(tn.props.value===void 0)return reactExports.cloneElement(tn,{"aria-readonly":!0,role:"option"});const dn=()=>{if(It)return on;const en=En.find(Qt=>{var Jt;return(Qt==null||(Jt=Qt.props)==null?void 0:Jt.value)!==void 0&&Qt.props.disabled!==!0});return tn===en?!0:on};return reactExports.cloneElement(tn,{"aria-selected":on?"true":"false",onClick:Ht(tn),onKeyUp:en=>{en.key===" "&&en.preventDefault(),tn.props.onKeyUp&&tn.props.onKeyUp(en)},role:"option",selected:((pn=En[0])==null||(vn=pn.props)==null?void 0:vn.value)===void 0||((wn=En[0])==null||(An=wn.props)==null?void 0:An.disabled)===!0?dn():on,value:void 0,"data-value":tn.props.value})});sn&&(ct?Xt.length===0?qt=null:qt=Xt.reduce((tn,bn,En)=>(tn.push(bn),En<Xt.length-1&&tn.push(", "),tn),[]):qt=nn);let Vt=Ot;!_e&&Ct&&Mt&&(Vt=Wt.clientWidth);let cn;typeof At<"u"?cn=At:cn=it?null:0;const xn=St.id||(pt?`mui-component-select-${pt}`:void 0),Cn=_extends({},o,{variant:Tt,value:It,open:Zt}),an=useUtilityClasses$J(Cn);return jsxs(reactExports.Fragment,{children:[jsx(SelectSelect,_extends({ref:Bt,tabIndex:cn,role:"button","aria-disabled":it?"true":void 0,"aria-expanded":Zt?"true":"false","aria-haspopup":"listbox","aria-label":$,"aria-labelledby":[rt,xn].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:Kt,onMouseDown:it||yt?null:bt,onBlur:rn,onFocus:gt},St,{ownerState:Cn,className:clsx(St.className,an.select,tt),id:xn,children:isEmpty(qt)?_span$1||(_span$1=jsx("span",{className:"notranslate",children:""})):qt})),jsx(SelectNativeInput,_extends({value:Array.isArray(It)?It.join(","):It,name:pt,ref:Lt,"aria-hidden":!0,onChange:jt,tabIndex:-1,disabled:it,className:an.nativeInput,autoFocus:j,ownerState:Cn},Dt)),jsx(SelectIcon,{as:ut,className:an.icon,ownerState:Cn}),jsx(Menu$1,_extends({id:`menu-${pt||""}`,anchorEl:Wt,open:Zt,onClose:wt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},dt,{MenuListProps:_extends({"aria-labelledby":rt,role:"listbox",disableListWrap:!0},dt.MenuListProps),PaperProps:_extends({},dt.PaperProps,{style:_extends({minWidth:Vt},dt.PaperProps!=null?dt.PaperProps.style:null)}),children:ln}))]})}),SelectInput$1=SelectInput;function getSvgIconUtilityClass(s){return generateUtilityClass("MuiSvgIcon",s)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$L=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$I=s=>{const{color:o,fontSize:i,classes:a}=s,$={root:["root",o!=="inherit"&&`color${capitalize(o)}`,`fontSize${capitalize(i)}`]};return composeClasses($,getSvgIconUtilityClass,a)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,i.color!=="inherit"&&o[`color${capitalize(i.color)}`],o[`fontSize${capitalize(i.fontSize)}`]]}})(({theme:s,ownerState:o})=>{var i,a,$,j,_e,et,tt,nt,ot,it,st,ut,lt,rt,dt,ct,pt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(i=s.transitions)==null||(a=i.create)==null?void 0:a.call(i,"fill",{duration:($=s.transitions)==null||(j=$.duration)==null?void 0:j.shorter}),fontSize:{inherit:"inherit",small:((_e=s.typography)==null||(et=_e.pxToRem)==null?void 0:et.call(_e,20))||"1.25rem",medium:((tt=s.typography)==null||(nt=tt.pxToRem)==null?void 0:nt.call(tt,24))||"1.5rem",large:((ot=s.typography)==null||(it=ot.pxToRem)==null?void 0:it.call(ot,35))||"2.1875rem"}[o.fontSize],color:(st=(ut=(s.vars||s).palette)==null||(lt=ut[o.color])==null?void 0:lt.main)!=null?st:{action:(rt=(s.vars||s).palette)==null||(dt=rt.action)==null?void 0:dt.active,disabled:(ct=(s.vars||s).palette)==null||(pt=ct.action)==null?void 0:pt.disabled,inherit:void 0}[o.color]}}),SvgIcon=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiSvgIcon"}),{children:$,className:j,color:_e="inherit",component:et="svg",fontSize:tt="medium",htmlColor:nt,inheritViewBox:ot=!1,titleAccess:it,viewBox:st="0 0 24 24"}=a,ut=_objectWithoutPropertiesLoose$5(a,_excluded$L),lt=_extends({},a,{color:_e,component:et,fontSize:tt,instanceFontSize:o.fontSize,inheritViewBox:ot,viewBox:st}),rt={};ot||(rt.viewBox=st);const dt=useUtilityClasses$I(lt);return jsxs(SvgIconRoot,_extends({as:et,className:clsx(dt.root,j),focusable:"false",color:nt,"aria-hidden":it?void 0:!0,role:it?"img":void 0,ref:i},rt,ut,{ownerState:lt,children:[$,it?jsx("title",{children:it}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(s,o){function i(a,$){return jsx(SvgIcon$1,_extends({"data-testid":`${o}Icon`,ref:$},a,{children:s}))}return i.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(i))}const ArrowDropDownIcon=createSvgIcon$1(jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var _StyledInput,_StyledFilledInput;const _excluded$K=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],useUtilityClasses$H=s=>{const{classes:o}=s;return o},styledRootConfig={name:"MuiSelect",overridesResolver:(s,o)=>o.root,shouldForwardProp:s=>rootShouldForwardProp(s)&&s!=="variant",slot:"Root"},StyledInput=styled$1(Input$1,styledRootConfig)(""),StyledOutlinedInput=styled$1(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled$1(FilledInput$1,styledRootConfig)(""),Select=reactExports.forwardRef(function(o,i){const a=useThemeProps({name:"MuiSelect",props:o}),{autoWidth:$=!1,children:j,classes:_e={},className:et,defaultOpen:tt=!1,displayEmpty:nt=!1,IconComponent:ot=ArrowDropDownIcon,id:it,input:st,inputProps:ut,label:lt,labelId:rt,MenuProps:dt,multiple:ct=!1,native:pt=!1,onClose:at,onOpen:ht,open:xt,renderValue:gt,SelectDisplayProps:vt,variant:ft="outlined"}=a,yt=_objectWithoutPropertiesLoose$5(a,_excluded$K),mt=pt?NativeSelectInput$1:SelectInput$1,St=useFormControl(),Ft=formControlState({props:a,muiFormControl:St,states:["variant"]}).variant||ft,Tt=st||{standard:_StyledInput||(_StyledInput=jsx(StyledInput,{})),outlined:jsx(StyledOutlinedInput,{label:lt}),filled:_StyledFilledInput||(_StyledFilledInput=jsx(StyledFilledInput,{}))}[Ft],Dt=_extends({},a,{variant:Ft,classes:_e}),It=useUtilityClasses$H(Dt),Rt=useForkRef(i,Tt.ref);return jsx(reactExports.Fragment,{children:reactExports.cloneElement(Tt,_extends({inputComponent:mt,inputProps:_extends({children:j,IconComponent:ot,variant:Ft,type:void 0,multiple:ct},pt?{id:it}:{autoWidth:$,defaultOpen:tt,displayEmpty:nt,labelId:rt,MenuProps:dt,onClose:at,onOpen:ht,open:xt,renderValue:gt,SelectDisplayProps:_extends({id:it},vt)},ut,{classes:ut?deepmerge(It,ut.classes):It},st?st.props.inputProps:{})},ct&&pt&&Ft==="outlined"?{notched:!0}:{},{ref:Rt,className:clsx(Tt.props.className,et)},!st&&{variant:Ft},yt))})});Select.muiName="Select";const Select$1=Select;function getTextFieldUtilityClass(s){return generateUtilityClass("MuiTextField",s)}generateUtilityClasses("MuiTextField",["root"]);const _excluded$J=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$1,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses$G=s=>{const{classes:o}=s;return composeClasses({root:["root"]},getTextFieldUtilityClass,o)},TextFieldRoot=styled$1(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(s,o)=>o.root})({}),TextField=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiTextField"}),{autoComplete:$,autoFocus:j=!1,children:_e,className:et,color:tt="primary",defaultValue:nt,disabled:ot=!1,error:it=!1,FormHelperTextProps:st,fullWidth:ut=!1,helperText:lt,id:rt,InputLabelProps:dt,inputProps:ct,InputProps:pt,inputRef:at,label:ht,maxRows:xt,minRows:gt,multiline:vt=!1,name:ft,onBlur:yt,onChange:mt,onFocus:St,placeholder:At,required:Ft=!1,rows:Tt,select:Dt=!1,SelectProps:It,type:Rt,value:Pt,variant:Nt="outlined"}=a,Lt=_objectWithoutPropertiesLoose$5(a,_excluded$J),zt=_extends({},a,{autoFocus:j,color:tt,disabled:ot,error:it,fullWidth:ut,multiline:vt,required:Ft,select:Dt,variant:Nt}),Mt=useUtilityClasses$G(zt),Et={};Nt==="outlined"&&(dt&&typeof dt.shrink<"u"&&(Et.notched=dt.shrink),Et.label=ht),Dt&&((!It||!It.native)&&(Et.id=void 0),Et["aria-describedby"]=void 0);const Ct=useId(rt),Ot=lt&&Ct?`${Ct}-helper-text`:void 0,Ut=ht&&Ct?`${Ct}-label`:void 0,$t=variantComponent[Nt],Bt=jsx($t,_extends({"aria-describedby":Ot,autoComplete:$,autoFocus:j,defaultValue:nt,fullWidth:ut,multiline:vt,name:ft,rows:Tt,maxRows:xt,minRows:gt,type:Rt,value:Pt,id:Ct,inputRef:at,onBlur:yt,onChange:mt,onFocus:St,placeholder:At,inputProps:ct},Et,pt));return jsxs(TextFieldRoot,_extends({className:clsx(Mt.root,et),disabled:ot,error:it,fullWidth:ut,ref:i,required:Ft,color:tt,variant:Nt,ownerState:zt},Lt,{children:[ht!=null&&ht!==""&&jsx(InputLabel$1,_extends({htmlFor:Ct,id:Ut},dt,{children:ht})),Dt?jsx(Select$1,_extends({"aria-describedby":Ot,id:Ct,labelId:Ut,value:Pt,input:Bt},It,{children:_e})):Bt,lt&&jsx(FormHelperText$1,_extends({id:Ot},st,{children:lt}))]}))}),TextField$1=TextField,getPickersLocalization=s=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:_extends({},s)}}}}),enUSPickers={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:s=>s==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",inputModeToggleButtonAriaLabel:(s,o)=>s?`text input view is open, go to ${o} view`:`${o} view is open, go to text input view`,start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerDefaultToolbarTitle:"Select date",dateTimePickerDefaultToolbarTitle:"Select date & time",timePickerDefaultToolbarTitle:"Select time",dateRangePickerDefaultToolbarTitle:"Select date range",clockLabelText:(s,o,i)=>`Select ${s}. ${o===null?"No time selected":`Selected time is ${i.format(o,"fullTime")}`}`,hoursClockNumberText:s=>`${s} hours`,minutesClockNumberText:s=>`${s} minutes`,secondsClockNumberText:s=>`${s} seconds`,openDatePickerDialogue:(s,o)=>s&&o.isValid(o.date(s))?`Choose date, selected date is ${o.format(o.date(s),"fullDate")}`:"Choose date",openTimePickerDialogue:(s,o)=>s&&o.isValid(o.date(s))?`Choose time, selected time is ${o.format(o.date(s),"fullTime")}`:"Choose time",timeTableLabel:"pick time",dateTableLabel:"pick date"},DEFAULT_LOCALE=enUSPickers;getPickersLocalization(enUSPickers);const MuiPickersAdapterContext=reactExports.createContext(null);function LocalizationProvider(s){const o=useThemeProps({props:s,name:"MuiLocalizationProvider"}),{children:i,dateAdapter:a,dateFormats:$,dateLibInstance:j,locale:_e,adapterLocale:et,localeText:tt}=o,nt=reactExports.useMemo(()=>new a({locale:et??_e,formats:$,instance:j}),[a,_e,et,$,j]),ot=reactExports.useMemo(()=>({minDate:nt.date("1900-01-01T00:00:00.000"),maxDate:nt.date("2099-12-31T00:00:00.000")}),[nt]),it=reactExports.useMemo(()=>({utils:nt,defaultDates:ot,localeText:_extends({},DEFAULT_LOCALE,tt??{})}),[ot,nt,tt]);return jsx(MuiPickersAdapterContext.Provider,{value:it,children:i})}var customParseFormatExports={},customParseFormat={get exports(){return customParseFormatExports},set exports(s){customParseFormatExports=s}};(function(s,o){(function(i,a){s.exports=a()})(commonjsGlobal,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,$=/\d\d/,j=/\d\d?/,_e=/\d*[^-_:/,()\s\d]+/,et={},tt=function(rt){return(rt=+rt)+(rt>68?1900:2e3)},nt=function(rt){return function(dt){this[rt]=+dt}},ot=[/[+-]\d\d:?(\d\d)?|Z/,function(rt){(this.zone||(this.zone={})).offset=function(dt){if(!dt||dt==="Z")return 0;var ct=dt.match(/([+-]|\d\d)/g),pt=60*ct[1]+(+ct[2]||0);return pt===0?0:ct[0]==="+"?-pt:pt}(rt)}],it=function(rt){var dt=et[rt];return dt&&(dt.indexOf?dt:dt.s.concat(dt.f))},st=function(rt,dt){var ct,pt=et.meridiem;if(pt){for(var at=1;at<=24;at+=1)if(rt.indexOf(pt(at,0,dt))>-1){ct=at>12;break}}else ct=rt===(dt?"pm":"PM");return ct},ut={A:[_e,function(rt){this.afternoon=st(rt,!1)}],a:[_e,function(rt){this.afternoon=st(rt,!0)}],S:[/\d/,function(rt){this.milliseconds=100*+rt}],SS:[$,function(rt){this.milliseconds=10*+rt}],SSS:[/\d{3}/,function(rt){this.milliseconds=+rt}],s:[j,nt("seconds")],ss:[j,nt("seconds")],m:[j,nt("minutes")],mm:[j,nt("minutes")],H:[j,nt("hours")],h:[j,nt("hours")],HH:[j,nt("hours")],hh:[j,nt("hours")],D:[j,nt("day")],DD:[$,nt("day")],Do:[_e,function(rt){var dt=et.ordinal,ct=rt.match(/\d+/);if(this.day=ct[0],dt)for(var pt=1;pt<=31;pt+=1)dt(pt).replace(/\[|\]/g,"")===rt&&(this.day=pt)}],M:[j,nt("month")],MM:[$,nt("month")],MMM:[_e,function(rt){var dt=it("months"),ct=(it("monthsShort")||dt.map(function(pt){return pt.slice(0,3)})).indexOf(rt)+1;if(ct<1)throw new Error;this.month=ct%12||ct}],MMMM:[_e,function(rt){var dt=it("months").indexOf(rt)+1;if(dt<1)throw new Error;this.month=dt%12||dt}],Y:[/[+-]?\d+/,nt("year")],YY:[$,function(rt){this.year=tt(rt)}],YYYY:[/\d{4}/,nt("year")],Z:ot,ZZ:ot};function lt(rt){var dt,ct;dt=rt,ct=et&&et.formats;for(var pt=(rt=dt.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(yt,mt,St){var At=St&&St.toUpperCase();return mt||ct[St]||i[St]||ct[At].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Ft,Tt,Dt){return Tt||Dt.slice(1)})})).match(a),at=pt.length,ht=0;ht<at;ht+=1){var xt=pt[ht],gt=ut[xt],vt=gt&&gt[0],ft=gt&&gt[1];pt[ht]=ft?{regex:vt,parser:ft}:xt.replace(/^\[|\]$/g,"")}return function(yt){for(var mt={},St=0,At=0;St<at;St+=1){var Ft=pt[St];if(typeof Ft=="string")At+=Ft.length;else{var Tt=Ft.regex,Dt=Ft.parser,It=yt.slice(At),Rt=Tt.exec(It)[0];Dt.call(mt,Rt),yt=yt.replace(Rt,"")}}return function(Pt){var Nt=Pt.afternoon;if(Nt!==void 0){var Lt=Pt.hours;Nt?Lt<12&&(Pt.hours+=12):Lt===12&&(Pt.hours=0),delete Pt.afternoon}}(mt),mt}}return function(rt,dt,ct){ct.p.customParseFormat=!0,rt&&rt.parseTwoDigitYear&&(tt=rt.parseTwoDigitYear);var pt=dt.prototype,at=pt.parse;pt.parse=function(ht){var xt=ht.date,gt=ht.utc,vt=ht.args;this.$u=gt;var ft=vt[1];if(typeof ft=="string"){var yt=vt[2]===!0,mt=vt[3]===!0,St=yt||mt,At=vt[2];mt&&(At=vt[2]),et=this.$locale(),!yt&&At&&(et=ct.Ls[At]),this.$d=function(It,Rt,Pt){try{if(["x","X"].indexOf(Rt)>-1)return new Date((Rt==="X"?1e3:1)*It);var Nt=lt(Rt)(It),Lt=Nt.year,zt=Nt.month,Mt=Nt.day,Et=Nt.hours,Ct=Nt.minutes,Ot=Nt.seconds,Ut=Nt.milliseconds,$t=Nt.zone,Bt=new Date,Wt=Mt||(Lt||zt?1:Bt.getDate()),Gt=Lt||Bt.getFullYear(),bt=0;Lt&&!zt||(bt=zt>0?zt-1:Bt.getMonth());var wt=Et||0,kt=Ct||0,jt=Ot||0,Ht=Ut||0;return $t?new Date(Date.UTC(Gt,bt,Wt,wt,kt,jt,Ht+60*$t.offset*1e3)):Pt?new Date(Date.UTC(Gt,bt,Wt,wt,kt,jt,Ht)):new Date(Gt,bt,Wt,wt,kt,jt,Ht)}catch{return new Date("")}}(xt,ft,gt),this.init(),At&&At!==!0&&(this.$L=this.locale(At).$L),St&&xt!=this.format(ft)&&(this.$d=new Date("")),et={}}else if(ft instanceof Array)for(var Ft=ft.length,Tt=1;Tt<=Ft;Tt+=1){vt[1]=ft[Tt-1];var Dt=ct.apply(this,vt);if(Dt.isValid()){this.$d=Dt.$d,this.$L=Dt.$L,this.init();break}Tt===Ft&&(this.$d=new Date(""))}else at.call(this,ht)}}})})(customParseFormat);const customParseFormatPlugin=customParseFormatExports;var localizedFormatExports={},localizedFormat={get exports(){return localizedFormatExports},set exports(s){localizedFormatExports=s}};(function(s,o){(function(i,a){s.exports=a()})(commonjsGlobal,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,$,j){var _e=$.prototype,et=_e.format;j.en.formats=i,_e.format=function(tt){tt===void 0&&(tt="YYYY-MM-DDTHH:mm:ssZ");var nt=this.$locale().formats,ot=function(it,st){return it.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ut,lt,rt){var dt=rt&&rt.toUpperCase();return lt||st[rt]||i[rt]||st[dt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ct,pt,at){return pt||at.slice(1)})})}(tt,nt===void 0?{}:nt);return et.call(this,ot)}}})})(localizedFormat);const localizedFormatPlugin=localizedFormatExports;var isBetweenExports={},isBetween={get exports(){return isBetweenExports},set exports(s){isBetweenExports=s}};(function(s,o){(function(i,a){s.exports=a()})(commonjsGlobal,function(){return function(i,a,$){a.prototype.isBetween=function(j,_e,et,tt){var nt=$(j),ot=$(_e),it=(tt=tt||"()")[0]==="(",st=tt[1]===")";return(it?this.isAfter(nt,et):!this.isBefore(nt,et))&&(st?this.isBefore(ot,et):!this.isAfter(ot,et))||(it?this.isBefore(nt,et):!this.isAfter(nt,et))&&(st?this.isAfter(ot,et):!this.isBefore(ot,et))}}})})(isBetween);const isBetweenPlugin=isBetweenExports;dayjs.extend(customParseFormatPlugin);dayjs.extend(localizedFormatPlugin);dayjs.extend(isBetweenPlugin);var withLocale=function(s,o){return o?function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return s.apply(void 0,i).locale(o)}:s},defaultFormats={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},DayjsUtils=function(){function s(o){var i=this,a=o===void 0?{}:o,$=a.locale,j=a.formats,_e=a.instance;this.lib="dayjs",this.is12HourCycleInCurrentLocale=function(){var et,tt;return/A|a/.test((tt=(et=i.rawDayJsInstance.Ls[i.locale||"en"])===null||et===void 0?void 0:et.formats)===null||tt===void 0?void 0:tt.LT)},this.getCurrentLocaleCode=function(){return i.locale||"en"},this.getFormatHelperText=function(et){var tt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?)|./g;return et.match(tt).map(function(nt){var ot,it,st=nt[0];return st==="L"&&(it=(ot=i.rawDayJsInstance.Ls[i.locale||"en"])===null||ot===void 0?void 0:ot.formats[nt])!==null&&it!==void 0?it:nt}).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase()},this.parseISO=function(et){return i.dayjs(et)},this.toISO=function(et){return et.toISOString()},this.parse=function(et,tt){return et===""?null:i.dayjs(et,tt,i.locale,!0)},this.date=function(et){return et===null?null:i.dayjs(et)},this.toJsDate=function(et){return et.toDate()},this.isValid=function(et){return i.dayjs(et).isValid()},this.isNull=function(et){return et===null},this.getDiff=function(et,tt,nt){return et.diff(tt,nt)},this.isAfter=function(et,tt){return et.isAfter(tt)},this.isBefore=function(et,tt){return et.isBefore(tt)},this.isAfterDay=function(et,tt){return et.isAfter(tt,"day")},this.isBeforeDay=function(et,tt){return et.isBefore(tt,"day")},this.isBeforeYear=function(et,tt){return et.isBefore(tt,"year")},this.isAfterYear=function(et,tt){return et.isAfter(tt,"year")},this.startOfDay=function(et){return et.startOf("day")},this.endOfDay=function(et){return et.endOf("day")},this.format=function(et,tt){return i.formatByString(et,i.formats[tt])},this.formatByString=function(et,tt){return i.dayjs(et).format(tt)},this.formatNumber=function(et){return et},this.getHours=function(et){return et.hour()},this.addSeconds=function(et,tt){return tt<0?et.subtract(Math.abs(tt),"second"):et.add(tt,"second")},this.addMinutes=function(et,tt){return tt<0?et.subtract(Math.abs(tt),"minute"):et.add(tt,"minute")},this.addHours=function(et,tt){return tt<0?et.subtract(Math.abs(tt),"hour"):et.add(tt,"hour")},this.addDays=function(et,tt){return tt<0?et.subtract(Math.abs(tt),"day"):et.add(tt,"day")},this.addWeeks=function(et,tt){return tt<0?et.subtract(Math.abs(tt),"week"):et.add(tt,"week")},this.addMonths=function(et,tt){return tt<0?et.subtract(Math.abs(tt),"month"):et.add(tt,"month")},this.addYears=function(et,tt){return tt<0?et.subtract(Math.abs(tt),"year"):et.add(tt,"year")},this.setMonth=function(et,tt){return et.set("month",tt)},this.setHours=function(et,tt){return et.set("hour",tt)},this.getMinutes=function(et){return et.minute()},this.setMinutes=function(et,tt){return et.set("minute",tt)},this.getSeconds=function(et){return et.second()},this.setSeconds=function(et,tt){return et.set("second",tt)},this.getMonth=function(et){return et.month()},this.getDate=function(et){return et.date()},this.setDate=function(et,tt){return et.set("date",tt)},this.getDaysInMonth=function(et){return et.daysInMonth()},this.isSameDay=function(et,tt){return et.isSame(tt,"day")},this.isSameMonth=function(et,tt){return et.isSame(tt,"month")},this.isSameYear=function(et,tt){return et.isSame(tt,"year")},this.isSameHour=function(et,tt){return et.isSame(tt,"hour")},this.getMeridiemText=function(et){return et==="am"?"AM":"PM"},this.startOfYear=function(et){return et.startOf("year")},this.endOfYear=function(et){return et.endOf("year")},this.startOfMonth=function(et){return et.startOf("month")},this.endOfMonth=function(et){return et.endOf("month")},this.startOfWeek=function(et){return et.startOf("week")},this.endOfWeek=function(et){return et.endOf("week")},this.getNextMonth=function(et){return et.add(1,"month")},this.getPreviousMonth=function(et){return et.subtract(1,"month")},this.getMonthArray=function(et){for(var tt=et.startOf("year"),nt=[tt];nt.length<12;){var ot=nt[nt.length-1];nt.push(i.getNextMonth(ot))}return nt},this.getYear=function(et){return et.year()},this.setYear=function(et,tt){return et.set("year",tt)},this.mergeDateAndTime=function(et,tt){return et.hour(tt.hour()).minute(tt.minute()).second(tt.second())},this.getWeekdays=function(){var et=i.dayjs().startOf("week");return[0,1,2,3,4,5,6].map(function(tt){return i.formatByString(et.add(tt,"day"),"dd")})},this.isEqual=function(et,tt){return et===null&&tt===null?!0:i.dayjs(et).isSame(tt)},this.getWeekArray=function(et){for(var tt=i.dayjs(et).startOf("month").startOf("week"),nt=i.dayjs(et).endOf("month").endOf("week"),ot=0,it=tt,st=[];it.isBefore(nt);){var ut=Math.floor(ot/7);st[ut]=st[ut]||[],st[ut].push(it),it=it.add(1,"day"),ot+=1}return st},this.getYearRange=function(et,tt){for(var nt=i.dayjs(et).startOf("year"),ot=i.dayjs(tt).endOf("year"),it=[],st=nt;st.isBefore(ot);)it.push(st),st=st.add(1,"year");return it},this.isWithinRange=function(et,tt){var nt=tt[0],ot=tt[1];return et.isBetween(nt,ot,null,"[]")},this.rawDayJsInstance=_e||dayjs,this.dayjs=withLocale(this.rawDayJsInstance,$),this.locale=$,this.formats=Object.assign({},defaultFormats,j)}return s}();const formatTokenMap={YY:"year",YYYY:"year",M:"month",MM:"month",MMM:"month",MMMM:"month",D:"day",DD:"day",H:"hour",HH:"hour",h:"hour",hh:"hour",m:"minute",mm:"minute",s:"second",ss:"second",A:"am-pm",a:"am-pm"};class AdapterDayjs extends DayjsUtils{constructor(...o){super(...o),this.formatTokenMap=formatTokenMap,this.expandFormat=i=>{var a;const $=(a=this.rawDayJsInstance.Ls[this.locale||"en"])==null?void 0:a.formats,j=_e=>_e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(et,tt,nt)=>tt||nt.slice(1));return i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(_e,et,tt)=>{const nt=tt&&tt.toUpperCase();return et||$[tt]||j($[nt])})},this.getFormatHelperText=i=>this.expandFormat(i).replace(/a/gi,"(a|p)m").toLocaleLowerCase()}}const useLocalizationContext=()=>{const s=reactExports.useContext(MuiPickersAdapterContext);if(s===null)throw new Error("MUI: Can not find utils in context. It looks like you forgot to wrap your component in LocalizationProvider, or pass dateAdapter prop directly.");return s},useUtils=()=>useLocalizationContext().utils,useDefaultDates=()=>useLocalizationContext().defaultDates,useLocaleText=()=>useLocalizationContext().localeText,useNow=()=>{const s=useUtils();return reactExports.useRef(s.date()).current},findClosestEnabledDate=({date:s,disableFuture:o,disablePast:i,maxDate:a,minDate:$,isDateDisabled:j,utils:_e})=>{const et=_e.startOfDay(_e.date());i&&_e.isBefore($,et)&&($=et),o&&_e.isAfter(a,et)&&(a=et);let tt=s,nt=s;for(_e.isBefore(s,$)&&(tt=_e.date($),nt=null),_e.isAfter(s,a)&&(nt&&(nt=_e.date(a)),tt=null);tt||nt;){if(tt&&_e.isAfter(tt,a)&&(tt=null),nt&&_e.isBefore(nt,$)&&(nt=null),tt){if(!j(tt))return tt;tt=_e.addDays(tt,1)}if(nt){if(!j(nt))return nt;nt=_e.addDays(nt,-1)}}return null},parsePickerInputValue=(s,o)=>{const i=s.date(o);return s.isValid(i)?i:null},parseNonNullablePickerDate=(s,o,i)=>{if(o==null)return i;const a=s.date(o);return s.isValid(a)?a:i},isYearOnlyView=s=>s.length===1&&s[0]==="year",isYearAndMonthViews=s=>s.length===2&&s.indexOf("month")!==-1&&s.indexOf("year")!==-1,getFormatAndMaskByViews=(s,o)=>isYearOnlyView(s)?{inputFormat:o.formats.year}:isYearAndMonthViews(s)?{disableMaskedInput:!0,inputFormat:o.formats.monthAndYear}:{inputFormat:o.formats.keyboardDate};function useDatePickerDefaultizedProps(s,o){var i;const a=useUtils(),$=useDefaultDates(),j=useThemeProps({props:s,name:o}),_e=(i=j.views)!=null?i:["year","day"];return _extends({openTo:"day",disableFuture:!1,disablePast:!1},getFormatAndMaskByViews(_e,a),j,{views:_e,minDate:parseNonNullablePickerDate(a,j.minDate,$.minDate),maxDate:parseNonNullablePickerDate(a,j.maxDate,$.maxDate)})}const datePickerValueManager={emptyValue:null,getTodayValue:s=>s.date(),parseInput:parsePickerInputValue,areValuesEqual:(s,o,i)=>s.isEqual(o,i)};function getTypographyUtilityClass(s){return generateUtilityClass("MuiTypography",s)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$I=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$F=s=>{const{align:o,gutterBottom:i,noWrap:a,paragraph:$,variant:j,classes:_e}=s,et={root:["root",j,s.align!=="inherit"&&`align${capitalize(o)}`,i&&"gutterBottom",a&&"noWrap",$&&"paragraph"]};return composeClasses(et,getTypographyUtilityClass,_e)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,i.variant&&o[i.variant],i.align!=="inherit"&&o[`align${capitalize(i.align)}`],i.noWrap&&o.noWrap,i.gutterBottom&&o.gutterBottom,i.paragraph&&o.paragraph]}})(({theme:s,ownerState:o})=>_extends({margin:0},o.variant&&s.typography[o.variant],o.align!=="inherit"&&{textAlign:o.align},o.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o.gutterBottom&&{marginBottom:"0.35em"},o.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=s=>colorTransformations[s]||s,Typography=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiTypography"}),$=transformDeprecatedColors(a.color),j=extendSxProp(_extends({},a,{color:$})),{align:_e="inherit",className:et,component:tt,gutterBottom:nt=!1,noWrap:ot=!1,paragraph:it=!1,variant:st="body1",variantMapping:ut=defaultVariantMapping}=j,lt=_objectWithoutPropertiesLoose$5(j,_excluded$I),rt=_extends({},j,{align:_e,color:$,className:et,component:tt,gutterBottom:nt,noWrap:ot,paragraph:it,variant:st,variantMapping:ut}),dt=tt||(it?"p":ut[st]||defaultVariantMapping[st])||"span",ct=useUtilityClasses$F(rt);return jsx(TypographyRoot,_extends({as:dt,ref:i,ownerState:rt,className:clsx(ct.root,et)},lt))}),Typography$1=Typography,unstable_ClassNameGenerator={configure:s=>{ClassNameGenerator$1.configure(s)}},utils=Object.freeze(Object.defineProperty({__proto__:null,capitalize,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function Ripple(s){const{className:o,classes:i,pulsate:a=!1,rippleX:$,rippleY:j,rippleSize:_e,in:et,onExited:tt,timeout:nt}=s,[ot,it]=reactExports.useState(!1),st=clsx(o,i.ripple,i.rippleVisible,a&&i.ripplePulsate),ut={width:_e,height:_e,top:-(_e/2)+j,left:-(_e/2)+$},lt=clsx(i.child,ot&&i.childLeaving,a&&i.childPulsate);return!et&&!ot&&it(!0),reactExports.useEffect(()=>{if(!et&&tt!=null){const rt=setTimeout(tt,nt);return()=>{clearTimeout(rt)}}},[tt,et,nt]),jsx("span",{className:st,style:ut,children:jsx("span",{className:lt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$H=["center","classes","className"];let _=s=>s,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:s})=>s.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:s})=>s.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:s})=>s.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:s})=>s.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiTouchRipple"}),{center:$=!1,classes:j={},className:_e}=a,et=_objectWithoutPropertiesLoose$5(a,_excluded$H),[tt,nt]=reactExports.useState([]),ot=reactExports.useRef(0),it=reactExports.useRef(null);reactExports.useEffect(()=>{it.current&&(it.current(),it.current=null)},[tt]);const st=reactExports.useRef(!1),ut=reactExports.useRef(null),lt=reactExports.useRef(null),rt=reactExports.useRef(null);reactExports.useEffect(()=>()=>{clearTimeout(ut.current)},[]);const dt=reactExports.useCallback(ht=>{const{pulsate:xt,rippleX:gt,rippleY:vt,rippleSize:ft,cb:yt}=ht;nt(mt=>[...mt,jsx(TouchRippleRipple,{classes:{ripple:clsx(j.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(j.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(j.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(j.child,touchRippleClasses$1.child),childLeaving:clsx(j.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(j.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:xt,rippleX:gt,rippleY:vt,rippleSize:ft},ot.current)]),ot.current+=1,it.current=yt},[j]),ct=reactExports.useCallback((ht={},xt={},gt=()=>{})=>{const{pulsate:vt=!1,center:ft=$||xt.pulsate,fakeElement:yt=!1}=xt;if((ht==null?void 0:ht.type)==="mousedown"&&st.current){st.current=!1;return}(ht==null?void 0:ht.type)==="touchstart"&&(st.current=!0);const mt=yt?null:rt.current,St=mt?mt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let At,Ft,Tt;if(ft||ht===void 0||ht.clientX===0&&ht.clientY===0||!ht.clientX&&!ht.touches)At=Math.round(St.width/2),Ft=Math.round(St.height/2);else{const{clientX:Dt,clientY:It}=ht.touches&&ht.touches.length>0?ht.touches[0]:ht;At=Math.round(Dt-St.left),Ft=Math.round(It-St.top)}if(ft)Tt=Math.sqrt((2*St.width**2+St.height**2)/3),Tt%2===0&&(Tt+=1);else{const Dt=Math.max(Math.abs((mt?mt.clientWidth:0)-At),At)*2+2,It=Math.max(Math.abs((mt?mt.clientHeight:0)-Ft),Ft)*2+2;Tt=Math.sqrt(Dt**2+It**2)}ht!=null&&ht.touches?lt.current===null&&(lt.current=()=>{dt({pulsate:vt,rippleX:At,rippleY:Ft,rippleSize:Tt,cb:gt})},ut.current=setTimeout(()=>{lt.current&&(lt.current(),lt.current=null)},DELAY_RIPPLE)):dt({pulsate:vt,rippleX:At,rippleY:Ft,rippleSize:Tt,cb:gt})},[$,dt]),pt=reactExports.useCallback(()=>{ct({},{pulsate:!0})},[ct]),at=reactExports.useCallback((ht,xt)=>{if(clearTimeout(ut.current),(ht==null?void 0:ht.type)==="touchend"&&lt.current){lt.current(),lt.current=null,ut.current=setTimeout(()=>{at(ht,xt)});return}lt.current=null,nt(gt=>gt.length>0?gt.slice(1):gt),it.current=xt},[]);return reactExports.useImperativeHandle(i,()=>({pulsate:pt,start:ct,stop:at}),[pt,ct,at]),jsx(TouchRippleRoot,_extends({className:clsx(touchRippleClasses$1.root,j.root,_e),ref:rt},et,{children:jsx(TransitionGroup$1,{component:null,exit:!0,children:tt})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(s){return generateUtilityClass("MuiButtonBase",s)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$G=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$E=s=>{const{disabled:o,focusVisible:i,focusVisibleClassName:a,classes:$}=s,_e=composeClasses({root:["root",o&&"disabled",i&&"focusVisible"]},getButtonBaseUtilityClass,$);return i&&a&&(_e.root+=` ${a}`),_e},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(s,o)=>o.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiButtonBase"}),{action:$,centerRipple:j=!1,children:_e,className:et,component:tt="button",disabled:nt=!1,disableRipple:ot=!1,disableTouchRipple:it=!1,focusRipple:st=!1,LinkComponent:ut="a",onBlur:lt,onClick:rt,onContextMenu:dt,onDragLeave:ct,onFocus:pt,onFocusVisible:at,onKeyDown:ht,onKeyUp:xt,onMouseDown:gt,onMouseLeave:vt,onMouseUp:ft,onTouchEnd:yt,onTouchMove:mt,onTouchStart:St,tabIndex:At=0,TouchRippleProps:Ft,touchRippleRef:Tt,type:Dt}=a,It=_objectWithoutPropertiesLoose$5(a,_excluded$G),Rt=reactExports.useRef(null),Pt=reactExports.useRef(null),Nt=useForkRef(Pt,Tt),{isFocusVisibleRef:Lt,onFocus:zt,onBlur:Mt,ref:Et}=useIsFocusVisible(),[Ct,Ot]=reactExports.useState(!1);nt&&Ct&&Ot(!1),reactExports.useImperativeHandle($,()=>({focusVisible:()=>{Ot(!0),Rt.current.focus()}}),[]);const[Ut,$t]=reactExports.useState(!1);reactExports.useEffect(()=>{$t(!0)},[]);const Bt=Ut&&!ot&&!nt;reactExports.useEffect(()=>{Ct&&st&&!ot&&Ut&&Pt.current.pulsate()},[ot,st,Ct,Ut]);function Wt(tn,bn,En=it){return useEventCallback(pn=>(bn&&bn(pn),!En&&Pt.current&&Pt.current[tn](pn),!0))}const Gt=Wt("start",gt),bt=Wt("stop",dt),wt=Wt("stop",ct),kt=Wt("stop",ft),jt=Wt("stop",tn=>{Ct&&tn.preventDefault(),vt&&vt(tn)}),Ht=Wt("start",St),Kt=Wt("stop",yt),Zt=Wt("stop",mt),rn=Wt("stop",tn=>{Mt(tn),Lt.current===!1&&Ot(!1),lt&&lt(tn)},!1),qt=useEventCallback(tn=>{Rt.current||(Rt.current=tn.currentTarget),zt(tn),Lt.current===!0&&(Ot(!0),at&&at(tn)),pt&&pt(tn)}),nn=()=>{const tn=Rt.current;return tt&&tt!=="button"&&!(tn.tagName==="A"&&tn.href)},Xt=reactExports.useRef(!1),sn=useEventCallback(tn=>{st&&!Xt.current&&Ct&&Pt.current&&tn.key===" "&&(Xt.current=!0,Pt.current.stop(tn,()=>{Pt.current.start(tn)})),tn.target===tn.currentTarget&&nn()&&tn.key===" "&&tn.preventDefault(),ht&&ht(tn),tn.target===tn.currentTarget&&nn()&&tn.key==="Enter"&&!nt&&(tn.preventDefault(),rt&&rt(tn))}),ln=useEventCallback(tn=>{st&&tn.key===" "&&Pt.current&&Ct&&!tn.defaultPrevented&&(Xt.current=!1,Pt.current.stop(tn,()=>{Pt.current.pulsate(tn)})),xt&&xt(tn),rt&&tn.target===tn.currentTarget&&nn()&&tn.key===" "&&!tn.defaultPrevented&&rt(tn)});let Vt=tt;Vt==="button"&&(It.href||It.to)&&(Vt=ut);const cn={};Vt==="button"?(cn.type=Dt===void 0?"button":Dt,cn.disabled=nt):(!It.href&&!It.to&&(cn.role="button"),nt&&(cn["aria-disabled"]=nt));const xn=useForkRef(i,Et,Rt),Cn=_extends({},a,{centerRipple:j,component:tt,disabled:nt,disableRipple:ot,disableTouchRipple:it,focusRipple:st,tabIndex:At,focusVisible:Ct}),an=useUtilityClasses$E(Cn);return jsxs(ButtonBaseRoot,_extends({as:Vt,className:clsx(an.root,et),ownerState:Cn,onBlur:rn,onClick:rt,onContextMenu:bt,onFocus:qt,onKeyDown:sn,onKeyUp:ln,onMouseDown:Gt,onMouseLeave:jt,onMouseUp:kt,onDragLeave:wt,onTouchEnd:Kt,onTouchMove:Zt,onTouchStart:Ht,ref:xn,tabIndex:nt?-1:At,type:Dt},cn,It,{children:[_e,Bt?jsx(TouchRipple$1,_extends({ref:Nt,center:j},Ft)):null]}))}),ButtonBase$1=ButtonBase;function getAlertUtilityClass(s){return generateUtilityClass("MuiAlert",s)}const alertClasses=generateUtilityClasses("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),alertClasses$1=alertClasses;function getIconButtonUtilityClass(s){return generateUtilityClass("MuiIconButton",s)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),iconButtonClasses$1=iconButtonClasses,_excluded$F=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$D=s=>{const{classes:o,disabled:i,color:a,edge:$,size:j}=s,_e={root:["root",i&&"disabled",a!=="default"&&`color${capitalize(a)}`,$&&`edge${capitalize($)}`,`size${capitalize(j)}`]};return composeClasses(_e,getIconButtonUtilityClass,o)},IconButtonRoot=styled$1(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,i.color!=="default"&&o[`color${capitalize(i.color)}`],i.edge&&o[`edge${capitalize(i.edge)}`],o[`size${capitalize(i.size)}`]]}})(({theme:s,ownerState:o})=>_extends({textAlign:"center",flex:"0 0 auto",fontSize:s.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(s.vars||s).palette.action.active,transition:s.transitions.create("background-color",{duration:s.transitions.duration.shortest})},!o.disableRipple&&{"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.action.activeChannel} / ${s.vars.palette.action.hoverOpacity})`:alpha(s.palette.action.active,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.edge==="start"&&{marginLeft:o.size==="small"?-3:-12},o.edge==="end"&&{marginRight:o.size==="small"?-3:-12}),({theme:s,ownerState:o})=>{var i;const a=(i=(s.vars||s).palette)==null?void 0:i[o.color];return _extends({},o.color==="inherit"&&{color:"inherit"},o.color!=="inherit"&&o.color!=="default"&&_extends({color:a==null?void 0:a.main},!o.disableRipple&&{"&:hover":_extends({},a&&{backgroundColor:s.vars?`rgba(${a.mainChannel} / ${s.vars.palette.action.hoverOpacity})`:alpha(a.main,s.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),o.size==="small"&&{padding:5,fontSize:s.typography.pxToRem(18)},o.size==="large"&&{padding:12,fontSize:s.typography.pxToRem(28)},{[`&.${iconButtonClasses$1.disabled}`]:{backgroundColor:"transparent",color:(s.vars||s).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiIconButton"}),{edge:$=!1,children:j,className:_e,color:et="default",disabled:tt=!1,disableFocusRipple:nt=!1,size:ot="medium"}=a,it=_objectWithoutPropertiesLoose$5(a,_excluded$F),st=_extends({},a,{edge:$,color:et,disabled:tt,disableFocusRipple:nt,size:ot}),ut=useUtilityClasses$D(st);return jsx(IconButtonRoot,_extends({className:clsx(ut.root,_e),centerRipple:!0,focusRipple:!nt,disabled:tt,ref:i,ownerState:st},it,{children:j}))}),IconButton$1=IconButton,SuccessOutlinedIcon=createSvgIcon$1(jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ReportProblemOutlinedIcon=createSvgIcon$1(jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ErrorOutlineIcon=createSvgIcon$1(jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),InfoOutlinedIcon=createSvgIcon$1(jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ClearIcon=createSvgIcon$1(jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),_excluded$E=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],useUtilityClasses$C=s=>{const{variant:o,color:i,severity:a,classes:$}=s,j={root:["root",`${o}${capitalize(i||a)}`,`${o}`],icon:["icon"],message:["message"],action:["action"]};return composeClasses(j,getAlertUtilityClass,$)},AlertRoot=styled$1(Paper$1,{name:"MuiAlert",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,o[i.variant],o[`${i.variant}${capitalize(i.color||i.severity)}`]]}})(({theme:s,ownerState:o})=>{const i=s.palette.mode==="light"?darken:lighten,a=s.palette.mode==="light"?lighten:darken,$=o.color||o.severity;return _extends({},s.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},$&&o.variant==="standard"&&{color:s.vars?s.vars.palette.Alert[`${$}Color`]:i(s.palette[$].light,.6),backgroundColor:s.vars?s.vars.palette.Alert[`${$}StandardBg`]:a(s.palette[$].light,.9),[`& .${alertClasses$1.icon}`]:s.vars?{color:s.vars.palette.Alert[`${$}IconColor`]}:{color:s.palette[$].main}},$&&o.variant==="outlined"&&{color:s.vars?s.vars.palette.Alert[`${$}Color`]:i(s.palette[$].light,.6),border:`1px solid ${(s.vars||s).palette[$].light}`,[`& .${alertClasses$1.icon}`]:s.vars?{color:s.vars.palette.Alert[`${$}IconColor`]}:{color:s.palette[$].main}},$&&o.variant==="filled"&&_extends({fontWeight:s.typography.fontWeightMedium},s.vars?{color:s.vars.palette.Alert[`${$}FilledColor`],backgroundColor:s.vars.palette.Alert[`${$}FilledBg`]}:{backgroundColor:s.palette.mode==="dark"?s.palette[$].dark:s.palette[$].main,color:s.palette.getContrastText(s.palette[$].main)}))}),AlertIcon=styled$1("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(s,o)=>o.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AlertMessage=styled$1("div",{name:"MuiAlert",slot:"Message",overridesResolver:(s,o)=>o.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),AlertAction=styled$1("div",{name:"MuiAlert",slot:"Action",overridesResolver:(s,o)=>o.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),defaultIconMapping={success:jsx(SuccessOutlinedIcon,{fontSize:"inherit"}),warning:jsx(ReportProblemOutlinedIcon,{fontSize:"inherit"}),error:jsx(ErrorOutlineIcon,{fontSize:"inherit"}),info:jsx(InfoOutlinedIcon,{fontSize:"inherit"})},Alert=reactExports.forwardRef(function(o,i){var a,$,j,_e,et,tt;const nt=useThemeProps({props:o,name:"MuiAlert"}),{action:ot,children:it,className:st,closeText:ut="Close",color:lt,components:rt={},componentsProps:dt={},icon:ct,iconMapping:pt=defaultIconMapping,onClose:at,role:ht="alert",severity:xt="success",slotProps:gt={},slots:vt={},variant:ft="standard"}=nt,yt=_objectWithoutPropertiesLoose$5(nt,_excluded$E),mt=_extends({},nt,{color:lt,severity:xt,variant:ft}),St=useUtilityClasses$C(mt),At=(a=($=vt.closeButton)!=null?$:rt.CloseButton)!=null?a:IconButton$1,Ft=(j=(_e=vt.closeIcon)!=null?_e:rt.CloseIcon)!=null?j:ClearIcon,Tt=(et=gt.closeButton)!=null?et:dt.closeButton,Dt=(tt=gt.closeIcon)!=null?tt:dt.closeIcon;return jsxs(AlertRoot,_extends({role:ht,elevation:0,ownerState:mt,className:clsx(St.root,st),ref:i},yt,{children:[ct!==!1?jsx(AlertIcon,{ownerState:mt,className:St.icon,children:ct||pt[xt]||defaultIconMapping[xt]}):null,jsx(AlertMessage,{ownerState:mt,className:St.message,children:it}),ot!=null?jsx(AlertAction,{ownerState:mt,className:St.action,children:ot}):null,ot==null&&at?jsx(AlertAction,{ownerState:mt,className:St.action,children:jsx(At,_extends({size:"small","aria-label":ut,title:ut,color:"inherit",onClick:at},Tt,{children:jsx(Ft,_extends({fontSize:"small"},Dt))}))}):null]}))}),Alert$1=Alert,_excluded$D=["components","componentsProps","slots","slotProps"],PopperRoot=styled$1(PopperUnstyled$1,{name:"MuiPopper",slot:"Root",overridesResolver:(s,o)=>o.root})({}),Popper=reactExports.forwardRef(function(o,i){var a;const $=useTheme$2(),j=useThemeProps({props:o,name:"MuiPopper"}),{components:_e,componentsProps:et,slots:tt,slotProps:nt}=j,ot=_objectWithoutPropertiesLoose$5(j,_excluded$D),it=(a=tt==null?void 0:tt.root)!=null?a:_e==null?void 0:_e.Root;return jsx(PopperRoot,_extends({direction:$==null?void 0:$.direction,slots:{root:it},slotProps:nt??et},ot,{ref:i}))}),Popper$1=Popper;function getButtonUtilityClass(s){return generateUtilityClass("MuiButton",s)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,_excluded$C=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$B=s=>{const{color:o,disableElevation:i,fullWidth:a,size:$,variant:j,classes:_e}=s,et={root:["root",j,`${j}${capitalize(o)}`,`size${capitalize($)}`,`${j}Size${capitalize($)}`,o==="inherit"&&"colorInherit",i&&"disableElevation",a&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize($)}`],endIcon:["endIcon",`iconSize${capitalize($)}`]},tt=composeClasses(et,getButtonUtilityClass,_e);return _extends({},_e,tt)},commonIconStyles=s=>_extends({},s.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},s.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},s.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:s=>rootShouldForwardProp(s)||s==="classes",name:"MuiButton",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,o[i.variant],o[`${i.variant}${capitalize(i.color)}`],o[`size${capitalize(i.size)}`],o[`${i.variant}Size${capitalize(i.size)}`],i.color==="inherit"&&o.colorInherit,i.disableElevation&&o.disableElevation,i.fullWidth&&o.fullWidth]}})(({theme:s,ownerState:o})=>{var i,a;return _extends({},s.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(s.vars||s).shape.borderRadius,transition:s.transitions.create(["background-color","box-shadow","border-color","color"],{duration:s.transitions.duration.short}),"&:hover":_extends({textDecoration:"none",backgroundColor:s.vars?`rgba(${s.vars.palette.text.primaryChannel} / ${s.vars.palette.action.hoverOpacity})`:alpha(s.palette.text.primary,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="text"&&o.color!=="inherit"&&{backgroundColor:s.vars?`rgba(${s.vars.palette[o.color].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:alpha(s.palette[o.color].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="outlined"&&o.color!=="inherit"&&{border:`1px solid ${(s.vars||s).palette[o.color].main}`,backgroundColor:s.vars?`rgba(${s.vars.palette[o.color].mainChannel} / ${s.vars.palette.action.hoverOpacity})`:alpha(s.palette[o.color].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},o.variant==="contained"&&{backgroundColor:(s.vars||s).palette.grey.A100,boxShadow:(s.vars||s).shadows[4],"@media (hover: none)":{boxShadow:(s.vars||s).shadows[2],backgroundColor:(s.vars||s).palette.grey[300]}},o.variant==="contained"&&o.color!=="inherit"&&{backgroundColor:(s.vars||s).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(s.vars||s).palette[o.color].main}}),"&:active":_extends({},o.variant==="contained"&&{boxShadow:(s.vars||s).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends({},o.variant==="contained"&&{boxShadow:(s.vars||s).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends({color:(s.vars||s).palette.action.disabled},o.variant==="outlined"&&{border:`1px solid ${(s.vars||s).palette.action.disabledBackground}`},o.variant==="outlined"&&o.color==="secondary"&&{border:`1px solid ${(s.vars||s).palette.action.disabled}`},o.variant==="contained"&&{color:(s.vars||s).palette.action.disabled,boxShadow:(s.vars||s).shadows[0],backgroundColor:(s.vars||s).palette.action.disabledBackground})},o.variant==="text"&&{padding:"6px 8px"},o.variant==="text"&&o.color!=="inherit"&&{color:(s.vars||s).palette[o.color].main},o.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},o.variant==="outlined"&&o.color!=="inherit"&&{color:(s.vars||s).palette[o.color].main,border:s.vars?`1px solid rgba(${s.vars.palette[o.color].mainChannel} / 0.5)`:`1px solid ${alpha(s.palette[o.color].main,.5)}`},o.variant==="contained"&&{color:s.vars?s.vars.palette.text.primary:(i=(a=s.palette).getContrastText)==null?void 0:i.call(a,s.palette.grey[300]),backgroundColor:(s.vars||s).palette.grey[300],boxShadow:(s.vars||s).shadows[2]},o.variant==="contained"&&o.color!=="inherit"&&{color:(s.vars||s).palette[o.color].contrastText,backgroundColor:(s.vars||s).palette[o.color].main},o.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},o.size==="small"&&o.variant==="text"&&{padding:"4px 5px",fontSize:s.typography.pxToRem(13)},o.size==="large"&&o.variant==="text"&&{padding:"8px 11px",fontSize:s.typography.pxToRem(15)},o.size==="small"&&o.variant==="outlined"&&{padding:"3px 9px",fontSize:s.typography.pxToRem(13)},o.size==="large"&&o.variant==="outlined"&&{padding:"7px 21px",fontSize:s.typography.pxToRem(15)},o.size==="small"&&o.variant==="contained"&&{padding:"4px 10px",fontSize:s.typography.pxToRem(13)},o.size==="large"&&o.variant==="contained"&&{padding:"8px 22px",fontSize:s.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})},({ownerState:s})=>s.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.startIcon,o[`iconSize${capitalize(i.size)}`]]}})(({ownerState:s})=>_extends({display:"inherit",marginRight:8,marginLeft:-4},s.size==="small"&&{marginLeft:-2},commonIconStyles(s))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.endIcon,o[`iconSize${capitalize(i.size)}`]]}})(({ownerState:s})=>_extends({display:"inherit",marginRight:-4,marginLeft:8},s.size==="small"&&{marginRight:-2},commonIconStyles(s))),Button=reactExports.forwardRef(function(o,i){const a=reactExports.useContext(ButtonGroupContext$1),$=resolveProps(a,o),j=useThemeProps({props:$,name:"MuiButton"}),{children:_e,color:et="primary",component:tt="button",className:nt,disabled:ot=!1,disableElevation:it=!1,disableFocusRipple:st=!1,endIcon:ut,focusVisibleClassName:lt,fullWidth:rt=!1,size:dt="medium",startIcon:ct,type:pt,variant:at="text"}=j,ht=_objectWithoutPropertiesLoose$5(j,_excluded$C),xt=_extends({},j,{color:et,component:tt,disabled:ot,disableElevation:it,disableFocusRipple:st,fullWidth:rt,size:dt,type:pt,variant:at}),gt=useUtilityClasses$B(xt),vt=ct&&jsx(ButtonStartIcon,{className:gt.startIcon,ownerState:xt,children:ct}),ft=ut&&jsx(ButtonEndIcon,{className:gt.endIcon,ownerState:xt,children:ut});return jsxs(ButtonRoot,_extends({ownerState:xt,className:clsx(a.className,gt.root,nt),component:tt,disabled:ot,focusRipple:!st,focusVisibleClassName:clsx(gt.focusVisible,lt),ref:i,type:pt},ht,{classes:gt,children:[vt,_e,ft]}))}),Button$1=Button;function getSwitchBaseUtilityClass(s){return generateUtilityClass("PrivateSwitchBase",s)}generateUtilityClasses("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const _excluded$B=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],useUtilityClasses$A=s=>{const{classes:o,checked:i,disabled:a,edge:$}=s,j={root:["root",i&&"checked",a&&"disabled",$&&`edge${capitalize($)}`],input:["input"]};return composeClasses(j,getSwitchBaseUtilityClass,o)},SwitchBaseRoot=styled$1(ButtonBase$1)(({ownerState:s})=>_extends({padding:9,borderRadius:"50%"},s.edge==="start"&&{marginLeft:s.size==="small"?-3:-12},s.edge==="end"&&{marginRight:s.size==="small"?-3:-12})),SwitchBaseInput=styled$1("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),SwitchBase=reactExports.forwardRef(function(o,i){const{autoFocus:a,checked:$,checkedIcon:j,className:_e,defaultChecked:et,disabled:tt,disableFocusRipple:nt=!1,edge:ot=!1,icon:it,id:st,inputProps:ut,inputRef:lt,name:rt,onBlur:dt,onChange:ct,onFocus:pt,readOnly:at,required:ht,tabIndex:xt,type:gt,value:vt}=o,ft=_objectWithoutPropertiesLoose$5(o,_excluded$B),[yt,mt]=useControlled({controlled:$,default:Boolean(et),name:"SwitchBase",state:"checked"}),St=useFormControl(),At=Nt=>{pt&&pt(Nt),St&&St.onFocus&&St.onFocus(Nt)},Ft=Nt=>{dt&&dt(Nt),St&&St.onBlur&&St.onBlur(Nt)},Tt=Nt=>{if(Nt.nativeEvent.defaultPrevented)return;const Lt=Nt.target.checked;mt(Lt),ct&&ct(Nt,Lt)};let Dt=tt;St&&typeof Dt>"u"&&(Dt=St.disabled);const It=gt==="checkbox"||gt==="radio",Rt=_extends({},o,{checked:yt,disabled:Dt,disableFocusRipple:nt,edge:ot}),Pt=useUtilityClasses$A(Rt);return jsxs(SwitchBaseRoot,_extends({component:"span",className:clsx(Pt.root,_e),centerRipple:!0,focusRipple:!nt,disabled:Dt,tabIndex:null,role:void 0,onFocus:At,onBlur:Ft,ownerState:Rt,ref:i},ft,{children:[jsx(SwitchBaseInput,_extends({autoFocus:a,checked:$,defaultChecked:et,className:Pt.input,disabled:Dt,id:It&&st,name:rt,onChange:Tt,readOnly:at,ref:lt,required:ht,ownerState:Rt,tabIndex:xt,type:gt},gt==="checkbox"&&vt===void 0?{}:{value:vt},ut)),yt?j:it]}))}),SwitchBase$1=SwitchBase,CheckBoxOutlineBlankIcon=createSvgIcon$1(jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CheckBoxIcon=createSvgIcon$1(jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),IndeterminateCheckBoxIcon=createSvgIcon$1(jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function getCheckboxUtilityClass(s){return generateUtilityClass("MuiCheckbox",s)}const checkboxClasses=generateUtilityClasses("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),checkboxClasses$1=checkboxClasses,_excluded$A=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],useUtilityClasses$z=s=>{const{classes:o,indeterminate:i,color:a}=s,$={root:["root",i&&"indeterminate",`color${capitalize(a)}`]},j=composeClasses($,getCheckboxUtilityClass,o);return _extends({},o,j)},CheckboxRoot=styled$1(SwitchBase$1,{shouldForwardProp:s=>rootShouldForwardProp(s)||s==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,i.indeterminate&&o.indeterminate,i.color!=="default"&&o[`color${capitalize(i.color)}`]]}})(({theme:s,ownerState:o})=>_extends({color:(s.vars||s).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:s.vars?`rgba(${o.color==="default"?s.vars.palette.action.activeChannel:s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.hoverOpacity})`:alpha(o.color==="default"?s.palette.action.active:s.palette[o.color].main,s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.color!=="default"&&{[`&.${checkboxClasses$1.checked}, &.${checkboxClasses$1.indeterminate}`]:{color:(s.vars||s).palette[o.color].main},[`&.${checkboxClasses$1.disabled}`]:{color:(s.vars||s).palette.action.disabled}})),defaultCheckedIcon=jsx(CheckBoxIcon,{}),defaultIcon=jsx(CheckBoxOutlineBlankIcon,{}),defaultIndeterminateIcon=jsx(IndeterminateCheckBoxIcon,{}),Checkbox=reactExports.forwardRef(function(o,i){var a,$;const j=useThemeProps({props:o,name:"MuiCheckbox"}),{checkedIcon:_e=defaultCheckedIcon,color:et="primary",icon:tt=defaultIcon,indeterminate:nt=!1,indeterminateIcon:ot=defaultIndeterminateIcon,inputProps:it,size:st="medium",className:ut}=j,lt=_objectWithoutPropertiesLoose$5(j,_excluded$A),rt=nt?ot:tt,dt=nt?ot:_e,ct=_extends({},j,{color:et,indeterminate:nt,size:st}),pt=useUtilityClasses$z(ct);return jsx(CheckboxRoot,_extends({type:"checkbox",inputProps:_extends({"data-indeterminate":nt},it),icon:reactExports.cloneElement(rt,{fontSize:(a=rt.props.fontSize)!=null?a:st}),checkedIcon:reactExports.cloneElement(dt,{fontSize:($=dt.props.fontSize)!=null?$:st}),ownerState:ct,ref:i,className:clsx(pt.root,ut)},lt,{classes:pt}))}),Checkbox$1=Checkbox;function getDialogUtilityClass(s){return generateUtilityClass("MuiDialog",s)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dialogClasses$1=dialogClasses,DialogContext=reactExports.createContext({}),DialogContext$1=DialogContext,_excluded$z=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled$1(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(s,o)=>o.backdrop})({zIndex:-1}),useUtilityClasses$y=s=>{const{classes:o,scroll:i,maxWidth:a,fullWidth:$,fullScreen:j}=s,_e={root:["root"],container:["container",`scroll${capitalize(i)}`],paper:["paper",`paperScroll${capitalize(i)}`,`paperWidth${capitalize(String(a))}`,$&&"paperFullWidth",j&&"paperFullScreen"]};return composeClasses(_e,getDialogUtilityClass,o)},DialogRoot=styled$1(Modal$1,{name:"MuiDialog",slot:"Root",overridesResolver:(s,o)=>o.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled$1("div",{name:"MuiDialog",slot:"Container",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.container,o[`scroll${capitalize(i.scroll)}`]]}})(({ownerState:s})=>_extends({height:"100%","@media print":{height:"auto"},outline:0},s.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},s.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled$1(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.paper,o[`scrollPaper${capitalize(i.scroll)}`],o[`paperWidth${capitalize(String(i.maxWidth))}`],i.fullWidth&&o.paperFullWidth,i.fullScreen&&o.paperFullScreen]}})(({theme:s,ownerState:o})=>_extends({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},o.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},o.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!o.maxWidth&&{maxWidth:"calc(100% - 64px)"},o.maxWidth==="xs"&&{maxWidth:s.breakpoints.unit==="px"?Math.max(s.breakpoints.values.xs,444):`${s.breakpoints.values.xs}${s.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[s.breakpoints.down(Math.max(s.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.maxWidth&&o.maxWidth!=="xs"&&{maxWidth:`${s.breakpoints.values[o.maxWidth]}${s.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[s.breakpoints.down(s.breakpoints.values[o.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.fullWidth&&{width:"calc(100% - 64px)"},o.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses$1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiDialog"}),$=useTheme(),j={enter:$.transitions.duration.enteringScreen,exit:$.transitions.duration.leavingScreen},{"aria-describedby":_e,"aria-labelledby":et,BackdropComponent:tt,BackdropProps:nt,children:ot,className:it,disableEscapeKeyDown:st=!1,fullScreen:ut=!1,fullWidth:lt=!1,maxWidth:rt="sm",onBackdropClick:dt,onClose:ct,open:pt,PaperComponent:at=Paper$1,PaperProps:ht={},scroll:xt="paper",TransitionComponent:gt=Fade$1,transitionDuration:vt=j,TransitionProps:ft}=a,yt=_objectWithoutPropertiesLoose$5(a,_excluded$z),mt=_extends({},a,{disableEscapeKeyDown:st,fullScreen:ut,fullWidth:lt,maxWidth:rt,scroll:xt}),St=useUtilityClasses$y(mt),At=reactExports.useRef(),Ft=Rt=>{At.current=Rt.target===Rt.currentTarget},Tt=Rt=>{At.current&&(At.current=null,dt&&dt(Rt),ct&&ct(Rt,"backdropClick"))},Dt=useId(et),It=reactExports.useMemo(()=>({titleId:Dt}),[Dt]);return jsx(DialogRoot,_extends({className:clsx(St.root,it),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends({transitionDuration:vt,as:tt},nt)},disableEscapeKeyDown:st,onClose:ct,open:pt,ref:i,onClick:Tt,ownerState:mt},yt,{children:jsx(gt,_extends({appear:!0,in:pt,timeout:vt,role:"presentation"},ft,{children:jsx(DialogContainer,{className:clsx(St.container),onMouseDown:Ft,ownerState:mt,children:jsx(DialogPaper,_extends({as:at,elevation:24,role:"dialog","aria-describedby":_e,"aria-labelledby":Dt},ht,{className:clsx(St.paper,ht.className),ownerState:mt,children:jsx(DialogContext$1.Provider,{value:It,children:ot})}))})}))}))}),Dialog$1=Dialog;function getDialogActionsUtilityClass(s){return generateUtilityClass("MuiDialogActions",s)}generateUtilityClasses("MuiDialogActions",["root","spacing"]);const _excluded$y=["className","disableSpacing"],useUtilityClasses$x=s=>{const{classes:o,disableSpacing:i}=s;return composeClasses({root:["root",!i&&"spacing"]},getDialogActionsUtilityClass,o)},DialogActionsRoot=styled$1("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,!i.disableSpacing&&o.spacing]}})(({ownerState:s})=>_extends({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!s.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),DialogActions=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiDialogActions"}),{className:$,disableSpacing:j=!1}=a,_e=_objectWithoutPropertiesLoose$5(a,_excluded$y),et=_extends({},a,{disableSpacing:j}),tt=useUtilityClasses$x(et);return jsx(DialogActionsRoot,_extends({className:clsx(tt.root,$),ownerState:et,ref:i},_e))}),DialogActions$1=DialogActions;function getDialogContentUtilityClass(s){return generateUtilityClass("MuiDialogContent",s)}generateUtilityClasses("MuiDialogContent",["root","dividers"]);function getDialogTitleUtilityClass(s){return generateUtilityClass("MuiDialogTitle",s)}const dialogTitleClasses=generateUtilityClasses("MuiDialogTitle",["root"]),dialogTitleClasses$1=dialogTitleClasses,_excluded$x=["className","dividers"],useUtilityClasses$w=s=>{const{classes:o,dividers:i}=s;return composeClasses({root:["root",i&&"dividers"]},getDialogContentUtilityClass,o)},DialogContentRoot=styled$1("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,i.dividers&&o.dividers]}})(({theme:s,ownerState:o})=>_extends({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(s.vars||s).palette.divider}`,borderBottom:`1px solid ${(s.vars||s).palette.divider}`}:{[`.${dialogTitleClasses$1.root} + &`]:{paddingTop:0}})),DialogContent=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiDialogContent"}),{className:$,dividers:j=!1}=a,_e=_objectWithoutPropertiesLoose$5(a,_excluded$x),et=_extends({},a,{dividers:j}),tt=useUtilityClasses$w(et);return jsx(DialogContentRoot,_extends({className:clsx(tt.root,$),ownerState:et,ref:i},_e))}),DialogContent$1=DialogContent;function getDialogContentTextUtilityClass(s){return generateUtilityClass("MuiDialogContentText",s)}generateUtilityClasses("MuiDialogContentText",["root"]);const _excluded$w=["children","className"],useUtilityClasses$v=s=>{const{classes:o}=s,a=composeClasses({root:["root"]},getDialogContentTextUtilityClass,o);return _extends({},o,a)},DialogContentTextRoot=styled$1(Typography$1,{shouldForwardProp:s=>rootShouldForwardProp(s)||s==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(s,o)=>o.root})({}),DialogContentText=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiDialogContentText"}),{className:$}=a,j=_objectWithoutPropertiesLoose$5(a,_excluded$w),_e=useUtilityClasses$v(j);return jsx(DialogContentTextRoot,_extends({component:"p",variant:"body1",color:"text.secondary",ref:i,ownerState:j,className:clsx(_e.root,$)},a,{classes:_e}))}),DialogContentText$1=DialogContentText,_excluded$v=["className","id"],useUtilityClasses$u=s=>{const{classes:o}=s;return composeClasses({root:["root"]},getDialogTitleUtilityClass,o)},DialogTitleRoot=styled$1(Typography$1,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(s,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiDialogTitle"}),{className:$,id:j}=a,_e=_objectWithoutPropertiesLoose$5(a,_excluded$v),et=a,tt=useUtilityClasses$u(et),{titleId:nt=j}=reactExports.useContext(DialogContext$1);return jsx(DialogTitleRoot,_extends({component:"h2",className:clsx(tt.root,$),ownerState:et,ref:i,variant:"h6",id:nt},_e))}),DialogTitle$1=DialogTitle,dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dividerClasses$1=dividerClasses;function getFormControlLabelUtilityClasses(s){return generateUtilityClass("MuiFormControlLabel",s)}const formControlLabelClasses=generateUtilityClasses("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),formControlLabelClasses$1=formControlLabelClasses,_excluded$u=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","slotProps","value"],useUtilityClasses$t=s=>{const{classes:o,disabled:i,labelPlacement:a,error:$}=s,j={root:["root",i&&"disabled",`labelPlacement${capitalize(a)}`,$&&"error"],label:["label",i&&"disabled"]};return composeClasses(j,getFormControlLabelUtilityClasses,o)},FormControlLabelRoot=styled$1("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[{[`& .${formControlLabelClasses$1.label}`]:o.label},o.root,o[`labelPlacement${capitalize(i.labelPlacement)}`]]}})(({theme:s,ownerState:o})=>_extends({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${formControlLabelClasses$1.disabled}`]:{cursor:"default"}},o.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},o.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},o.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${formControlLabelClasses$1.label}`]:{[`&.${formControlLabelClasses$1.disabled}`]:{color:(s.vars||s).palette.text.disabled}}})),FormControlLabel=reactExports.forwardRef(function(o,i){var a;const $=useThemeProps({props:o,name:"MuiFormControlLabel"}),{className:j,componentsProps:_e={},control:et,disabled:tt,disableTypography:nt,label:ot,labelPlacement:it="end",slotProps:st={}}=$,ut=_objectWithoutPropertiesLoose$5($,_excluded$u),lt=useFormControl();let rt=tt;typeof rt>"u"&&typeof et.props.disabled<"u"&&(rt=et.props.disabled),typeof rt>"u"&&lt&&(rt=lt.disabled);const dt={disabled:rt};["checked","name","onChange","value","inputRef"].forEach(gt=>{typeof et.props[gt]>"u"&&typeof $[gt]<"u"&&(dt[gt]=$[gt])});const ct=formControlState({props:$,muiFormControl:lt,states:["error"]}),pt=_extends({},$,{disabled:rt,labelPlacement:it,error:ct.error}),at=useUtilityClasses$t(pt),ht=(a=st.typography)!=null?a:_e.typography;let xt=ot;return xt!=null&&xt.type!==Typography$1&&!nt&&(xt=jsx(Typography$1,_extends({component:"span"},ht,{className:clsx(at.label,ht==null?void 0:ht.className),children:xt}))),jsxs(FormControlLabelRoot,_extends({className:clsx(at.root,j),ownerState:pt,ref:i},ut,{children:[reactExports.cloneElement(et,dt),xt]}))}),FormControlLabel$1=FormControlLabel,GridContext=reactExports.createContext(),GridContext$1=GridContext;function getGridUtilityClass(s){return generateUtilityClass("MuiGrid",s)}const SPACINGS=[0,1,2,3,4,5,6,7,8,9,10],DIRECTIONS=["column-reverse","column","row-reverse","row"],WRAPS=["nowrap","wrap-reverse","wrap"],GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses=generateUtilityClasses("MuiGrid",["root","container","item","zeroMinWidth",...SPACINGS.map(s=>`spacing-xs-${s}`),...DIRECTIONS.map(s=>`direction-xs-${s}`),...WRAPS.map(s=>`wrap-xs-${s}`),...GRID_SIZES.map(s=>`grid-xs-${s}`),...GRID_SIZES.map(s=>`grid-sm-${s}`),...GRID_SIZES.map(s=>`grid-md-${s}`),...GRID_SIZES.map(s=>`grid-lg-${s}`),...GRID_SIZES.map(s=>`grid-xl-${s}`)]),gridClasses$1=gridClasses,_excluded$t=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function getOffset(s){const o=parseFloat(s);return`${o}${String(s).replace(String(o),"")||"px"}`}function generateGrid({theme:s,ownerState:o}){let i;return s.breakpoints.keys.reduce((a,$)=>{let j={};if(o[$]&&(i=o[$]),!i)return a;if(i===!0)j={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")j={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const _e=resolveBreakpointValues({values:o.columns,breakpoints:s.breakpoints.values}),et=typeof _e=="object"?_e[$]:_e;if(et==null)return a;const tt=`${Math.round(i/et*1e8)/1e6}%`;let nt={};if(o.container&&o.item&&o.columnSpacing!==0){const ot=s.spacing(o.columnSpacing);if(ot!=="0px"){const it=`calc(${tt} + ${getOffset(ot)})`;nt={flexBasis:it,maxWidth:it}}}j=_extends({flexBasis:tt,flexGrow:0,maxWidth:tt},nt)}return s.breakpoints.values[$]===0?Object.assign(a,j):a[s.breakpoints.up($)]=j,a},{})}function generateDirection({theme:s,ownerState:o}){const i=resolveBreakpointValues({values:o.direction,breakpoints:s.breakpoints.values});return handleBreakpoints({theme:s},i,a=>{const $={flexDirection:a};return a.indexOf("column")===0&&($[`& > .${gridClasses$1.item}`]={maxWidth:"none"}),$})}function extractZeroValueBreakpointKeys({breakpoints:s,values:o}){let i="";Object.keys(o).forEach($=>{i===""&&o[$]!==0&&(i=$)});const a=Object.keys(s).sort(($,j)=>s[$]-s[j]);return a.slice(0,a.indexOf(i))}function generateRowGap({theme:s,ownerState:o}){const{container:i,rowSpacing:a}=o;let $={};if(i&&a!==0){const j=resolveBreakpointValues({values:a,breakpoints:s.breakpoints.values});let _e;typeof j=="object"&&(_e=extractZeroValueBreakpointKeys({breakpoints:s.breakpoints.values,values:j})),$=handleBreakpoints({theme:s},j,(et,tt)=>{var nt;const ot=s.spacing(et);return ot!=="0px"?{marginTop:`-${getOffset(ot)}`,[`& > .${gridClasses$1.item}`]:{paddingTop:getOffset(ot)}}:(nt=_e)!=null&&nt.includes(tt)?{}:{marginTop:0,[`& > .${gridClasses$1.item}`]:{paddingTop:0}}})}return $}function generateColumnGap({theme:s,ownerState:o}){const{container:i,columnSpacing:a}=o;let $={};if(i&&a!==0){const j=resolveBreakpointValues({values:a,breakpoints:s.breakpoints.values});let _e;typeof j=="object"&&(_e=extractZeroValueBreakpointKeys({breakpoints:s.breakpoints.values,values:j})),$=handleBreakpoints({theme:s},j,(et,tt)=>{var nt;const ot=s.spacing(et);return ot!=="0px"?{width:`calc(100% + ${getOffset(ot)})`,marginLeft:`-${getOffset(ot)}`,[`& > .${gridClasses$1.item}`]:{paddingLeft:getOffset(ot)}}:(nt=_e)!=null&&nt.includes(tt)?{}:{width:"100%",marginLeft:0,[`& > .${gridClasses$1.item}`]:{paddingLeft:0}}})}return $}function resolveSpacingStyles(s,o,i={}){if(!s||s<=0)return[];if(typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number")return[i[`spacing-xs-${String(s)}`]];const a=[];return o.forEach($=>{const j=s[$];Number(j)>0&&a.push(i[`spacing-${$}-${String(j)}`])}),a}const GridRoot=styled$1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s,{container:a,direction:$,item:j,spacing:_e,wrap:et,zeroMinWidth:tt,breakpoints:nt}=i;let ot=[];a&&(ot=resolveSpacingStyles(_e,nt,o));const it=[];return nt.forEach(st=>{const ut=i[st];ut&&it.push(o[`grid-${st}-${String(ut)}`])}),[o.root,a&&o.container,j&&o.item,tt&&o.zeroMinWidth,...ot,$!=="row"&&o[`direction-xs-${String($)}`],et!=="wrap"&&o[`wrap-xs-${String(et)}`],...it]}})(({ownerState:s})=>_extends({boxSizing:"border-box"},s.container&&{display:"flex",flexWrap:"wrap",width:"100%"},s.item&&{margin:0},s.zeroMinWidth&&{minWidth:0},s.wrap!=="wrap"&&{flexWrap:s.wrap}),generateDirection,generateRowGap,generateColumnGap,generateGrid);function resolveSpacingClasses(s,o){if(!s||s<=0)return[];if(typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number")return[`spacing-xs-${String(s)}`];const i=[];return o.forEach(a=>{const $=s[a];if(Number($)>0){const j=`spacing-${a}-${String($)}`;i.push(j)}}),i}const useUtilityClasses$s=s=>{const{classes:o,container:i,direction:a,item:$,spacing:j,wrap:_e,zeroMinWidth:et,breakpoints:tt}=s;let nt=[];i&&(nt=resolveSpacingClasses(j,tt));const ot=[];tt.forEach(st=>{const ut=s[st];ut&&ot.push(`grid-${st}-${String(ut)}`)});const it={root:["root",i&&"container",$&&"item",et&&"zeroMinWidth",...nt,a!=="row"&&`direction-xs-${String(a)}`,_e!=="wrap"&&`wrap-xs-${String(_e)}`,...ot]};return composeClasses(it,getGridUtilityClass,o)},Grid=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiGrid"}),{breakpoints:$}=useTheme(),j=extendSxProp(a),{className:_e,columns:et,columnSpacing:tt,component:nt="div",container:ot=!1,direction:it="row",item:st=!1,rowSpacing:ut,spacing:lt=0,wrap:rt="wrap",zeroMinWidth:dt=!1}=j,ct=_objectWithoutPropertiesLoose$5(j,_excluded$t),pt=ut||lt,at=tt||lt,ht=reactExports.useContext(GridContext$1),xt=ot?et||12:ht,gt={},vt=_extends({},ct);$.keys.forEach(mt=>{ct[mt]!=null&&(gt[mt]=ct[mt],delete vt[mt])});const ft=_extends({},j,{columns:xt,container:ot,direction:it,item:st,rowSpacing:pt,columnSpacing:at,wrap:rt,zeroMinWidth:dt,spacing:lt},gt,{breakpoints:$.keys}),yt=useUtilityClasses$s(ft);return jsx(GridContext$1.Provider,{value:xt,children:jsx(GridRoot,_extends({ownerState:ft,className:clsx(yt.root,_e),as:nt,ref:i},vt))})}),Grid$1=Grid;function useMediaQueryOld(s,o,i,a,$){const j=typeof window<"u"&&typeof window.matchMedia<"u",[_e,et]=reactExports.useState(()=>$&&j?i(s).matches:a?a(s).matches:o);return useEnhancedEffect$1(()=>{let tt=!0;if(!j)return;const nt=i(s),ot=()=>{tt&&et(nt.matches)};return ot(),nt.addListener(ot),()=>{tt=!1,nt.removeListener(ot)}},[s,i,j]),_e}const maybeReactUseSyncExternalStore=React$1["useSyncExternalStore"];function useMediaQueryNew(s,o,i,a){const $=reactExports.useCallback(()=>o,[o]),j=reactExports.useMemo(()=>{if(a!==null){const{matches:nt}=a(s);return()=>nt}return $},[$,s,a]),[_e,et]=reactExports.useMemo(()=>{if(i===null)return[$,()=>()=>{}];const nt=i(s);return[()=>nt.matches,ot=>(nt.addListener(ot),()=>{nt.removeListener(ot)})]},[$,i,s]);return maybeReactUseSyncExternalStore(et,_e,j)}function useMediaQuery(s,o={}){const i=useTheme$2(),a=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:$=!1,matchMedia:j=a?window.matchMedia:null,ssrMatchMedia:_e=null,noSsr:et}=getThemeProps({name:"MuiUseMediaQuery",props:o,theme:i});let tt=typeof s=="function"?s(i):s;return tt=tt.replace(/^@media( ?)/m,""),(maybeReactUseSyncExternalStore!==void 0?useMediaQueryNew:useMediaQueryOld)(tt,$,j,_e,et)}function getInputAdornmentUtilityClass(s){return generateUtilityClass("MuiInputAdornment",s)}const inputAdornmentClasses=generateUtilityClasses("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),inputAdornmentClasses$1=inputAdornmentClasses;var _span;const _excluded$s=["children","className","component","disablePointerEvents","disableTypography","position","variant"],overridesResolver$2=(s,o)=>{const{ownerState:i}=s;return[o.root,o[`position${capitalize(i.position)}`],i.disablePointerEvents===!0&&o.disablePointerEvents,o[i.variant]]},useUtilityClasses$r=s=>{const{classes:o,disablePointerEvents:i,hiddenLabel:a,position:$,size:j,variant:_e}=s,et={root:["root",i&&"disablePointerEvents",$&&`position${capitalize($)}`,_e,a&&"hiddenLabel",j&&`size${capitalize(j)}`]};return composeClasses(et,getInputAdornmentUtilityClass,o)},InputAdornmentRoot=styled$1("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:overridesResolver$2})(({theme:s,ownerState:o})=>_extends({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(s.vars||s).palette.action.active},o.variant==="filled"&&{[`&.${inputAdornmentClasses$1.positionStart}&:not(.${inputAdornmentClasses$1.hiddenLabel})`]:{marginTop:16}},o.position==="start"&&{marginRight:8},o.position==="end"&&{marginLeft:8},o.disablePointerEvents===!0&&{pointerEvents:"none"})),InputAdornment=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiInputAdornment"}),{children:$,className:j,component:_e="div",disablePointerEvents:et=!1,disableTypography:tt=!1,position:nt,variant:ot}=a,it=_objectWithoutPropertiesLoose$5(a,_excluded$s),st=useFormControl()||{};let ut=ot;ot&&st.variant,st&&!ut&&(ut=st.variant);const lt=_extends({},a,{hiddenLabel:st.hiddenLabel,size:st.size,disablePointerEvents:et,position:nt,variant:ut}),rt=useUtilityClasses$r(lt);return jsx(FormControlContext$1.Provider,{value:null,children:jsx(InputAdornmentRoot,_extends({as:_e,ownerState:lt,className:clsx(rt.root,j),ref:i},it,{children:typeof $=="string"&&!tt?jsx(Typography$1,{color:"text.secondary",children:$}):jsxs(reactExports.Fragment,{children:[nt==="start"?_span||(_span=jsx("span",{className:"notranslate",children:""})):null,$]})}))})}),InputAdornment$1=InputAdornment,listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]),listItemIconClasses$1=listItemIconClasses,listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),listItemTextClasses$1=listItemTextClasses;function getMenuItemUtilityClass(s){return generateUtilityClass("MuiMenuItem",s)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),menuItemClasses$1=menuItemClasses,_excluded$r=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],overridesResolver$1=(s,o)=>{const{ownerState:i}=s;return[o.root,i.dense&&o.dense,i.divider&&o.divider,!i.disableGutters&&o.gutters]},useUtilityClasses$q=s=>{const{disabled:o,dense:i,divider:a,disableGutters:$,selected:j,classes:_e}=s,tt=composeClasses({root:["root",i&&"dense",o&&"disabled",!$&&"gutters",a&&"divider",j&&"selected"]},getMenuItemUtilityClass,_e);return _extends({},_e,tt)},MenuItemRoot=styled$1(ButtonBase$1,{shouldForwardProp:s=>rootShouldForwardProp(s)||s==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:overridesResolver$1})(({theme:s,ownerState:o})=>_extends({},s.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.divider&&{borderBottom:`1px solid ${(s.vars||s).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(s.vars||s).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${menuItemClasses$1.selected}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:alpha(s.palette.primary.main,s.palette.action.selectedOpacity),[`&.${menuItemClasses$1.focusVisible}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.focusOpacity}))`:alpha(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.focusOpacity)}},[`&.${menuItemClasses$1.selected}:hover`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.hoverOpacity}))`:alpha(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:alpha(s.palette.primary.main,s.palette.action.selectedOpacity)}},[`&.${menuItemClasses$1.focusVisible}`]:{backgroundColor:(s.vars||s).palette.action.focus},[`&.${menuItemClasses$1.disabled}`]:{opacity:(s.vars||s).palette.action.disabledOpacity},[`& + .${dividerClasses$1.root}`]:{marginTop:s.spacing(1),marginBottom:s.spacing(1)},[`& + .${dividerClasses$1.inset}`]:{marginLeft:52},[`& .${listItemTextClasses$1.root}`]:{marginTop:0,marginBottom:0},[`& .${listItemTextClasses$1.inset}`]:{paddingLeft:36},[`& .${listItemIconClasses$1.root}`]:{minWidth:36}},!o.dense&&{[s.breakpoints.up("sm")]:{minHeight:"auto"}},o.dense&&_extends({minHeight:32,paddingTop:4,paddingBottom:4},s.typography.body2,{[`& .${listItemIconClasses$1.root} svg`]:{fontSize:"1.25rem"}}))),MenuItem=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiMenuItem"}),{autoFocus:$=!1,component:j="li",dense:_e=!1,divider:et=!1,disableGutters:tt=!1,focusVisibleClassName:nt,role:ot="menuitem",tabIndex:it,className:st}=a,ut=_objectWithoutPropertiesLoose$5(a,_excluded$r),lt=reactExports.useContext(ListContext$1),rt=reactExports.useMemo(()=>({dense:_e||lt.dense||!1,disableGutters:tt}),[lt.dense,_e,tt]),dt=reactExports.useRef(null);useEnhancedEffect$1(()=>{$&&dt.current&&dt.current.focus()},[$]);const ct=_extends({},a,{dense:rt.dense,divider:et,disableGutters:tt}),pt=useUtilityClasses$q(a),at=useForkRef(dt,i);let ht;return a.disabled||(ht=it!==void 0?it:-1),jsx(ListContext$1.Provider,{value:rt,children:jsx(MenuItemRoot,_extends({ref:at,role:ot,tabIndex:ht,component:j,focusVisibleClassName:clsx(pt.focusVisible,nt),className:clsx(pt.root,st)},ut,{ownerState:ct,classes:pt}))})}),MenuItem$1=MenuItem;function getTabUtilityClass(s){return generateUtilityClass("MuiTab",s)}const tabClasses=generateUtilityClasses("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),tabClasses$1=tabClasses,_excluded$q=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],useUtilityClasses$p=s=>{const{classes:o,textColor:i,fullWidth:a,wrapped:$,icon:j,label:_e,selected:et,disabled:tt}=s,nt={root:["root",j&&_e&&"labelIcon",`textColor${capitalize(i)}`,a&&"fullWidth",$&&"wrapped",et&&"selected",tt&&"disabled"],iconWrapper:["iconWrapper"]};return composeClasses(nt,getTabUtilityClass,o)},TabRoot=styled$1(ButtonBase$1,{name:"MuiTab",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,i.label&&i.icon&&o.labelIcon,o[`textColor${capitalize(i.textColor)}`],i.fullWidth&&o.fullWidth,i.wrapped&&o.wrapped]}})(({theme:s,ownerState:o})=>_extends({},s.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},o.label&&{flexDirection:o.iconPosition==="top"||o.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},o.icon&&o.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${tabClasses$1.iconWrapper}`]:_extends({},o.iconPosition==="top"&&{marginBottom:6},o.iconPosition==="bottom"&&{marginTop:6},o.iconPosition==="start"&&{marginRight:s.spacing(1)},o.iconPosition==="end"&&{marginLeft:s.spacing(1)})},o.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${tabClasses$1.selected}`]:{opacity:1},[`&.${tabClasses$1.disabled}`]:{opacity:(s.vars||s).palette.action.disabledOpacity}},o.textColor==="primary"&&{color:(s.vars||s).palette.text.secondary,[`&.${tabClasses$1.selected}`]:{color:(s.vars||s).palette.primary.main},[`&.${tabClasses$1.disabled}`]:{color:(s.vars||s).palette.text.disabled}},o.textColor==="secondary"&&{color:(s.vars||s).palette.text.secondary,[`&.${tabClasses$1.selected}`]:{color:(s.vars||s).palette.secondary.main},[`&.${tabClasses$1.disabled}`]:{color:(s.vars||s).palette.text.disabled}},o.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},o.wrapped&&{fontSize:s.typography.pxToRem(12)})),Tab=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiTab"}),{className:$,disabled:j=!1,disableFocusRipple:_e=!1,fullWidth:et,icon:tt,iconPosition:nt="top",indicator:ot,label:it,onChange:st,onClick:ut,onFocus:lt,selected:rt,selectionFollowsFocus:dt,textColor:ct="inherit",value:pt,wrapped:at=!1}=a,ht=_objectWithoutPropertiesLoose$5(a,_excluded$q),xt=_extends({},a,{disabled:j,disableFocusRipple:_e,selected:rt,icon:!!tt,iconPosition:nt,label:!!it,fullWidth:et,textColor:ct,wrapped:at}),gt=useUtilityClasses$p(xt),vt=tt&&it&&reactExports.isValidElement(tt)?reactExports.cloneElement(tt,{className:clsx(gt.iconWrapper,tt.props.className)}):tt,ft=mt=>{!rt&&st&&st(mt,pt),ut&&ut(mt)},yt=mt=>{dt&&!rt&&st&&st(mt,pt),lt&&lt(mt)};return jsxs(TabRoot,_extends({focusRipple:!_e,className:clsx(gt.root,$),ref:i,role:"tab","aria-selected":rt,disabled:j,onClick:ft,onFocus:yt,ownerState:xt,tabIndex:rt?0:-1},ht,{children:[nt==="top"||nt==="start"?jsxs(reactExports.Fragment,{children:[vt,it]}):jsxs(reactExports.Fragment,{children:[it,vt]}),ot]}))}),Tab$1=Tab,KeyboardArrowLeft=createSvgIcon$1(jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),KeyboardArrowRight=createSvgIcon$1(jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function easeInOutSin(s){return(1+Math.sin(Math.PI*s-Math.PI/2))/2}function animate(s,o,i,a={},$=()=>{}){const{ease:j=easeInOutSin,duration:_e=300}=a;let et=null;const tt=o[s];let nt=!1;const ot=()=>{nt=!0},it=st=>{if(nt){$(new Error("Animation cancelled"));return}et===null&&(et=st);const ut=Math.min(1,(st-et)/_e);if(o[s]=j(ut)*(i-tt)+tt,ut>=1){requestAnimationFrame(()=>{$(null)});return}requestAnimationFrame(it)};return tt===i?($(new Error("Element already at target position")),ot):(requestAnimationFrame(it),ot)}const _excluded$p=["onChange"],styles={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ScrollbarSize(s){const{onChange:o}=s,i=_objectWithoutPropertiesLoose$5(s,_excluded$p),a=reactExports.useRef(),$=reactExports.useRef(null),j=()=>{a.current=$.current.offsetHeight-$.current.clientHeight};return reactExports.useEffect(()=>{const _e=debounce(()=>{const tt=a.current;j(),tt!==a.current&&o(a.current)}),et=ownerWindow($.current);return et.addEventListener("resize",_e),()=>{_e.clear(),et.removeEventListener("resize",_e)}},[o]),reactExports.useEffect(()=>{j(),o(a.current)},[o]),jsx("div",_extends({style:styles,ref:$},i))}function getTabScrollButtonUtilityClass(s){return generateUtilityClass("MuiTabScrollButton",s)}const tabScrollButtonClasses=generateUtilityClasses("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),tabScrollButtonClasses$1=tabScrollButtonClasses;var _KeyboardArrowLeft,_KeyboardArrowRight;const _excluded$o=["className","direction","orientation","disabled"],useUtilityClasses$o=s=>{const{classes:o,orientation:i,disabled:a}=s;return composeClasses({root:["root",i,a&&"disabled"]},getTabScrollButtonUtilityClass,o)},TabScrollButtonRoot=styled$1(ButtonBase$1,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.root,i.orientation&&o[i.orientation]]}})(({ownerState:s})=>_extends({width:40,flexShrink:0,opacity:.8,[`&.${tabScrollButtonClasses$1.disabled}`]:{opacity:0}},s.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${s.isRtl?-90:90}deg)`}})),TabScrollButton=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiTabScrollButton"}),{className:$,direction:j}=a,_e=_objectWithoutPropertiesLoose$5(a,_excluded$o),tt=useTheme().direction==="rtl",nt=_extends({isRtl:tt},a),ot=useUtilityClasses$o(nt);return jsx(TabScrollButtonRoot,_extends({component:"div",className:clsx(ot.root,$),ref:i,role:null,ownerState:nt,tabIndex:null},_e,{children:j==="left"?_KeyboardArrowLeft||(_KeyboardArrowLeft=jsx(KeyboardArrowLeft,{fontSize:"small"})):_KeyboardArrowRight||(_KeyboardArrowRight=jsx(KeyboardArrowRight,{fontSize:"small"}))}))}),TabScrollButton$1=TabScrollButton;function getTabsUtilityClass(s){return generateUtilityClass("MuiTabs",s)}const tabsClasses=generateUtilityClasses("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),tabsClasses$1=tabsClasses,_excluded$n=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],nextItem=(s,o)=>s===o?s.firstChild:o&&o.nextElementSibling?o.nextElementSibling:s.firstChild,previousItem=(s,o)=>s===o?s.lastChild:o&&o.previousElementSibling?o.previousElementSibling:s.lastChild,moveFocus=(s,o,i)=>{let a=!1,$=i(s,o);for(;$;){if($===s.firstChild){if(a)return;a=!0}const j=$.disabled||$.getAttribute("aria-disabled")==="true";if(!$.hasAttribute("tabindex")||j)$=i(s,$);else{$.focus();return}}},useUtilityClasses$n=s=>{const{vertical:o,fixed:i,hideScrollbar:a,scrollableX:$,scrollableY:j,centered:_e,scrollButtonsHideMobile:et,classes:tt}=s;return composeClasses({root:["root",o&&"vertical"],scroller:["scroller",i&&"fixed",a&&"hideScrollbar",$&&"scrollableX",j&&"scrollableY"],flexContainer:["flexContainer",o&&"flexContainerVertical",_e&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",et&&"scrollButtonsHideMobile"],scrollableX:[$&&"scrollableX"],hideScrollbar:[a&&"hideScrollbar"]},getTabsUtilityClass,tt)},TabsRoot=styled$1("div",{name:"MuiTabs",slot:"Root",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[{[`& .${tabsClasses$1.scrollButtons}`]:o.scrollButtons},{[`& .${tabsClasses$1.scrollButtons}`]:i.scrollButtonsHideMobile&&o.scrollButtonsHideMobile},o.root,i.vertical&&o.vertical]}})(({ownerState:s,theme:o})=>_extends({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},s.vertical&&{flexDirection:"column"},s.scrollButtonsHideMobile&&{[`& .${tabsClasses$1.scrollButtons}`]:{[o.breakpoints.down("sm")]:{display:"none"}}})),TabsScroller=styled$1("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.scroller,i.fixed&&o.fixed,i.hideScrollbar&&o.hideScrollbar,i.scrollableX&&o.scrollableX,i.scrollableY&&o.scrollableY]}})(({ownerState:s})=>_extends({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},s.fixed&&{overflowX:"hidden",width:"100%"},s.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},s.scrollableX&&{overflowX:"auto",overflowY:"hidden"},s.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),FlexContainer=styled$1("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(s,o)=>{const{ownerState:i}=s;return[o.flexContainer,i.vertical&&o.flexContainerVertical,i.centered&&o.centered]}})(({ownerState:s})=>_extends({display:"flex"},s.vertical&&{flexDirection:"column"},s.centered&&{justifyContent:"center"})),TabsIndicator=styled$1("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(s,o)=>o.indicator})(({ownerState:s,theme:o})=>_extends({position:"absolute",height:2,bottom:0,width:"100%",transition:o.transitions.create()},s.indicatorColor==="primary"&&{backgroundColor:(o.vars||o).palette.primary.main},s.indicatorColor==="secondary"&&{backgroundColor:(o.vars||o).palette.secondary.main},s.vertical&&{height:"100%",width:2,right:0})),TabsScrollbarSize=styled$1(ScrollbarSize,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),defaultIndicatorStyle={},Tabs=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiTabs"}),$=useTheme(),j=$.direction==="rtl",{"aria-label":_e,"aria-labelledby":et,action:tt,centered:nt=!1,children:ot,className:it,component:st="div",allowScrollButtonsMobile:ut=!1,indicatorColor:lt="primary",onChange:rt,orientation:dt="horizontal",ScrollButtonComponent:ct=TabScrollButton$1,scrollButtons:pt="auto",selectionFollowsFocus:at,TabIndicatorProps:ht={},TabScrollButtonProps:xt={},textColor:gt="primary",value:vt,variant:ft="standard",visibleScrollbar:yt=!1}=a,mt=_objectWithoutPropertiesLoose$5(a,_excluded$n),St=ft==="scrollable",At=dt==="vertical",Ft=At?"scrollTop":"scrollLeft",Tt=At?"top":"left",Dt=At?"bottom":"right",It=At?"clientHeight":"clientWidth",Rt=At?"height":"width",Pt=_extends({},a,{component:st,allowScrollButtonsMobile:ut,indicatorColor:lt,orientation:dt,vertical:At,scrollButtons:pt,textColor:gt,variant:ft,visibleScrollbar:yt,fixed:!St,hideScrollbar:St&&!yt,scrollableX:St&&!At,scrollableY:St&&At,centered:nt&&!St,scrollButtonsHideMobile:!ut}),Nt=useUtilityClasses$n(Pt),[Lt,zt]=reactExports.useState(!1),[Mt,Et]=reactExports.useState(defaultIndicatorStyle),[Ct,Ot]=reactExports.useState({start:!1,end:!1}),[Ut,$t]=reactExports.useState({overflow:"hidden",scrollbarWidth:0}),Bt=new Map,Wt=reactExports.useRef(null),Gt=reactExports.useRef(null),bt=()=>{const an=Wt.current;let tn;if(an){const En=an.getBoundingClientRect();tn={clientWidth:an.clientWidth,scrollLeft:an.scrollLeft,scrollTop:an.scrollTop,scrollLeftNormalized:getNormalizedScrollLeft(an,$.direction),scrollWidth:an.scrollWidth,top:En.top,bottom:En.bottom,left:En.left,right:En.right}}let bn;if(an&&vt!==!1){const En=Gt.current.children;if(En.length>0){const pn=En[Bt.get(vt)];bn=pn?pn.getBoundingClientRect():null}}return{tabsMeta:tn,tabMeta:bn}},wt=useEventCallback(()=>{const{tabsMeta:an,tabMeta:tn}=bt();let bn=0,En;if(At)En="top",tn&&an&&(bn=tn.top-an.top+an.scrollTop);else if(En=j?"right":"left",tn&&an){const vn=j?an.scrollLeftNormalized+an.clientWidth-an.scrollWidth:an.scrollLeft;bn=(j?-1:1)*(tn[En]-an[En]+vn)}const pn={[En]:bn,[Rt]:tn?tn[Rt]:0};if(isNaN(Mt[En])||isNaN(Mt[Rt]))Et(pn);else{const vn=Math.abs(Mt[En]-pn[En]),wn=Math.abs(Mt[Rt]-pn[Rt]);(vn>=1||wn>=1)&&Et(pn)}}),kt=(an,{animation:tn=!0}={})=>{tn?animate(Ft,Wt.current,an,{duration:$.transitions.duration.standard}):Wt.current[Ft]=an},jt=an=>{let tn=Wt.current[Ft];At?tn+=an:(tn+=an*(j?-1:1),tn*=j&&detectScrollType()==="reverse"?-1:1),kt(tn)},Ht=()=>{const an=Wt.current[It];let tn=0;const bn=Array.from(Gt.current.children);for(let En=0;En<bn.length;En+=1){const pn=bn[En];if(tn+pn[It]>an){En===0&&(tn=an);break}tn+=pn[It]}return tn},Kt=()=>{jt(-1*Ht())},Zt=()=>{jt(Ht())},rn=reactExports.useCallback(an=>{$t({overflow:null,scrollbarWidth:an})},[]),qt=()=>{const an={};an.scrollbarSizeListener=St?jsx(TabsScrollbarSize,{onChange:rn,className:clsx(Nt.scrollableX,Nt.hideScrollbar)}):null;const tn=Ct.start||Ct.end,bn=St&&(pt==="auto"&&tn||pt===!0);return an.scrollButtonStart=bn?jsx(ct,_extends({orientation:dt,direction:j?"right":"left",onClick:Kt,disabled:!Ct.start},xt,{className:clsx(Nt.scrollButtons,xt.className)})):null,an.scrollButtonEnd=bn?jsx(ct,_extends({orientation:dt,direction:j?"left":"right",onClick:Zt,disabled:!Ct.end},xt,{className:clsx(Nt.scrollButtons,xt.className)})):null,an},nn=useEventCallback(an=>{const{tabsMeta:tn,tabMeta:bn}=bt();if(!(!bn||!tn)){if(bn[Tt]<tn[Tt]){const En=tn[Ft]+(bn[Tt]-tn[Tt]);kt(En,{animation:an})}else if(bn[Dt]>tn[Dt]){const En=tn[Ft]+(bn[Dt]-tn[Dt]);kt(En,{animation:an})}}}),Xt=useEventCallback(()=>{if(St&&pt!==!1){const{scrollTop:an,scrollHeight:tn,clientHeight:bn,scrollWidth:En,clientWidth:pn}=Wt.current;let vn,wn;if(At)vn=an>1,wn=an<tn-bn-1;else{const An=getNormalizedScrollLeft(Wt.current,$.direction);vn=j?An<En-pn-1:An>1,wn=j?An>1:An<En-pn-1}(vn!==Ct.start||wn!==Ct.end)&&Ot({start:vn,end:wn})}});reactExports.useEffect(()=>{const an=debounce(()=>{Wt.current&&(wt(),Xt())}),tn=ownerWindow(Wt.current);tn.addEventListener("resize",an);let bn;return typeof ResizeObserver<"u"&&(bn=new ResizeObserver(an),Array.from(Gt.current.children).forEach(En=>{bn.observe(En)})),()=>{an.clear(),tn.removeEventListener("resize",an),bn&&bn.disconnect()}},[wt,Xt]);const sn=reactExports.useMemo(()=>debounce(()=>{Xt()}),[Xt]);reactExports.useEffect(()=>()=>{sn.clear()},[sn]),reactExports.useEffect(()=>{zt(!0)},[]),reactExports.useEffect(()=>{wt(),Xt()}),reactExports.useEffect(()=>{nn(defaultIndicatorStyle!==Mt)},[nn,Mt]),reactExports.useImperativeHandle(tt,()=>({updateIndicator:wt,updateScrollButtons:Xt}),[wt,Xt]);const ln=jsx(TabsIndicator,_extends({},ht,{className:clsx(Nt.indicator,ht.className),ownerState:Pt,style:_extends({},Mt,ht.style)}));let Vt=0;const cn=reactExports.Children.map(ot,an=>{if(!reactExports.isValidElement(an))return null;const tn=an.props.value===void 0?Vt:an.props.value;Bt.set(tn,Vt);const bn=tn===vt;return Vt+=1,reactExports.cloneElement(an,_extends({fullWidth:ft==="fullWidth",indicator:bn&&!Lt&&ln,selected:bn,selectionFollowsFocus:at,onChange:rt,textColor:gt,value:tn},Vt===1&&vt===!1&&!an.props.tabIndex?{tabIndex:0}:{}))}),xn=an=>{const tn=Gt.current,bn=ownerDocument(tn).activeElement;if(bn.getAttribute("role")!=="tab")return;let pn=dt==="horizontal"?"ArrowLeft":"ArrowUp",vn=dt==="horizontal"?"ArrowRight":"ArrowDown";switch(dt==="horizontal"&&j&&(pn="ArrowRight",vn="ArrowLeft"),an.key){case pn:an.preventDefault(),moveFocus(tn,bn,previousItem);break;case vn:an.preventDefault(),moveFocus(tn,bn,nextItem);break;case"Home":an.preventDefault(),moveFocus(tn,null,nextItem);break;case"End":an.preventDefault(),moveFocus(tn,null,previousItem);break}},Cn=qt();return jsxs(TabsRoot,_extends({className:clsx(Nt.root,it),ownerState:Pt,ref:i,as:st},mt,{children:[Cn.scrollButtonStart,Cn.scrollbarSizeListener,jsxs(TabsScroller,{className:Nt.scroller,ownerState:Pt,style:{overflow:Ut.overflow,[At?`margin${j?"Left":"Right"}`:"marginBottom"]:yt?void 0:-Ut.scrollbarWidth},ref:Wt,onScroll:sn,children:[jsx(FlexContainer,{"aria-label":_e,"aria-labelledby":et,"aria-orientation":dt==="vertical"?"vertical":null,className:Nt.flexContainer,ownerState:Pt,onKeyDown:xn,ref:Gt,role:"tablist",children:cn}),Lt&&ln]}),Cn.scrollButtonEnd]}))}),Tabs$1=Tabs,ArrowDropDown=createSvgIcon$1(jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ArrowLeft=createSvgIcon$1(jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),ArrowRight=createSvgIcon$1(jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Calendar=createSvgIcon$1(jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Clock$1=createSvgIcon$1(jsxs(reactExports.Fragment,{children:[jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),DateRange=createSvgIcon$1(jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),Pen=createSvgIcon$1(jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Pen"),Time=createSvgIcon$1(jsxs(reactExports.Fragment,{children:[jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");function getPickersToolbarUtilityClass(s){return generateUtilityClass("MuiPickersToolbar",s)}const pickersToolbarClasses=generateUtilityClasses("MuiPickersToolbar",["root","content","penIconButton","penIconButtonLandscape"]),useUtilityClasses$m=s=>{const{classes:o,isLandscape:i}=s;return composeClasses({root:["root"],content:["content"],penIconButton:["penIconButton",i&&"penIconButtonLandscape"]},getPickersToolbarUtilityClass,o)},PickersToolbarRoot=styled$1("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(s,o)=>o.root})(({theme:s,ownerState:o})=>_extends({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:s.spacing(2,3)},o.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),PickersToolbarContent=styled$1(Grid$1,{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(s,o)=>o.content})(({ownerState:s})=>_extends({flex:1},!s.isLandscape&&{alignItems:"center"})),PickersToolbarPenIconButton=styled$1(IconButton$1,{name:"MuiPickersToolbar",slot:"PenIconButton",overridesResolver:(s,o)=>[{[`&.${pickersToolbarClasses.penIconButtonLandscape}`]:o.penIconButtonLandscape},o.penIconButton]})({}),getViewTypeIcon=s=>s==="clock"?jsx(Clock$1,{color:"inherit"}):jsx(Calendar,{color:"inherit"}),PickersToolbar=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiPickersToolbar"}),{children:$,className:j,getMobileKeyboardInputViewButtonText:_e,isLandscape:et,isMobileKeyboardViewOpen:tt,landscapeDirection:nt="column",toggleMobileKeyboardView:ot,toolbarTitle:it,viewType:st="calendar"}=a,ut=a,lt=useLocaleText(),rt=useUtilityClasses$m(ut);return jsxs(PickersToolbarRoot,{ref:i,className:clsx(rt.root,j),ownerState:ut,children:[jsx(Typography$1,{color:"text.secondary",variant:"overline",children:it}),jsxs(PickersToolbarContent,{container:!0,justifyContent:"space-between",className:rt.content,ownerState:ut,direction:et?nt:"row",alignItems:et?"flex-start":"flex-end",children:[$,jsx(PickersToolbarPenIconButton,{onClick:ot,className:rt.penIconButton,ownerState:ut,color:"inherit","aria-label":_e?_e(tt,st):lt.inputModeToggleButtonAriaLabel(tt,st),children:tt?getViewTypeIcon(st):jsx(Pen,{color:"inherit"})})]})]})});function getDatePickerToolbarUtilityClass(s){return generateUtilityClass("MuiDatePickerToolbar",s)}generateUtilityClasses("MuiDatePickerToolbar",["root","title"]);const _excluded$m=["parsedValue","isLandscape","isMobileKeyboardViewOpen","onChange","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],useUtilityClasses$l=s=>{const{classes:o}=s;return composeClasses({root:["root"],title:["title"]},getDatePickerToolbarUtilityClass,o)},DatePickerToolbarRoot=styled$1(PickersToolbar,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(s,o)=>o.root})({}),DatePickerToolbarTitle=styled$1(Typography$1,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(s,o)=>o.title})(({ownerState:s})=>_extends({},s.isLandscape&&{margin:"auto 16px auto auto"})),DatePickerToolbar=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiDatePickerToolbar"}),{parsedValue:$,isLandscape:j,isMobileKeyboardViewOpen:_e,toggleMobileKeyboardView:et,toolbarFormat:tt,toolbarPlaceholder:nt="",toolbarTitle:ot,views:it}=a,st=_objectWithoutPropertiesLoose$5(a,_excluded$m),ut=useUtils(),lt=useLocaleText(),rt=useUtilityClasses$l(a),dt=ot??lt.datePickerDefaultToolbarTitle,ct=reactExports.useMemo(()=>$?tt?ut.formatByString($,tt):isYearOnlyView(it)?ut.format($,"year"):isYearAndMonthViews(it)?ut.format($,"month"):/en/.test(ut.getCurrentLocaleCode())?ut.format($,"normalDateWithWeekday"):ut.format($,"normalDate"):nt,[$,tt,nt,ut,it]),pt=a;return jsx(DatePickerToolbarRoot,_extends({ref:i,toolbarTitle:dt,isMobileKeyboardViewOpen:_e,toggleMobileKeyboardView:et,isLandscape:j,className:rt.root},st,{children:jsx(DatePickerToolbarTitle,{variant:"h4",align:j?"left":"center",ownerState:pt,className:rt.title,children:ct})}))}),WrapperVariantContext=reactExports.createContext(null),_excluded$l=["onAccept","onClear","onCancel","onSetToday","actions"],PickersActionBar=s=>{const{onAccept:o,onClear:i,onCancel:a,onSetToday:$,actions:j}=s,_e=_objectWithoutPropertiesLoose$5(s,_excluded$l),et=reactExports.useContext(WrapperVariantContext),tt=useLocaleText(),nt=typeof j=="function"?j(et):j;if(nt==null||nt.length===0)return null;const ot=nt==null?void 0:nt.map(it=>{switch(it){case"clear":return jsx(Button$1,{onClick:i,children:tt.clearButtonLabel},it);case"cancel":return jsx(Button$1,{onClick:a,children:tt.cancelButtonLabel},it);case"accept":return jsx(Button$1,{onClick:o,children:tt.okButtonLabel},it);case"today":return jsx(Button$1,{onClick:$,children:tt.todayButtonLabel},it);default:return null}});return jsx(DialogActions$1,_extends({},_e,{children:ot}))};function getPickersPopperUtilityClass(s){return generateUtilityClass("MuiPickersPopper",s)}generateUtilityClasses("MuiPickersPopper",["root","paper"]);function arrayIncludes(s,o){return Array.isArray(o)?o.every(i=>s.indexOf(i)!==-1):s.indexOf(o)!==-1}const onSpaceOrEnter=(s,o)=>i=>{(i.key==="Enter"||i.key===" ")&&(s(i),i.preventDefault(),i.stopPropagation()),o&&o(i)},getActiveElement=(s=document)=>{const o=s.activeElement;return o?o.shadowRoot?getActiveElement(o.shadowRoot):o:null},_excluded$k=["onClick","onTouchStart"],useUtilityClasses$k=s=>{const{classes:o}=s;return composeClasses({root:["root"],paper:["paper"]},getPickersPopperUtilityClass,o)},PickersPopperRoot=styled$1(Popper$1,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(s,o)=>o.root})(({theme:s})=>({zIndex:s.zIndex.modal})),PickersPopperPaper=styled$1(Paper$1,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(s,o)=>o.paper})(({ownerState:s})=>_extends({transformOrigin:"top center",outline:0},s.placement==="top"&&{transformOrigin:"bottom center"}));function clickedRootScrollbar(s,o){return o.documentElement.clientWidth<s.clientX||o.documentElement.clientHeight<s.clientY}function useClickAwayListener(s,o){const i=reactExports.useRef(!1),a=reactExports.useRef(!1),$=reactExports.useRef(null),j=reactExports.useRef(!1);reactExports.useEffect(()=>{if(!s)return;function tt(){j.current=!0}return document.addEventListener("mousedown",tt,!0),document.addEventListener("touchstart",tt,!0),()=>{document.removeEventListener("mousedown",tt,!0),document.removeEventListener("touchstart",tt,!0),j.current=!1}},[s]);const _e=useEventCallback(tt=>{if(!j.current)return;const nt=a.current;a.current=!1;const ot=ownerDocument($.current);if(!$.current||"clientX"in tt&&clickedRootScrollbar(tt,ot))return;if(i.current){i.current=!1;return}let it;tt.composedPath?it=tt.composedPath().indexOf($.current)>-1:it=!ot.documentElement.contains(tt.target)||$.current.contains(tt.target),!it&&!nt&&o(tt)}),et=()=>{a.current=!0};return reactExports.useEffect(()=>{if(s){const tt=ownerDocument($.current),nt=()=>{i.current=!0};return tt.addEventListener("touchstart",_e),tt.addEventListener("touchmove",nt),()=>{tt.removeEventListener("touchstart",_e),tt.removeEventListener("touchmove",nt)}}},[s,_e]),reactExports.useEffect(()=>{if(s){const tt=ownerDocument($.current);return tt.addEventListener("click",_e),()=>{tt.removeEventListener("click",_e),a.current=!1}}},[s,_e]),[$,et,et]}function PickersPopper(s){var o;const i=useThemeProps({props:s,name:"MuiPickersPopper"}),{anchorEl:a,children:$,containerRef:j=null,onBlur:_e,onClose:et,onClear:tt,onAccept:nt,onCancel:ot,onSetToday:it,open:st,PopperProps:ut,role:lt,TransitionComponent:rt=Grow$1,TrapFocusProps:dt,PaperProps:ct={},components:pt,componentsProps:at}=i;reactExports.useEffect(()=>{function Nt(Lt){st&&(Lt.key==="Escape"||Lt.key==="Esc")&&et()}return document.addEventListener("keydown",Nt),()=>{document.removeEventListener("keydown",Nt)}},[et,st]);const ht=reactExports.useRef(null);reactExports.useEffect(()=>{lt!=="tooltip"&&(st?ht.current=getActiveElement(document):ht.current&&ht.current instanceof HTMLElement&&setTimeout(()=>{ht.current instanceof HTMLElement&&ht.current.focus()}))},[st,lt]);const[xt,gt,vt]=useClickAwayListener(st,_e??et),ft=reactExports.useRef(null),yt=useForkRef(ft,j),mt=useForkRef(yt,xt),St=i,At=useUtilityClasses$k(St),{onClick:Ft,onTouchStart:Tt}=ct,Dt=_objectWithoutPropertiesLoose$5(ct,_excluded$k),It=Nt=>{Nt.key==="Escape"&&(Nt.stopPropagation(),et())},Rt=(o=pt==null?void 0:pt.ActionBar)!=null?o:PickersActionBar,Pt=(pt==null?void 0:pt.PaperContent)||reactExports.Fragment;return jsx(PickersPopperRoot,_extends({transition:!0,role:lt,open:st,anchorEl:a,onKeyDown:It,className:At.root},ut,{children:({TransitionProps:Nt,placement:Lt})=>jsx(FocusTrap,_extends({open:st,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:lt==="tooltip",isEnabled:()=>!0},dt,{children:jsx(rt,_extends({},Nt,{children:jsx(PickersPopperPaper,_extends({tabIndex:-1,elevation:8,ref:mt,onClick:zt=>{gt(zt),Ft&&Ft(zt)},onTouchStart:zt=>{vt(zt),Tt&&Tt(zt)},ownerState:_extends({},St,{placement:Lt}),className:At.paper},Dt,{children:jsxs(Pt,_extends({},at==null?void 0:at.paperContent,{children:[$,jsx(Rt,_extends({onAccept:nt,onClear:tt,onCancel:ot,onSetToday:it,actions:[]},at==null?void 0:at.actionBar))]}))}))}))}))}))}function DesktopWrapper(s){const{children:o,DateInputProps:i,KeyboardDateInputComponent:a,onClear:$,onDismiss:j,onCancel:_e,onAccept:et,onSetToday:tt,open:nt,PopperProps:ot,PaperProps:it,TransitionComponent:st,components:ut,componentsProps:lt}=s,rt=reactExports.useRef(null),dt=useForkRef(i.inputRef,rt);return jsxs(WrapperVariantContext.Provider,{value:"desktop",children:[jsx(a,_extends({},i,{inputRef:dt})),jsx(PickersPopper,{role:"dialog",open:nt,anchorEl:rt.current,TransitionComponent:st,PopperProps:ot,PaperProps:it,onClose:j,onCancel:_e,onClear:$,onAccept:et,onSetToday:tt,components:ut,componentsProps:lt,children:o})]})}function useViews({onChange:s,onViewChange:o,openTo:i,view:a,views:$}){var j,_e;const[et,tt]=useControlled({name:"Picker",state:"view",controlled:a,default:i&&arrayIncludes($,i)?i:$[0]}),nt=(j=$[$.indexOf(et)-1])!=null?j:null,ot=(_e=$[$.indexOf(et)+1])!=null?_e:null,it=reactExports.useCallback(lt=>{tt(lt),o&&o(lt)},[tt,o]),st=reactExports.useCallback(()=>{ot&&it(ot)},[ot,it]);return{handleChangeAndOpenNext:reactExports.useCallback((lt,rt)=>{const dt=rt==="finish",ct=dt&&Boolean(ot)?"partial":rt;s(lt,ct),dt&&st()},[ot,s,st]),nextView:ot,previousView:nt,openNext:st,openView:et,setOpenView:it}}const CLOCK_WIDTH=220,CLOCK_HOUR_WIDTH=36,clockCenter={x:CLOCK_WIDTH/2,y:CLOCK_WIDTH/2},baseClockPoint={x:clockCenter.x,y:0},cx=baseClockPoint.x-clockCenter.x,cy=baseClockPoint.y-clockCenter.y,rad2deg=s=>s*(180/Math.PI),getAngleValue=(s,o,i)=>{const a=o-clockCenter.x,$=i-clockCenter.y,j=Math.atan2(cx,cy)-Math.atan2(a,$);let _e=rad2deg(j);_e=Math.round(_e/s)*s,_e%=360;const et=Math.floor(_e/s)||0,tt=a**2+$**2,nt=Math.sqrt(tt);return{value:et,distance:nt}},getMinutes=(s,o,i=1)=>{const a=i*6;let{value:$}=getAngleValue(a,s,o);return $=$*i%60,$},getHours=(s,o,i)=>{const{value:a,distance:$}=getAngleValue(30,s,o);let j=a||12;return i?j%=12:$<CLOCK_WIDTH/2-CLOCK_HOUR_WIDTH&&(j+=12,j%=24),j};function getClockPointerUtilityClass(s){return generateUtilityClass("MuiClockPointer",s)}generateUtilityClasses("MuiClockPointer",["root","thumb"]);const _excluded$j=["className","hasSelected","isInner","type","value"],useUtilityClasses$j=s=>{const{classes:o}=s;return composeClasses({root:["root"],thumb:["thumb"]},getClockPointerUtilityClass,o)},ClockPointerRoot=styled$1("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(s,o)=>o.root})(({theme:s,ownerState:o})=>_extends({width:2,backgroundColor:s.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},o.shouldAnimate&&{transition:s.transitions.create(["transform","height"])})),ClockPointerThumb=styled$1("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(s,o)=>o.thumb})(({theme:s,ownerState:o})=>_extends({width:4,height:4,backgroundColor:s.palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${CLOCK_HOUR_WIDTH/2}px)`,border:`${(CLOCK_HOUR_WIDTH-4)/2}px solid ${s.palette.primary.main}`,boxSizing:"content-box"},o.hasSelected&&{backgroundColor:s.palette.primary.main}));function ClockPointer(s){const o=useThemeProps({props:s,name:"MuiClockPointer"}),{className:i,isInner:a,type:$,value:j}=o,_e=_objectWithoutPropertiesLoose$5(o,_excluded$j),et=reactExports.useRef($);reactExports.useEffect(()=>{et.current=$},[$]);const tt=_extends({},o,{shouldAnimate:et.current!==$}),nt=useUtilityClasses$j(tt);return jsx(ClockPointerRoot,_extends({style:(()=>{let st=360/($==="hours"?12:60)*j;return $==="hours"&&j>12&&(st-=360),{height:Math.round((a?.26:.4)*CLOCK_WIDTH),transform:`rotateZ(${st}deg)`}})(),className:clsx(i,nt.root),ownerState:tt},_e,{children:jsx(ClockPointerThumb,{ownerState:tt,className:nt.thumb})}))}function getClockUtilityClass(s){return generateUtilityClass("MuiClock",s)}generateUtilityClasses("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton"]);const useUtilityClasses$i=s=>{const{classes:o}=s;return composeClasses({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"]},getClockUtilityClass,o)},ClockRoot=styled$1("div",{name:"MuiClock",slot:"Root",overridesResolver:(s,o)=>o.root})(({theme:s})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:s.spacing(2)})),ClockClock=styled$1("div",{name:"MuiClock",slot:"Clock",overridesResolver:(s,o)=>o.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),ClockWrapper=styled$1("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(s,o)=>o.wrapper})({"&:focus":{outline:"none"}}),ClockSquareMask=styled$1("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(s,o)=>o.squareMask})(({ownerState:s})=>_extends({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none"},s.disabled?{}:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}})),ClockPin=styled$1("div",{name:"MuiClock",slot:"Pin",overridesResolver:(s,o)=>o.pin})(({theme:s})=>({width:6,height:6,borderRadius:"50%",backgroundColor:s.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),ClockAmButton=styled$1(IconButton$1,{name:"MuiClock",slot:"AmButton",overridesResolver:(s,o)=>o.amButton})(({theme:s,ownerState:o})=>_extends({zIndex:1,position:"absolute",bottom:o.ampmInClock?64:8,left:8},o.meridiemMode==="am"&&{backgroundColor:s.palette.primary.main,color:s.palette.primary.contrastText,"&:hover":{backgroundColor:s.palette.primary.light}})),ClockPmButton=styled$1(IconButton$1,{name:"MuiClock",slot:"PmButton",overridesResolver:(s,o)=>o.pmButton})(({theme:s,ownerState:o})=>_extends({zIndex:1,position:"absolute",bottom:o.ampmInClock?64:8,right:8},o.meridiemMode==="pm"&&{backgroundColor:s.palette.primary.main,color:s.palette.primary.contrastText,"&:hover":{backgroundColor:s.palette.primary.light}}));function Clock(s){const o=useThemeProps({props:s,name:"MuiClock"}),{ampm:i,ampmInClock:a,autoFocus:$,children:j,date:_e,getClockLabelText:et,handleMeridiemChange:tt,isTimeDisabled:nt,meridiemMode:ot,minutesStep:it=1,onChange:st,selectedId:ut,type:lt,value:rt,disabled:dt,readOnly:ct,className:pt}=o,at=o,ht=useUtils(),xt=reactExports.useContext(WrapperVariantContext),gt=reactExports.useRef(!1),vt=useUtilityClasses$i(at),ft=nt(rt,lt),yt=!i&&lt==="hours"&&(rt<1||rt>12),mt=(Lt,zt)=>{dt||ct||nt(Lt,lt)||st(Lt,zt)},St=(Lt,zt)=>{let{offsetX:Mt,offsetY:Et}=Lt;if(Mt===void 0){const Ot=Lt.target.getBoundingClientRect();Mt=Lt.changedTouches[0].clientX-Ot.left,Et=Lt.changedTouches[0].clientY-Ot.top}const Ct=lt==="seconds"||lt==="minutes"?getMinutes(Mt,Et,it):getHours(Mt,Et,Boolean(i));mt(Ct,zt)},At=Lt=>{gt.current=!0,St(Lt,"shallow")},Ft=Lt=>{gt.current&&(St(Lt,"finish"),gt.current=!1)},Tt=Lt=>{Lt.buttons>0&&St(Lt.nativeEvent,"shallow")},Dt=Lt=>{gt.current&&(gt.current=!1),St(Lt.nativeEvent,"finish")},It=reactExports.useMemo(()=>lt==="hours"?!0:rt%5===0,[lt,rt]),Rt=lt==="minutes"?it:1,Pt=reactExports.useRef(null);useEnhancedEffect$1(()=>{$&&Pt.current.focus()},[$]);const Nt=Lt=>{if(!gt.current)switch(Lt.key){case"Home":mt(0,"partial"),Lt.preventDefault();break;case"End":mt(lt==="minutes"?59:23,"partial"),Lt.preventDefault();break;case"ArrowUp":mt(rt+Rt,"partial"),Lt.preventDefault();break;case"ArrowDown":mt(rt-Rt,"partial"),Lt.preventDefault();break}};return jsxs(ClockRoot,{className:clsx(pt,vt.root),children:[jsxs(ClockClock,{className:vt.clock,children:[jsx(ClockSquareMask,{onTouchMove:At,onTouchEnd:Ft,onMouseUp:Dt,onMouseMove:Tt,ownerState:{disabled:dt},className:vt.squareMask}),!ft&&jsxs(reactExports.Fragment,{children:[jsx(ClockPin,{className:vt.pin}),_e&&jsx(ClockPointer,{type:lt,value:rt,isInner:yt,hasSelected:It})]}),jsx(ClockWrapper,{"aria-activedescendant":ut,"aria-label":et(lt,_e,ht),ref:Pt,role:"listbox",onKeyDown:Nt,tabIndex:0,className:vt.wrapper,children:j})]}),i&&(xt==="desktop"||a)&&jsxs(reactExports.Fragment,{children:[jsx(ClockAmButton,{onClick:ct?void 0:()=>tt("am"),disabled:dt||ot===null,ownerState:at,className:vt.amButton,children:jsx(Typography$1,{variant:"caption",children:"AM"})}),jsx(ClockPmButton,{disabled:dt||ot===null,onClick:ct?void 0:()=>tt("pm"),ownerState:at,className:vt.pmButton,children:jsx(Typography$1,{variant:"caption",children:"PM"})})]})]})}const buildDeprecatedPropsWarning=s=>()=>{};function getClockNumberUtilityClass(s){return generateUtilityClass("MuiClockNumber",s)}const clockNumberClasses=generateUtilityClasses("MuiClockNumber",["root","selected","disabled"]),_excluded$i=["className","disabled","index","inner","label","selected"],useUtilityClasses$h=s=>{const{classes:o,selected:i,disabled:a}=s;return composeClasses({root:["root",i&&"selected",a&&"disabled"]},getClockNumberUtilityClass,o)},ClockNumberRoot=styled$1("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(s,o)=>[o.root,{[`&.${clockNumberClasses.disabled}`]:o.disabled},{[`&.${clockNumberClasses.selected}`]:o.selected}]})(({theme:s,ownerState:o})=>_extends({height:CLOCK_HOUR_WIDTH,width:CLOCK_HOUR_WIDTH,position:"absolute",left:`calc((100% - ${CLOCK_HOUR_WIDTH}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:s.palette.text.primary,fontFamily:s.typography.fontFamily,"&:focused":{backgroundColor:s.palette.background.paper},[`&.${clockNumberClasses.selected}`]:{color:s.palette.primary.contrastText},[`&.${clockNumberClasses.disabled}`]:{pointerEvents:"none",color:s.palette.text.disabled}},o.inner&&_extends({},s.typography.body2,{color:s.palette.text.secondary})));function ClockNumber(s){const o=useThemeProps({props:s,name:"MuiClockNumber"}),{className:i,disabled:a,index:$,inner:j,label:_e,selected:et}=o,tt=_objectWithoutPropertiesLoose$5(o,_excluded$i),nt=o,ot=useUtilityClasses$h(nt),it=$%12/12*Math.PI*2-Math.PI/2,st=(CLOCK_WIDTH-CLOCK_HOUR_WIDTH-2)/2*(j?.65:1),ut=Math.round(Math.cos(it)*st),lt=Math.round(Math.sin(it)*st);return jsx(ClockNumberRoot,_extends({className:clsx(i,ot.root),"aria-disabled":a?!0:void 0,"aria-selected":et?!0:void 0,role:"option",style:{transform:`translate(${ut}px, ${lt+(CLOCK_WIDTH-CLOCK_HOUR_WIDTH)/2}px`},ownerState:nt},tt,{children:_e}))}const getHourNumbers=({ampm:s,date:o,getClockNumberText:i,isDisabled:a,selectedId:$,utils:j})=>{const _e=o?j.getHours(o):null,et=[],tt=s?1:0,nt=s?12:23,ot=it=>_e===null?!1:s?it===12?_e===12||_e===0:_e===it||_e-12===it:_e===it;for(let it=tt;it<=nt;it+=1){let st=it.toString();it===0&&(st="00");const ut=!s&&(it===0||it>12);st=j.formatNumber(st);const lt=ot(it);et.push(jsx(ClockNumber,{id:lt?$:void 0,index:it,inner:ut,selected:lt,disabled:a(it),label:st,"aria-label":i(st)},it))}return et},getMinutesNumbers=({utils:s,value:o,isDisabled:i,getClockNumberText:a,selectedId:$})=>{const j=s.formatNumber;return[[5,j("05")],[10,j("10")],[15,j("15")],[20,j("20")],[25,j("25")],[30,j("30")],[35,j("35")],[40,j("40")],[45,j("45")],[50,j("50")],[55,j("55")],[0,j("00")]].map(([_e,et],tt)=>{const nt=_e===o;return jsx(ClockNumber,{label:et,id:nt?$:void 0,index:tt+1,inner:!1,disabled:i(_e),selected:nt,"aria-label":a(et)},_e)})};function getPickersArrowSwitcherUtilityClass(s){return generateUtilityClass("MuiPickersArrowSwitcher",s)}generateUtilityClasses("MuiPickersArrowSwitcher",["root","spacer","button"]);const _excluded$h=["children","className","components","componentsProps","isLeftDisabled","isLeftHidden","isRightDisabled","isRightHidden","leftArrowButtonText","onLeftClick","onRightClick","rightArrowButtonText"],useUtilityClasses$g=s=>{const{classes:o}=s;return composeClasses({root:["root"],spacer:["spacer"],button:["button"]},getPickersArrowSwitcherUtilityClass,o)},PickersArrowSwitcherRoot=styled$1("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(s,o)=>o.root})({display:"flex"}),PickersArrowSwitcherSpacer=styled$1("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(s,o)=>o.spacer})(({theme:s})=>({width:s.spacing(3)})),PickersArrowSwitcherButton=styled$1(IconButton$1,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(s,o)=>o.button})(({ownerState:s})=>_extends({},s.hidden&&{visibility:"hidden"})),PickersArrowSwitcher=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiPickersArrowSwitcher"}),{children:$,className:j,components:_e,componentsProps:et,isLeftDisabled:tt,isLeftHidden:nt,isRightDisabled:ot,isRightHidden:it,leftArrowButtonText:st,onLeftClick:ut,onRightClick:lt,rightArrowButtonText:rt}=a,dt=_objectWithoutPropertiesLoose$5(a,_excluded$h),pt=useTheme().direction==="rtl",at=(et==null?void 0:et.leftArrowButton)||{},ht=(_e==null?void 0:_e.LeftArrowIcon)||ArrowLeft,xt=(et==null?void 0:et.rightArrowButton)||{},gt=(_e==null?void 0:_e.RightArrowIcon)||ArrowRight,vt=a,ft=useUtilityClasses$g(vt);return jsxs(PickersArrowSwitcherRoot,_extends({ref:i,className:clsx(ft.root,j),ownerState:vt},dt,{children:[jsx(PickersArrowSwitcherButton,_extends({as:_e==null?void 0:_e.LeftArrowButton,size:"small","aria-label":st,title:st,disabled:tt,edge:"end",onClick:ut},at,{className:clsx(ft.button,at.className),ownerState:_extends({},vt,at,{hidden:nt}),children:pt?jsx(gt,{}):jsx(ht,{})})),$?jsx(Typography$1,{variant:"subtitle1",component:"span",children:$}):jsx(PickersArrowSwitcherSpacer,{className:ft.spacer,ownerState:vt}),jsx(PickersArrowSwitcherButton,_extends({as:_e==null?void 0:_e.RightArrowButton,size:"small","aria-label":rt,title:rt,edge:"start",disabled:ot,onClick:lt},xt,{className:clsx(ft.button,xt.className),ownerState:_extends({},vt,xt,{hidden:it}),children:pt?jsx(ht,{}):jsx(gt,{})}))]}))}),getMeridiem=(s,o)=>s?o.getHours(s)>=12?"pm":"am":null,convertValueToMeridiem=(s,o,i)=>i&&(s>=12?"pm":"am")!==o?o==="am"?s-12:s+12:s,convertToMeridiem=(s,o,i,a)=>{const $=convertValueToMeridiem(a.getHours(s),o,i);return a.setHours(s,$)},getSecondsInDay=(s,o)=>o.getHours(s)*3600+o.getMinutes(s)*60+o.getSeconds(s),createIsAfterIgnoreDatePart=(s=!1,o)=>(i,a)=>s?o.isAfter(i,a):getSecondsInDay(i,o)>getSecondsInDay(a,o);function useNextMonthDisabled(s,{disableFuture:o,maxDate:i}){const a=useUtils();return reactExports.useMemo(()=>{const $=a.date(),j=a.startOfMonth(o&&a.isBefore($,i)?$:i);return!a.isAfter(j,s)},[o,i,s,a])}function usePreviousMonthDisabled(s,{disablePast:o,minDate:i}){const a=useUtils();return reactExports.useMemo(()=>{const $=a.date(),j=a.startOfMonth(o&&a.isAfter($,i)?$:i);return!a.isBefore(j,s)},[o,i,s,a])}function useMeridiemMode(s,o,i){const a=useUtils(),$=getMeridiem(s,a),j=reactExports.useCallback(_e=>{const et=s==null?null:convertToMeridiem(s,_e,Boolean(o),a);i(et,"partial")},[o,s,i,a]);return{meridiemMode:$,handleMeridiemChange:j}}function getClockPickerUtilityClass(s){return generateUtilityClass("MuiClockPicker",s)}generateUtilityClasses("MuiClockPicker",["root","arrowSwitcher"]);const DAY_SIZE=36,DAY_MARGIN=2,DIALOG_WIDTH=320,VIEW_HEIGHT=358,PickerViewRoot=styled$1("div")({overflowX:"hidden",width:DIALOG_WIDTH,maxHeight:VIEW_HEIGHT,display:"flex",flexDirection:"column",margin:"0 auto"}),useUtilityClasses$f=s=>{const{classes:o}=s;return composeClasses({root:["root"],arrowSwitcher:["arrowSwitcher"]},getClockPickerUtilityClass,o)},ClockPickerRoot=styled$1(PickerViewRoot,{name:"MuiClockPicker",slot:"Root",overridesResolver:(s,o)=>o.root})({display:"flex",flexDirection:"column"}),ClockPickerArrowSwitcher=styled$1(PickersArrowSwitcher,{name:"MuiClockPicker",slot:"ArrowSwitcher",overridesResolver:(s,o)=>o.arrowSwitcher})({position:"absolute",right:12,top:15}),deprecatedPropsWarning$1=buildDeprecatedPropsWarning(),ClockPicker=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiClockPicker"}),{ampm:$=!1,ampmInClock:j=!1,autoFocus:_e,components:et,componentsProps:tt,date:nt,disableIgnoringDatePartForTimeValidation:ot,getClockLabelText:it,getHoursClockNumberText:st,getMinutesClockNumberText:ut,getSecondsClockNumberText:lt,leftArrowButtonText:rt,maxTime:dt,minTime:ct,minutesStep:pt=1,rightArrowButtonText:at,shouldDisableTime:ht,showViewSwitcher:xt,onChange:gt,view:vt,views:ft=["hours","minutes"],openTo:yt,onViewChange:mt,className:St,disabled:At,readOnly:Ft}=a;deprecatedPropsWarning$1({leftArrowButtonText:rt,rightArrowButtonText:at,getClockLabelText:it,getHoursClockNumberText:st,getMinutesClockNumberText:ut,getSecondsClockNumberText:lt});const Tt=useLocaleText(),Dt=rt??Tt.openPreviousView,It=at??Tt.openNextView,Rt=it??Tt.clockLabelText,Pt=st??Tt.hoursClockNumberText,Nt=ut??Tt.minutesClockNumberText,Lt=lt??Tt.secondsClockNumberText,{openView:zt,setOpenView:Mt,nextView:Et,previousView:Ct,handleChangeAndOpenNext:Ot}=useViews({view:vt,views:ft,openTo:yt,onViewChange:mt,onChange:gt}),Ut=useNow(),$t=useUtils(),Bt=reactExports.useMemo(()=>nt||$t.setSeconds($t.setMinutes($t.setHours(Ut,0),0),0),[nt,Ut,$t]),{meridiemMode:Wt,handleMeridiemChange:Gt}=useMeridiemMode(Bt,$,Ot),bt=reactExports.useCallback((Kt,Zt)=>{const rn=createIsAfterIgnoreDatePart(ot,$t),qt=({start:Xt,end:sn})=>!(ct&&rn(ct,sn)||dt&&rn(Xt,dt)),nn=(Xt,sn=1)=>Xt%sn!==0?!1:ht?!ht(Xt,Zt):!0;switch(Zt){case"hours":{const Xt=convertValueToMeridiem(Kt,Wt,$),sn=$t.setHours(Bt,Xt),ln=$t.setSeconds($t.setMinutes(sn,0),0),Vt=$t.setSeconds($t.setMinutes(sn,59),59);return!qt({start:ln,end:Vt})||!nn(Xt)}case"minutes":{const Xt=$t.setMinutes(Bt,Kt),sn=$t.setSeconds(Xt,0),ln=$t.setSeconds(Xt,59);return!qt({start:sn,end:ln})||!nn(Kt,pt)}case"seconds":{const Xt=$t.setSeconds(Bt,Kt);return!qt({start:Xt,end:Xt})||!nn(Kt)}default:throw new Error("not supported")}},[$,Bt,ot,dt,Wt,ct,pt,ht,$t]),wt=useId(),kt=reactExports.useMemo(()=>{switch(zt){case"hours":{const Kt=(Zt,rn)=>{const qt=convertValueToMeridiem(Zt,Wt,$);Ot($t.setHours(Bt,qt),rn)};return{onChange:Kt,value:$t.getHours(Bt),children:getHourNumbers({date:nt,utils:$t,ampm:$,onChange:Kt,getClockNumberText:Pt,isDisabled:Zt=>At||bt(Zt,"hours"),selectedId:wt})}}case"minutes":{const Kt=$t.getMinutes(Bt),Zt=(rn,qt)=>{Ot($t.setMinutes(Bt,rn),qt)};return{value:Kt,onChange:Zt,children:getMinutesNumbers({utils:$t,value:Kt,onChange:Zt,getClockNumberText:Nt,isDisabled:rn=>At||bt(rn,"minutes"),selectedId:wt})}}case"seconds":{const Kt=$t.getSeconds(Bt),Zt=(rn,qt)=>{Ot($t.setSeconds(Bt,rn),qt)};return{value:Kt,onChange:Zt,children:getMinutesNumbers({utils:$t,value:Kt,onChange:Zt,getClockNumberText:Lt,isDisabled:rn=>At||bt(rn,"seconds"),selectedId:wt})}}default:throw new Error("You must provide the type for ClockView")}},[zt,$t,nt,$,Pt,Nt,Lt,Wt,Ot,Bt,bt,wt,At]),jt=a,Ht=useUtilityClasses$f(jt);return jsxs(ClockPickerRoot,{ref:i,className:clsx(Ht.root,St),ownerState:jt,children:[xt&&jsx(ClockPickerArrowSwitcher,{className:Ht.arrowSwitcher,leftArrowButtonText:Dt,rightArrowButtonText:It,components:et,componentsProps:tt,onLeftClick:()=>Mt(Ct),onRightClick:()=>Mt(Et),isLeftDisabled:!Ct,isRightDisabled:!Et,ownerState:jt}),jsx(Clock,_extends({autoFocus:_e,date:nt,ampmInClock:j,type:zt,ampm:$,getClockLabelText:Rt,minutesStep:pt,isTimeDisabled:bt,meridiemMode:Wt,handleMeridiemChange:Gt,selectedId:wt,disabled:At,readOnly:Ft},kt))]})});function getPickersMonthUtilityClass(s){return generateUtilityClass("PrivatePickersMonth",s)}const pickersMonthClasses=generateUtilityClasses("PrivatePickersMonth",["root","selected"]),_excluded$g=["disabled","onSelect","selected","value","tabIndex","hasFocus","onFocus","onBlur"],useUtilityClasses$e=s=>{const{classes:o,selected:i}=s;return composeClasses({root:["root",i&&"selected"]},getPickersMonthUtilityClass,o)},PickersMonthRoot=styled$1(Typography$1,{name:"PrivatePickersMonth",slot:"Root",overridesResolver:(s,o)=>[o.root,{[`&.${pickersMonthClasses.selected}`]:o.selected}]})(({theme:s})=>_extends({flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",color:"unset",backgroundColor:"transparent",border:0,outline:0},s.typography.subtitle1,{margin:"8px 0",height:36,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:alpha(s.palette.action.active,s.palette.action.hoverOpacity)},"&:disabled":{pointerEvents:"none",color:s.palette.text.secondary},[`&.${pickersMonthClasses.selected}`]:{color:s.palette.primary.contrastText,backgroundColor:s.palette.primary.main,"&:focus, &:hover":{backgroundColor:s.palette.primary.dark}}})),noop$2=()=>{},PickersMonth=s=>{const{disabled:o,onSelect:i,selected:a,value:$,tabIndex:j,hasFocus:_e,onFocus:et=noop$2,onBlur:tt=noop$2}=s,nt=_objectWithoutPropertiesLoose$5(s,_excluded$g),ot=useUtilityClasses$e(s),it=()=>{i($)},st=reactExports.useRef(null);return useEnhancedEffect$1(()=>{if(_e){var ut;(ut=st.current)==null||ut.focus()}},[_e]),jsx(PickersMonthRoot,_extends({ref:st,component:"button",type:"button",className:ot.root,tabIndex:j,onClick:it,onKeyDown:onSpaceOrEnter(it),color:a?"primary":void 0,variant:a?"h5":"subtitle1",disabled:o,onFocus:ut=>et(ut,$),onBlur:ut=>tt(ut,$)},nt))};function getMonthPickerUtilityClass(s){return generateUtilityClass("MuiMonthPicker",s)}generateUtilityClasses("MuiMonthPicker",["root"]);const _excluded$f=["className","date","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange"],useUtilityClasses$d=s=>{const{classes:o}=s;return composeClasses({root:["root"]},getMonthPickerUtilityClass,o)};function useMonthPickerDefaultizedProps(s,o){const i=useUtils(),a=useDefaultDates(),$=useThemeProps({props:s,name:o});return _extends({disableFuture:!1,disablePast:!1},$,{minDate:parseNonNullablePickerDate(i,$.minDate,a.minDate),maxDate:parseNonNullablePickerDate(i,$.maxDate,a.maxDate)})}const MonthPickerRoot=styled$1("div",{name:"MuiMonthPicker",slot:"Root",overridesResolver:(s,o)=>o.root})({width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch",margin:"0 4px"}),MonthPicker=reactExports.forwardRef(function(o,i){const a=useUtils(),$=useNow(),j=useMonthPickerDefaultizedProps(o,"MuiMonthPicker"),{className:_e,date:et,disabled:tt,disableFuture:nt,disablePast:ot,maxDate:it,minDate:st,onChange:ut,shouldDisableMonth:lt,readOnly:rt,disableHighlightToday:dt,autoFocus:ct=!1,onMonthFocus:pt,hasFocus:at,onFocusedViewChange:ht}=j,xt=_objectWithoutPropertiesLoose$5(j,_excluded$f),gt=j,vt=useUtilityClasses$d(gt),ft=useTheme$1(),yt=reactExports.useMemo(()=>et??a.startOfMonth($),[$,a,et]),mt=reactExports.useMemo(()=>et!=null?a.getMonth(et):dt?null:a.getMonth($),[$,et,a,dt]),[St,At]=reactExports.useState(()=>mt||a.getMonth($)),Ft=reactExports.useCallback(Et=>{const Ct=a.startOfMonth(ot&&a.isAfter($,st)?$:st),Ot=a.startOfMonth(nt&&a.isBefore($,it)?$:it);return a.isBefore(Et,Ct)||a.isAfter(Et,Ot)?!0:lt?lt(Et):!1},[nt,ot,it,st,$,lt,a]),Tt=Et=>{if(rt)return;const Ct=a.setMonth(yt,Et);ut(Ct,"finish")},[Dt,It]=useControlled({name:"MonthPicker",state:"hasFocus",controlled:at,default:ct}),Rt=reactExports.useCallback(Et=>{It(Et),ht&&ht(Et)},[It,ht]),Pt=reactExports.useCallback(Et=>{Ft(a.setMonth(yt,Et))||(At(Et),Rt(!0),pt&&pt(Et))},[Ft,a,yt,Rt,pt]);reactExports.useEffect(()=>{At(Et=>mt!==null&&Et!==mt?mt:Et)},[mt]);const Nt=useEventCallback(Et=>{switch(Et.key){case"ArrowUp":Pt((12+St-3)%12),Et.preventDefault();break;case"ArrowDown":Pt((12+St+3)%12),Et.preventDefault();break;case"ArrowLeft":Pt((12+St+(ft.direction==="ltr"?-1:1))%12),Et.preventDefault();break;case"ArrowRight":Pt((12+St+(ft.direction==="ltr"?1:-1))%12),Et.preventDefault();break}}),Lt=reactExports.useCallback((Et,Ct)=>{Pt(Ct)},[Pt]),zt=reactExports.useCallback(()=>{Rt(!1)},[Rt]),Mt=a.getMonth($);return jsx(MonthPickerRoot,_extends({ref:i,className:clsx(vt.root,_e),ownerState:gt,onKeyDown:Nt},xt,{children:a.getMonthArray(yt).map(Et=>{const Ct=a.getMonth(Et),Ot=a.format(Et,"monthShort"),Ut=tt||Ft(Et);return jsx(PickersMonth,{value:Ct,selected:Ct===mt,tabIndex:Ct===St&&!Ut?0:-1,hasFocus:Dt&&Ct===St,onSelect:Tt,onFocus:Lt,onBlur:zt,disabled:Ut,"aria-current":Mt===Ct?"date":void 0,children:Ot},Ot)})}))});function useValidation(s,o,i){const{value:a,onError:$}=s,j=useLocalizationContext(),_e=reactExports.useRef(null),et=o({adapter:j,value:a,props:s});return reactExports.useEffect(()=>{$&&!i(et,_e.current)&&$(et,a),_e.current=et},[i,$,_e,et,a]),et}const validateDate=({props:s,value:o,adapter:i})=>{const a=i.utils.date(),$=i.utils.date(o),j=parseNonNullablePickerDate(i.utils,s.minDate,i.defaultDates.minDate),_e=parseNonNullablePickerDate(i.utils,s.maxDate,i.defaultDates.maxDate);if($===null)return null;switch(!0){case!i.utils.isValid(o):return"invalidDate";case Boolean(s.shouldDisableDate&&s.shouldDisableDate($)):return"shouldDisableDate";case Boolean(s.disableFuture&&i.utils.isAfterDay($,a)):return"disableFuture";case Boolean(s.disablePast&&i.utils.isBeforeDay($,a)):return"disablePast";case Boolean(j&&i.utils.isBeforeDay($,j)):return"minDate";case Boolean(_e&&i.utils.isAfterDay($,_e)):return"maxDate";default:return null}},useIsDayDisabled=({shouldDisableDate:s,minDate:o,maxDate:i,disableFuture:a,disablePast:$})=>{const j=useLocalizationContext();return reactExports.useCallback(_e=>validateDate({adapter:j,value:_e,props:{shouldDisableDate:s,minDate:o,maxDate:i,disableFuture:a,disablePast:$}})!==null,[j,s,o,i,a,$])},isSameDateError=(s,o)=>s===o,useDateValidation=s=>useValidation(s,validateDate,isSameDateError),createCalendarStateReducer=(s,o,i)=>(a,$)=>{switch($.type){case"changeMonth":return _extends({},a,{slideDirection:$.direction,currentMonth:$.newMonth,isMonthSwitchingAnimating:!s});case"finishMonthSwitchingAnimation":return _extends({},a,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(a.focusedDay!=null&&$.focusedDay!=null&&i.isSameDay($.focusedDay,a.focusedDay))return a;const j=$.focusedDay!=null&&!o&&!i.isSameMonth(a.currentMonth,$.focusedDay);return _extends({},a,{focusedDay:$.focusedDay,isMonthSwitchingAnimating:j&&!s&&!$.withoutMonthSwitchingAnimation,currentMonth:j?i.startOfMonth($.focusedDay):a.currentMonth,slideDirection:$.focusedDay!=null&&i.isAfterDay($.focusedDay,a.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},useCalendarState=({date:s,defaultCalendarMonth:o,disableFuture:i,disablePast:a,disableSwitchToMonthOnDayFocus:$=!1,maxDate:j,minDate:_e,onMonthChange:et,reduceAnimations:tt,shouldDisableDate:nt})=>{var ot;const it=useNow(),st=useUtils(),ut=reactExports.useRef(createCalendarStateReducer(Boolean(tt),$,st)).current,[lt,rt]=reactExports.useReducer(ut,{isMonthSwitchingAnimating:!1,focusedDay:s||it,currentMonth:st.startOfMonth((ot=s??o)!=null?ot:it),slideDirection:"left"}),dt=reactExports.useCallback(xt=>{rt(_extends({type:"changeMonth"},xt)),et&&et(xt.newMonth)},[et]),ct=reactExports.useCallback(xt=>{const gt=xt??it;st.isSameMonth(gt,lt.currentMonth)||dt({newMonth:st.startOfMonth(gt),direction:st.isAfterDay(gt,lt.currentMonth)?"left":"right"})},[lt.currentMonth,dt,it,st]),pt=useIsDayDisabled({shouldDisableDate:nt,minDate:_e,maxDate:j,disableFuture:i,disablePast:a}),at=reactExports.useCallback(()=>{rt({type:"finishMonthSwitchingAnimation"})},[]),ht=reactExports.useCallback((xt,gt)=>{pt(xt)||rt({type:"changeFocusedDay",focusedDay:xt,withoutMonthSwitchingAnimation:gt})},[pt]);return{calendarState:lt,changeMonth:ct,changeFocusedDay:ht,isDateDisabled:pt,onMonthSwitchingAnimationEnd:at,handleChangeMonth:dt}},getPickersFadeTransitionGroupUtilityClass=s=>generateUtilityClass("MuiPickersFadeTransitionGroup",s);generateUtilityClasses("MuiPickersFadeTransitionGroup",["root"]);const useUtilityClasses$c=s=>{const{classes:o}=s;return composeClasses({root:["root"]},getPickersFadeTransitionGroupUtilityClass,o)},animationDuration=500,PickersFadeTransitionGroupRoot=styled$1(TransitionGroup$1,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(s,o)=>o.root})({display:"block",position:"relative"});function PickersFadeTransitionGroup(s){const o=useThemeProps({props:s,name:"MuiPickersFadeTransitionGroup"}),{children:i,className:a,reduceAnimations:$,transKey:j}=o,_e=useUtilityClasses$c(o);return $?i:jsx(PickersFadeTransitionGroupRoot,{className:clsx(_e.root,a),children:jsx(Fade$1,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:animationDuration,enter:animationDuration/2,exit:0},children:i},j)})}function getPickersDayUtilityClass(s){return generateUtilityClass("MuiPickersDay",s)}const pickersDayClasses=generateUtilityClasses("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),_excluded$e=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today"],useUtilityClasses$b=s=>{const{selected:o,disableMargin:i,disableHighlightToday:a,today:$,disabled:j,outsideCurrentMonth:_e,showDaysOutsideCurrentMonth:et,classes:tt}=s;return composeClasses({root:["root",o&&"selected",j&&"disabled",!i&&"dayWithMargin",!a&&$&&"today",_e&&et&&"dayOutsideMonth",_e&&!et&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},getPickersDayUtilityClass,tt)},styleArg=({theme:s,ownerState:o})=>_extends({},s.typography.caption,{width:DAY_SIZE,height:DAY_SIZE,borderRadius:"50%",padding:0,backgroundColor:s.palette.background.paper,color:s.palette.text.primary,"&:hover":{backgroundColor:alpha(s.palette.action.active,s.palette.action.hoverOpacity)},"&:focus":{backgroundColor:alpha(s.palette.action.active,s.palette.action.hoverOpacity),[`&.${pickersDayClasses.selected}`]:{willChange:"background-color",backgroundColor:s.palette.primary.dark}},[`&.${pickersDayClasses.selected}`]:{color:s.palette.primary.contrastText,backgroundColor:s.palette.primary.main,fontWeight:s.typography.fontWeightMedium,transition:s.transitions.create("background-color",{duration:s.transitions.duration.short}),"&:hover":{willChange:"background-color",backgroundColor:s.palette.primary.dark}},[`&.${pickersDayClasses.disabled}`]:{color:s.palette.text.disabled}},!o.disableMargin&&{margin:`0 ${DAY_MARGIN}px`},o.outsideCurrentMonth&&o.showDaysOutsideCurrentMonth&&{color:s.palette.text.secondary},!o.disableHighlightToday&&o.today&&{[`&:not(.${pickersDayClasses.selected})`]:{border:`1px solid ${s.palette.text.secondary}`}}),overridesResolver=(s,o)=>{const{ownerState:i}=s;return[o.root,!i.disableMargin&&o.dayWithMargin,!i.disableHighlightToday&&i.today&&o.today,!i.outsideCurrentMonth&&i.showDaysOutsideCurrentMonth&&o.dayOutsideMonth,i.outsideCurrentMonth&&!i.showDaysOutsideCurrentMonth&&o.hiddenDaySpacingFiller]},PickersDayRoot=styled$1(ButtonBase$1,{name:"MuiPickersDay",slot:"Root",overridesResolver})(styleArg),PickersDayFiller=styled$1("div",{name:"MuiPickersDay",slot:"Root",overridesResolver})(({theme:s,ownerState:o})=>_extends({},styleArg({theme:s,ownerState:o}),{opacity:0,pointerEvents:"none"})),noop$1=()=>{},PickersDayRaw=reactExports.forwardRef(function(o,i){const a=useThemeProps({props:o,name:"MuiPickersDay"}),{autoFocus:$=!1,className:j,day:_e,disabled:et=!1,disableHighlightToday:tt=!1,disableMargin:nt=!1,isAnimating:ot,onClick:it,onDaySelect:st,onFocus:ut=noop$1,onBlur:lt=noop$1,onKeyDown:rt=noop$1,onMouseDown:dt,outsideCurrentMonth:ct,selected:pt=!1,showDaysOutsideCurrentMonth:at=!1,children:ht,today:xt=!1}=a,gt=_objectWithoutPropertiesLoose$5(a,_excluded$e),vt=_extends({},a,{autoFocus:$,disabled:et,disableHighlightToday:tt,disableMargin:nt,selected:pt,showDaysOutsideCurrentMonth:at,today:xt}),ft=useUtilityClasses$b(vt),yt=useUtils(),mt=reactExports.useRef(null),St=useForkRef(mt,i);useEnhancedEffect$1(()=>{$&&!et&&!ot&&!ct&&mt.current.focus()},[$,et,ot,ct]);const At=Tt=>{dt&&dt(Tt),ct&&Tt.preventDefault()},Ft=Tt=>{et||st(_e,"finish"),ct&&Tt.currentTarget.focus(),it&&it(Tt)};return ct&&!at?jsx(PickersDayFiller,{className:clsx(ft.root,ft.hiddenDaySpacingFiller,j),ownerState:vt,role:gt.role}):jsx(PickersDayRoot,_extends({className:clsx(ft.root,j),ownerState:vt,ref:St,centerRipple:!0,disabled:et,tabIndex:pt?0:-1,onKeyDown:Tt=>rt(Tt,_e),onFocus:Tt=>ut(Tt,_e),onBlur:Tt=>lt(Tt,_e),onClick:Ft,onMouseDown:At},gt,{children:ht||yt.format(_e,"dayOfMonth")}))}),areDayPropsEqual=(s,o)=>s.autoFocus===o.autoFocus&&s.isAnimating===o.isAnimating&&s.today===o.today&&s.disabled===o.disabled&&s.selected===o.selected&&s.disableMargin===o.disableMargin&&s.showDaysOutsideCurrentMonth===o.showDaysOutsideCurrentMonth&&s.disableHighlightToday===o.disableHighlightToday&&s.className===o.className&&s.sx===o.sx&&s.outsideCurrentMonth===o.outsideCurrentMonth&&s.onFocus===o.onFocus&&s.onBlur===o.onBlur&&s.onDaySelect===o.onDaySelect,PickersDay=reactExports.memo(PickersDayRaw,areDayPropsEqual),getPickersSlideTransitionUtilityClass=s=>generateUtilityClass("PrivatePickersSlideTransition",s),pickersSlideTransitionClasses=generateUtilityClasses("PrivatePickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),_excluded$d=["children","className","reduceAnimations","slideDirection","transKey"],useUtilityClasses$a=s=>{const{classes:o}=s;return composeClasses({root:["root"]},getPickersSlideTransitionUtilityClass,o)},slideAnimationDuration=350,PickersSlideTransitionRoot=styled$1(TransitionGroup$1,{name:"PrivatePickersSlideTransition",slot:"Root",overridesResolver:(s,o)=>[o.root,{[`.${pickersSlideTransitionClasses["slideEnter-left"]}`]:o["slideEnter-left"]},{[`.${pickersSlideTransitionClasses["slideEnter-right"]}`]:o["slideEnter-right"]},{[`.${pickersSlideTransitionClasses.slideEnterActive}`]:o.slideEnterActive},{[`.${pickersSlideTransitionClasses.slideExit}`]:o.slideExit},{[`.${pickersSlideTransitionClasses["slideExitActiveLeft-left"]}`]:o["slideExitActiveLeft-left"]},{[`.${pickersSlideTransitionClasses["slideExitActiveLeft-right"]}`]:o["slideExitActiveLeft-right"]}]})(({theme:s})=>{const o=s.transitions.create("transform",{duration:slideAnimationDuration,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${pickersSlideTransitionClasses["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${pickersSlideTransitionClasses["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${pickersSlideTransitionClasses.slideEnterActive}`]:{transform:"translate(0%)",transition:o},[`& .${pickersSlideTransitionClasses.slideExit}`]:{transform:"translate(0%)"},[`& .${pickersSlideTransitionClasses["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:o,zIndex:0},[`& .${pickersSlideTransitionClasses["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:o,zIndex:0}}}),PickersSlideTransition=s=>{const{children:o,className:i,reduceAnimations:a,slideDirection:$,transKey:j}=s,_e=_objectWithoutPropertiesLoose$5(s,_excluded$d),et=useUtilityClasses$a(s);if(a)return jsx("div",{className:clsx(et.root,i),children:o});const tt={exit:pickersSlideTransitionClasses.slideExit,enterActive:pickersSlideTransitionClasses.slideEnterActive,enter:pickersSlideTransitionClasses[`slideEnter-${$}`],exitActive:pickersSlideTransitionClasses[`slideExitActiveLeft-${$}`]};return jsx(PickersSlideTransitionRoot,{className:clsx(et.root,i),childFactory:nt=>reactExports.cloneElement(nt,{classNames:tt}),role:"presentation",children:jsx(CSSTransition$1,_extends({mountOnEnter:!0,unmountOnExit:!0,timeout:slideAnimationDuration,classNames:tt},_e,{children:o}),j)})},getDayPickerUtilityClass=s=>generateUtilityClass("MuiDayPicker",s);generateUtilityClasses("MuiDayPicker",["header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer"]);const useUtilityClasses$9=s=>{const{classes:o}=s;return composeClasses({header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"]},getDayPickerUtilityClass,o)},defaultDayOfWeekFormatter=s=>s.charAt(0).toUpperCase(),weeksContainerHeight=(DAY_SIZE+DAY_MARGIN*2)*6,PickersCalendarDayHeader=styled$1("div",{name:"MuiDayPicker",slot:"Header",overridesResolver:(s,o)=>o.header})({display:"flex",justifyContent:"center",alignItems:"center"}),PickersCalendarWeekDayLabel=styled$1(Typography$1,{name:"MuiDayPicker",slot:"WeekDayLabel",overridesResolver:(s,o)=>o.weekDayLabel})(({theme:s})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:s.palette.text.secondary})),PickersCalendarLoadingContainer=styled$1("div",{name:"MuiDayPicker",slot:"LoadingContainer",overridesResolver:(s,o)=>o.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:weeksContainerHeight}),PickersCalendarSlideTransition=styled$1(PickersSlideTransition,{name:"MuiDayPicker",slot:"SlideTransition",overridesResolver:(s,o)=>o.slideTransition})({minHeight:weeksContainerHeight}),PickersCalendarWeekContainer=styled$1("div",{name:"MuiDayPicker",slot:"MonthContainer",overridesResolver:(s,o)=>o.monthContainer})({overflow:"hidden"}),PickersCalendarWeek=styled$1("div",{name:"MuiDayPicker",slot:"WeekContainer",overridesResolver:(s,o)=>o.weekContainer})({margin:`${DAY_MARGIN}px 0`,display:"flex",justifyContent:"center"});function DayPicker(s){const o=useNow(),i=useUtils(),a=useThemeProps({props:s,name:"MuiDayPicker"}),$=useUtilityClasses$9(a),{onFocusedDayChange:j,className:_e,currentMonth:et,selectedDays:tt,disabled:nt,disableHighlightToday:ot,focusedDay:it,isMonthSwitchingAnimating:st,loading:ut,onSelectedDaysChange:lt,onMonthSwitchingAnimationEnd:rt,readOnly:dt,reduceAnimations:ct,renderDay:pt,renderLoading:at=()=>jsx("span",{children:"..."}),showDaysOutsideCurrentMonth:ht,slideDirection:xt,TransitionProps:gt,disablePast:vt,disableFuture:ft,minDate:yt,maxDate:mt,shouldDisableDate:St,dayOfWeekFormatter:At=defaultDayOfWeekFormatter,hasFocus:Ft,onFocusedViewChange:Tt,gridLabelId:Dt}=a,It=useIsDayDisabled({shouldDisableDate:St,minDate:yt,maxDate:mt,disablePast:vt,disableFuture:ft}),[Rt,Pt]=reactExports.useState(()=>it||o),Nt=reactExports.useCallback(wt=>{Tt&&Tt(wt)},[Tt]),Lt=reactExports.useCallback((wt,kt="finish")=>{dt||lt(wt,kt)},[lt,dt]),zt=reactExports.useCallback(wt=>{It(wt)||(j(wt),Pt(wt),Nt(!0))},[It,j,Nt]),Mt=useTheme();function Et(wt,kt){switch(wt.key){case"ArrowUp":zt(i.addDays(kt,-7)),wt.preventDefault();break;case"ArrowDown":zt(i.addDays(kt,7)),wt.preventDefault();break;case"ArrowLeft":{const jt=i.addDays(kt,Mt.direction==="ltr"?-1:1),Ht=Mt.direction==="ltr"?i.getPreviousMonth(kt):i.getNextMonth(kt),Kt=findClosestEnabledDate({utils:i,date:jt,minDate:Mt.direction==="ltr"?i.startOfMonth(Ht):jt,maxDate:Mt.direction==="ltr"?jt:i.endOfMonth(Ht),isDateDisabled:It});zt(Kt||jt),wt.preventDefault();break}case"ArrowRight":{const jt=i.addDays(kt,Mt.direction==="ltr"?1:-1),Ht=Mt.direction==="ltr"?i.getNextMonth(kt):i.getPreviousMonth(kt),Kt=findClosestEnabledDate({utils:i,date:jt,minDate:Mt.direction==="ltr"?jt:i.startOfMonth(Ht),maxDate:Mt.direction==="ltr"?i.endOfMonth(Ht):jt,isDateDisabled:It});zt(Kt||jt),wt.preventDefault();break}case"Home":zt(i.startOfWeek(kt)),wt.preventDefault();break;case"End":zt(i.endOfWeek(kt)),wt.preventDefault();break;case"PageUp":zt(i.getNextMonth(kt)),wt.preventDefault();break;case"PageDown":zt(i.getPreviousMonth(kt)),wt.preventDefault();break}}function Ct(wt,kt){zt(kt)}function Ot(wt,kt){Ft&&i.isSameDay(Rt,kt)&&Nt(!1)}const Ut=i.getMonth(et),$t=tt.filter(wt=>!!wt).map(wt=>i.startOfDay(wt)),Bt=Ut,Wt=reactExports.useMemo(()=>reactExports.createRef(),[Bt]),Gt=i.startOfWeek(o),bt=reactExports.useMemo(()=>{const wt=i.startOfMonth(et),kt=i.endOfMonth(et);return It(Rt)||i.isAfterDay(Rt,kt)||i.isBeforeDay(Rt,wt)?findClosestEnabledDate({utils:i,date:Rt,minDate:wt,maxDate:kt,disablePast:vt,disableFuture:ft,isDateDisabled:It}):Rt},[et,ft,vt,Rt,It,i]);return jsxs("div",{role:"grid","aria-labelledby":Dt,children:[jsx(PickersCalendarDayHeader,{role:"row",className:$.header,children:i.getWeekdays().map((wt,kt)=>{var jt;return jsx(PickersCalendarWeekDayLabel,{variant:"caption",role:"columnheader","aria-label":i.format(i.addDays(Gt,kt),"weekday"),className:$.weekDayLabel,children:(jt=At==null?void 0:At(wt))!=null?jt:wt},wt+kt.toString())})}),ut?jsx(PickersCalendarLoadingContainer,{className:$.loadingContainer,children:at()}):jsx(PickersCalendarSlideTransition,_extends({transKey:Bt,onExited:rt,reduceAnimations:ct,slideDirection:xt,className:clsx(_e,$.slideTransition)},gt,{nodeRef:Wt,children:jsx(PickersCalendarWeekContainer,{ref:Wt,role:"rowgroup",className:$.monthContainer,children:i.getWeekArray(et).map(wt=>jsx(PickersCalendarWeek,{role:"row",className:$.weekContainer,children:wt.map(kt=>{const jt=bt!==null&&i.isSameDay(kt,bt),Ht=$t.some(rn=>i.isSameDay(rn,kt)),Kt=i.isSameDay(kt,o),Zt={key:kt==null?void 0:kt.toString(),day:kt,isAnimating:st,disabled:nt||It(kt),autoFocus:Ft&&jt,today:Kt,outsideCurrentMonth:i.getMonth(kt)!==Ut,selected:Ht,disableHighlightToday:ot,showDaysOutsideCurrentMonth:ht,onKeyDown:Et,onFocus:Ct,onBlur:Ot,onDaySelect:Lt,tabIndex:jt?0:-1,role:"gridcell","aria-selected":Ht};return Kt&&(Zt["aria-current"]="date"),pt?pt(kt,$t,Zt):jsx(PickersDay,_extends({},Zt),Zt.key)})},`week-${wt[0]}`))})}))]})}const getPickersCalendarHeaderUtilityClass=s=>generateUtilityClass("MuiPickersCalendarHeader",s);generateUtilityClasses("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);const useUtilityClasses$8=s=>{const{classes:o}=s;return composeClasses({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},getPickersCalendarHeaderUtilityClass,o)},PickersCalendarHeaderRoot=styled$1("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(s,o)=>o.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),PickersCalendarHeaderLabelContainer=styled$1("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(s,o)=>o.labelContainer})(({theme:s})=>_extends({display:"flex",maxHeight:30,overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},s.typography.body1,{fontWeight:s.typography.fontWeightMedium})),PickersCalendarHeaderLabel=styled$1("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(s,o)=>o.label})({marginRight:6}),PickersCalendarHeaderSwitchViewButton=styled$1(IconButton$1,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(s,o)=>o.switchViewButton})({marginRight:"auto"}),PickersCalendarHeaderSwitchViewIcon=styled$1(ArrowDropDown,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(s,o)=>o.switchViewIcon})(({theme:s,ownerState:o})=>_extends({willChange:"transform",transition:s.transitions.create("transform"),transform:"rotate(0deg)"},o.openView==="year"&&{transform:"rotate(180deg)"})),deprecatedPropsWarning=buildDeprecatedPropsWarning();function PickersCalendarHeader(s){const o=useThemeProps({props:s,name:"MuiPickersCalendarHeader"}),{components:i={},componentsProps:a={},currentMonth:$,disabled:j,disableFuture:_e,disablePast:et,getViewSwitchingButtonText:tt,leftArrowButtonText:nt,maxDate:ot,minDate:it,onMonthChange:st,onViewChange:ut,openView:lt,reduceAnimations:rt,rightArrowButtonText:dt,views:ct,labelId:pt}=o;deprecatedPropsWarning({leftArrowButtonText:nt,rightArrowButtonText:dt,getViewSwitchingButtonText:tt});const at=useLocaleText(),ht=nt??at.previousMonth,xt=dt??at.nextMonth,gt=tt??at.calendarViewSwitchingButtonAriaLabel,vt=useUtils(),ft=useUtilityClasses$8(o),yt=a.switchViewButton||{},mt=()=>st(vt.getNextMonth($),"left"),St=()=>st(vt.getPreviousMonth($),"right"),At=useNextMonthDisabled($,{disableFuture:_e,maxDate:ot}),Ft=usePreviousMonthDisabled($,{disablePast:et,minDate:it}),Tt=()=>{if(!(ct.length===1||!ut||j))if(ct.length===2)ut(ct.find(It=>It!==lt)||ct[0]);else{const It=ct.indexOf(lt)!==0?0:1;ut(ct[It])}};if(ct.length===1&&ct[0]==="year")return null;const Dt=o;return jsxs(PickersCalendarHeaderRoot,{ownerState:Dt,className:ft.root,children:[jsxs(PickersCalendarHeaderLabelContainer,{role:"presentation",onClick:Tt,ownerState:Dt,"aria-live":"polite",className:ft.labelContainer,children:[jsx(PickersFadeTransitionGroup,{reduceAnimations:rt,transKey:vt.format($,"monthAndYear"),children:jsx(PickersCalendarHeaderLabel,{id:pt,ownerState:Dt,className:ft.label,children:vt.format($,"monthAndYear")})}),ct.length>1&&!j&&jsx(PickersCalendarHeaderSwitchViewButton,_extends({size:"small",as:i.SwitchViewButton,"aria-label":gt(lt),className:ft.switchViewButton},yt,{children:jsx(PickersCalendarHeaderSwitchViewIcon,{as:i.SwitchViewIcon,ownerState:Dt,className:ft.switchViewIcon})}))]}),jsx(Fade$1,{in:lt==="day",children:jsx(PickersArrowSwitcher,{leftArrowButtonText:ht,rightArrowButtonText:xt,components:i,componentsProps:a,onLeftClick:St,onRightClick:mt,isLeftDisabled:Ft,isRightDisabled:At})})]})}function getPickersYearUtilityClass(s){return generateUtilityClass("PrivatePickersYear",s)}const pickersYearClasses=generateUtilityClasses("PrivatePickersYear",["root","modeDesktop","modeMobile","yearButton","selected","disabled"]),_excluded$c=["autoFocus","className","children","disabled","onClick","onKeyDown","value","tabIndex","onFocus","onBlur"],useUtilityClasses$7=s=>{const{wrapperVariant:o,disabled:i,selected:a,classes:$}=s,j={root:["root",o&&`mode${capitalize(o)}`],yearButton:["yearButton",i&&"disabled",a&&"selected"]};return composeClasses(j,getPickersYearUtilityClass,$)},PickersYearRoot=styled$1("div",{name:"PrivatePickersYear",slot:"Root",overridesResolver:(s,o)=>[o.root,{[`&.${pickersYearClasses.modeDesktop}`]:o.modeDesktop},{[`&.${pickersYearClasses.modeMobile}`]:o.modeMobile}]})(({ownerState:s})=>_extends({flexBasis:"33.3%",display:"flex",alignItems:"center",justifyContent:"center"},(s==null?void 0:s.wrapperVariant)==="desktop"&&{flexBasis:"25%"})),PickersYearButton=styled$1("button",{name:"PrivatePickersYear",slot:"Button",overridesResolver:(s,o)=>[o.button,{[`&.${pickersYearClasses.disabled}`]:o.disabled},{[`&.${pickersYearClasses.selected}`]:o.selected}]})(({theme:s})=>_extends({color:"unset",backgroundColor:"transparent",border:0,outline:0},s.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus, &:hover":{backgroundColor:alpha(s.palette.action.active,s.palette.action.hoverOpacity)},[`&.${pickersYearClasses.disabled}`]:{color:s.palette.text.secondary},[`&.${pickersYearClasses.selected}`]:{color:s.palette.primary.contrastText,backgroundColor:s.palette.primary.main,"&:focus, &:hover":{backgroundColor:s.palette.primary.dark}}})),noop=()=>{},PickersYear=reactExports.forwardRef(function(o,i){const{autoFocus:a,className:$,children:j,disabled:_e,onClick:et,onKeyDown:tt,value:nt,tabIndex:ot,onFocus:it=noop,onBlur:st=noop}=o,ut=_objectWithoutPropertiesLoose$5(o,_excluded$c),lt=reactExports.useRef(null),rt=useForkRef(lt,i),dt=reactExports.useContext(WrapperVariantContext),ct=_extends({},o,{wrapperVariant:dt}),pt=useUtilityClasses$7(ct);return reactExports.useEffect(()=>{a&&lt.current.focus()},[a]),jsx(PickersYearRoot,{className:clsx(pt.root,$),ownerState:ct,children:jsx(PickersYearButton,_extends({ref:rt,disabled:_e,type:"button",tabIndex:_e?-1:ot,onClick:at=>et(at,nt),onKeyDown:at=>tt(at,nt),onFocus:at=>it(at,nt),onBlur:at=>st(at,nt),className:pt.yearButton,ownerState:ct},ut,{children:j}))})});function getYearPickerUtilityClass(s){return generateUtilityClass("MuiYearPicker",s)}generateUtilityClasses("MuiYearPicker",["root"]);const useUtilityClasses$6=s=>{const{classes:o}=s;return composeClasses({root:["root"]},getYearPickerUtilityClass,o)};function useYearPickerDefaultizedProps(s,o){const i=useUtils(),a=useDefaultDates(),$=useThemeProps({props:s,name:o});return _extends({disablePast:!1,disableFuture:!1},$,{minDate:parseNonNullablePickerDate(i,$.minDate,a.minDate),maxDate:parseNonNullablePickerDate(i,$.maxDate,a.maxDate)})}const YearPickerRoot=styled$1("div",{name:"MuiYearPicker",slot:"Root",overridesResolver:(s,o)=>o.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",maxHeight:"304px"}),YearPicker=reactExports.forwardRef(function(o,i){const a=useNow(),$=useTheme(),j=useUtils(),_e=useYearPickerDefaultizedProps(o,"MuiYearPicker"),{autoFocus:et,className:tt,date:nt,disabled:ot,disableFuture:it,disablePast:st,maxDate:ut,minDate:lt,onChange:rt,readOnly:dt,shouldDisableYear:ct,disableHighlightToday:pt,onYearFocus:at,hasFocus:ht,onFocusedViewChange:xt}=_e,gt=_e,vt=useUtilityClasses$6(gt),ft=reactExports.useMemo(()=>nt??j.startOfYear(a),[a,j,nt]),yt=reactExports.useMemo(()=>nt!=null?j.getYear(nt):pt?null:j.getYear(a),[a,nt,j,pt]),mt=reactExports.useContext(WrapperVariantContext),St=reactExports.useRef(null),[At,Ft]=reactExports.useState(()=>yt||j.getYear(a)),[Tt,Dt]=useControlled({name:"YearPicker",state:"hasFocus",controlled:ht,default:et}),It=reactExports.useCallback($t=>{Dt($t),xt&&xt($t)},[Dt,xt]),Rt=reactExports.useCallback($t=>!!(st&&j.isBeforeYear($t,a)||it&&j.isAfterYear($t,a)||lt&&j.isBeforeYear($t,lt)||ut&&j.isAfterYear($t,ut)||ct&&ct($t)),[it,st,ut,lt,a,ct,j]),Pt=($t,Bt,Wt="finish")=>{if(dt)return;const Gt=j.setYear(ft,Bt);rt(Gt,Wt)},Nt=reactExports.useCallback($t=>{Rt(j.setYear(ft,$t))||(Ft($t),It(!0),at==null||at($t))},[Rt,j,ft,It,at]);reactExports.useEffect(()=>{Ft($t=>yt!==null&&$t!==yt?yt:$t)},[yt]);const Lt=mt==="desktop"?4:3,zt=reactExports.useCallback(($t,Bt)=>{switch($t.key){case"ArrowUp":Nt(Bt-Lt),$t.preventDefault();break;case"ArrowDown":Nt(Bt+Lt),$t.preventDefault();break;case"ArrowLeft":Nt(Bt+($.direction==="ltr"?-1:1)),$t.preventDefault();break;case"ArrowRight":Nt(Bt+($.direction==="ltr"?1:-1)),$t.preventDefault();break}},[Nt,$.direction,Lt]),Mt=reactExports.useCallback(($t,Bt)=>{Nt(Bt)},[Nt]),Et=reactExports.useCallback(($t,Bt)=>{At===Bt&&It(!1)},[At,It]),Ct=j.getYear(a),Ot=reactExports.useRef(null),Ut=useForkRef(i,Ot);return reactExports.useEffect(()=>{if(et||Ot.current===null)return;const $t=Ot.current.querySelector('[tabindex="0"]');if(!$t)return;const Bt=$t.offsetHeight,Wt=$t.offsetTop,Gt=Ot.current.clientHeight,bt=Ot.current.scrollTop,wt=Wt+Bt;Bt>Gt||Wt<bt||(Ot.current.scrollTop=wt-Gt/2-Bt/2)},[et]),jsx(YearPickerRoot,{ref:Ut,className:clsx(vt.root,tt),ownerState:gt,children:j.getYearRange(lt,ut).map($t=>{const Bt=j.getYear($t),Wt=Bt===yt;return jsx(PickersYear,{selected:Wt,value:Bt,onClick:Pt,onKeyDown:zt,autoFocus:Tt&&Bt===At,ref:Wt?St:void 0,disabled:ot||Rt($t),tabIndex:Bt===At?0:-1,onFocus:Mt,onBlur:Et,"aria-current":Ct===Bt?"date":void 0,children:j.format($t,"year")},j.format($t,"year"))})})}),defaultReduceAnimations=typeof navigator<"u"&&/(android)/i.test(navigator.userAgent),getCalendarPickerUtilityClass=s=>generateUtilityClass("MuiCalendarPicker",s);generateUtilityClasses("MuiCalendarPicker",["root","viewTransitionContainer"]);const _excluded$b=["autoFocus","onViewChange","date","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","classes"],useUtilityClasses$5=s=>{const{classes:o}=s;return composeClasses({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},getCalendarPickerUtilityClass,o)};function useCalendarPickerDefaultizedProps(s,o){const i=useUtils(),a=useDefaultDates(),$=useThemeProps({props:s,name:o});return _extends({loading:!1,disablePast:!1,disableFuture:!1,openTo:"day",views:["year","day"],reduceAnimations:defaultReduceAnimations,renderLoading:()=>jsx("span",{children:"..."})},$,{minDate:parseNonNullablePickerDate(i,$.minDate,a.minDate),maxDate:parseNonNullablePickerDate(i,$.maxDate,a.maxDate)})}const CalendarPickerRoot=styled$1(PickerViewRoot,{name:"MuiCalendarPicker",slot:"Root",overridesResolver:(s,o)=>o.root})({display:"flex",flexDirection:"column"}),CalendarPickerViewTransitionContainer=styled$1(PickersFadeTransitionGroup,{name:"MuiCalendarPicker",slot:"ViewTransitionContainer",overridesResolver:(s,o)=>o.viewTransitionContainer})({}),CalendarPicker=reactExports.forwardRef(function(o,i){const a=useUtils(),$=useId(),j=useCalendarPickerDefaultizedProps(o,"MuiCalendarPicker"),{autoFocus:_e,onViewChange:et,date:tt,disableFuture:nt,disablePast:ot,defaultCalendarMonth:it,onChange:st,onYearChange:ut,onMonthChange:lt,reduceAnimations:rt,shouldDisableDate:dt,shouldDisableMonth:ct,shouldDisableYear:pt,view:at,views:ht,openTo:xt,className:gt,disabled:vt,readOnly:ft,minDate:yt,maxDate:mt,disableHighlightToday:St,focusedView:At,onFocusedViewChange:Ft}=j,Tt=_objectWithoutPropertiesLoose$5(j,_excluded$b),{openView:Dt,setOpenView:It,openNext:Rt}=useViews({view:at,views:ht,openTo:xt,onChange:st,onViewChange:et}),{calendarState:Pt,changeFocusedDay:Nt,changeMonth:Lt,handleChangeMonth:zt,isDateDisabled:Mt,onMonthSwitchingAnimationEnd:Et}=useCalendarState({date:tt,defaultCalendarMonth:it,reduceAnimations:rt,onMonthChange:lt,minDate:yt,maxDate:mt,shouldDisableDate:dt,disablePast:ot,disableFuture:nt}),Ct=reactExports.useCallback((qt,nn)=>{const Xt=a.startOfMonth(qt),sn=a.endOfMonth(qt),ln=Mt(qt)?findClosestEnabledDate({utils:a,date:qt,minDate:a.isBefore(yt,Xt)?Xt:yt,maxDate:a.isAfter(mt,sn)?sn:mt,disablePast:ot,disableFuture:nt,isDateDisabled:Mt}):qt;ln?(st(ln,nn),lt==null||lt(Xt)):(Rt(),Lt(Xt)),Nt(ln,!0)},[Nt,nt,ot,Mt,mt,yt,st,lt,Lt,Rt,a]),Ot=reactExports.useCallback((qt,nn)=>{const Xt=a.startOfYear(qt),sn=a.endOfYear(qt),ln=Mt(qt)?findClosestEnabledDate({utils:a,date:qt,minDate:a.isBefore(yt,Xt)?Xt:yt,maxDate:a.isAfter(mt,sn)?sn:mt,disablePast:ot,disableFuture:nt,isDateDisabled:Mt}):qt;ln?(st(ln,nn),ut==null||ut(ln)):(Rt(),Lt(Xt)),Nt(ln,!0)},[Nt,nt,ot,Mt,mt,yt,st,ut,Rt,a,Lt]),Ut=reactExports.useCallback((qt,nn)=>st(tt&&qt?a.mergeDateAndTime(qt,tt):qt,nn),[a,tt,st]);reactExports.useEffect(()=>{tt&&Lt(tt)},[tt]);const $t=j,Bt=useUtilityClasses$5($t),Wt={disablePast:ot,disableFuture:nt,maxDate:mt,minDate:yt},Gt=vt&&tt||yt,bt=vt&&tt||mt,wt={disableHighlightToday:St,readOnly:ft,disabled:vt},kt=`${$}-grid-label`,[jt,Ht]=useControlled({name:"DayPicker",state:"focusedView",controlled:At,default:_e?Dt:null}),Kt=jt!==null,Zt=useEventCallback(qt=>nn=>{if(Ft){Ft(qt)(nn);return}Ht(nn?qt:Xt=>Xt===qt?null:Xt)}),rn=reactExports.useRef(Dt);return reactExports.useEffect(()=>{rn.current!==Dt&&(rn.current=Dt,Zt(Dt)(!0))},[Dt,Zt]),jsxs(CalendarPickerRoot,{ref:i,className:clsx(Bt.root,gt),ownerState:$t,children:[jsx(PickersCalendarHeader,_extends({},Tt,{views:ht,openView:Dt,currentMonth:Pt.currentMonth,onViewChange:It,onMonthChange:(qt,nn)=>zt({newMonth:qt,direction:nn}),minDate:Gt,maxDate:bt,disabled:vt,disablePast:ot,disableFuture:nt,reduceAnimations:rt,labelId:kt})),jsx(CalendarPickerViewTransitionContainer,{reduceAnimations:rt,className:Bt.viewTransitionContainer,transKey:Dt,ownerState:$t,children:jsxs("div",{children:[Dt==="year"&&jsx(YearPicker,_extends({},Tt,Wt,wt,{autoFocus:_e,date:tt,onChange:Ot,shouldDisableYear:pt,hasFocus:Kt,onFocusedViewChange:Zt("year")})),Dt==="month"&&jsx(MonthPicker,_extends({},Wt,wt,{autoFocus:_e,hasFocus:Kt,className:gt,date:tt,onChange:Ct,shouldDisableMonth:ct,onFocusedViewChange:Zt("month")})),Dt==="day"&&jsx(DayPicker,_extends({},Tt,Pt,Wt,wt,{autoFocus:_e,onMonthSwitchingAnimationEnd:Et,onFocusedDayChange:Nt,reduceAnimations:rt,selectedDays:[tt],onSelectedDaysChange:Ut,shouldDisableDate:dt,hasFocus:Kt,onFocusedViewChange:Zt("day"),gridLabelId:kt}))]})})]})}),useRifm=s=>{const[,o]=reactExports.useReducer(tt=>tt+1,0),i=reactExports.useRef(null),{replace:a,append:$}=s,j=a?a(s.format(s.value)):s.format(s.value),_e=reactExports.useRef(!1),et=tt=>{const nt=tt.target.value;i.current=[nt,tt.target,nt.length>j.length,_e.current,j===s.format(nt)],o()};return reactExports.useLayoutEffect(()=>{if(i.current==null)return;let[tt,nt,ot,it,st]=i.current;i.current=null;const ut=it&&st,rt=tt.slice(nt.selectionStart).search(s.accept||/\d/g),dt=rt!==-1?rt:0,ct=gt=>(gt.match(s.accept||/\d/g)||[]).join(""),pt=ct(tt.substr(0,nt.selectionStart)),at=gt=>{let vt=0,ft=0;for(let yt=0;yt!==pt.length;++yt){let mt=gt.indexOf(pt[yt],vt)+1,St=ct(gt).indexOf(pt[yt],ft)+1;St-ft>1&&(mt=vt,St=ft),ft=Math.max(St,ft),vt=Math.max(vt,mt)}return vt};if(s.mask===!0&&ot&&!st){let gt=at(tt);const vt=ct(tt.substr(gt))[0];gt=tt.indexOf(vt,gt),tt=`${tt.substr(0,gt)}${tt.substr(gt+1)}`}let ht=s.format(tt);$!=null&&nt.selectionStart===tt.length&&!st&&(ot?ht=$(ht):ct(ht.slice(-1))===""&&(ht=ht.slice(0,-1)));const xt=a?a(ht):ht;return j===xt?o():s.onChange(xt),()=>{let gt=at(ht);if(s.mask!=null&&(ot||it&&!ut))for(;ht[gt]&&ct(ht[gt])==="";)gt+=1;nt.selectionStart=nt.selectionEnd=gt+(ut?1+dt:0)}}),reactExports.useEffect(()=>{const tt=ot=>{ot.code==="Delete"&&(_e.current=!0)},nt=ot=>{ot.code==="Delete"&&(_e.current=!1)};return document.addEventListener("keydown",tt),document.addEventListener("keyup",nt),()=>{document.removeEventListener("keydown",tt),document.removeEventListener("keyup",nt)}},[]),{value:i.current!=null?i.current[0]:j,onChange:et}},getDisplayDate=(s,o,i)=>{const a=s.date(o);return o===null?"":s.isValid(a)?s.formatByString(a,i):""},MASK_USER_INPUT_SYMBOL="_",staticDateWith2DigitTokens="2019-11-21T22:30:00.000",staticDateWith1DigitTokens="2019-01-01T09:00:00.000";function getMaskFromCurrentFormat(s,o,i,a){if(s)return s;const j=a.formatByString(a.date(staticDateWith1DigitTokens),o).replace(i,MASK_USER_INPUT_SYMBOL),_e=a.formatByString(a.date(staticDateWith2DigitTokens),o).replace(i,"_");return j===_e?j:""}function checkMaskIsValidForCurrentFormat(s,o,i,a){if(!s)return!1;const j=a.formatByString(a.date(staticDateWith1DigitTokens),o).replace(i,MASK_USER_INPUT_SYMBOL),_e=a.formatByString(a.date(staticDateWith2DigitTokens),o).replace(i,"_"),et=_e===j&&s===_e;return!et&&a.lib,et}const maskedDateFormatter=(s,o)=>i=>{let a=0;return i.split("").map(($,j)=>{if(o.lastIndex=0,a>s.length-1)return"";const _e=s[a],et=s[a+1],tt=o.test($)?$:"",nt=_e===MASK_USER_INPUT_SYMBOL?tt:_e+tt;return a+=nt.length,j===i.length-1&&et&&et!==MASK_USER_INPUT_SYMBOL?nt?nt+et:"":nt}).join("")},useMaskedInput=({acceptRegex:s=/[\d]/gi,disabled:o,disableMaskedInput:i,ignoreInvalidInputs:a,inputFormat:$,inputProps:j,label:_e,mask:et,onChange:tt,rawValue:nt,readOnly:ot,rifmFormatter:it,TextFieldProps:st,validationError:ut})=>{const lt=useUtils(),rt=lt.getFormatHelperText($),{shouldUseMaskedInput:dt,maskToUse:ct}=reactExports.useMemo(()=>{if(i)return{shouldUseMaskedInput:!1,maskToUse:""};const Tt=getMaskFromCurrentFormat(et,$,s,lt);return{shouldUseMaskedInput:checkMaskIsValidForCurrentFormat(Tt,$,s,lt),maskToUse:Tt}},[s,i,$,et,lt]),pt=reactExports.useMemo(()=>dt&&ct?maskedDateFormatter(ct,s):Tt=>Tt,[s,ct,dt]),at=nt===null?null:lt.date(nt),[ht,xt]=reactExports.useState(at),[gt,vt]=reactExports.useState(getDisplayDate(lt,nt,$)),ft=reactExports.useRef(),yt=reactExports.useRef(lt.locale),mt=reactExports.useRef($);reactExports.useEffect(()=>{const Tt=nt!==ft.current,Dt=lt.locale!==yt.current,It=$!==mt.current;if(ft.current=nt,yt.current=lt.locale,mt.current=$,!Tt&&!Dt&&!It)return;const Rt=nt===null?null:lt.date(nt),Pt=nt===null||lt.isValid(Rt),Nt=ht===null?Rt===null:Rt!==null&&Math.abs(lt.getDiff(ht,Rt,"seconds"))===0;if(!Dt&&!It&&(!Pt||Nt))return;const Lt=getDisplayDate(lt,nt,$);xt(Rt),vt(Lt)},[lt,nt,$,ht]);const St=Tt=>{const Dt=Tt===""||Tt===et?"":Tt;vt(Dt);const It=Dt===null?null:lt.parse(Dt,$);a&&!lt.isValid(It)||(xt(It),tt(It,Dt||void 0))},At=useRifm({value:gt,onChange:St,format:it||pt});return _extends({label:_e,disabled:o,error:ut,inputProps:_extends({},dt?At:{value:gt,onChange:Tt=>{St(Tt.currentTarget.value)}},{disabled:o,placeholder:rt,readOnly:ot,type:dt?"tel":"text"},j)},st)},_excluded$a=["className","components","disableOpenPicker","getOpenDialogAriaText","InputAdornmentProps","InputProps","inputRef","openPicker","OpenPickerButtonProps","renderInput"],KeyboardDateInput=reactExports.forwardRef(function(o,i){const{className:a,components:$={},disableOpenPicker:j,getOpenDialogAriaText:_e,InputAdornmentProps:et,InputProps:tt,inputRef:nt,openPicker:ot,OpenPickerButtonProps:it,renderInput:st}=o,ut=_objectWithoutPropertiesLoose$5(o,_excluded$a),lt=useLocaleText(),rt=_e??lt.openDatePickerDialogue,dt=useUtils(),ct=useMaskedInput(ut),pt=(et==null?void 0:et.position)||"end",at=$.OpenPickerIcon||Calendar;return st(_extends({ref:i,inputRef:nt,className:a},ct,{InputProps:_extends({},tt,{[`${pt}Adornment`]:j?void 0:jsx(InputAdornment$1,_extends({position:pt},et,{children:jsx(IconButton$1,_extends({edge:pt,disabled:ut.disabled||ut.readOnly,"aria-label":rt(ut.rawValue,dt)},it,{onClick:ot,children:jsx(at,{})}))}))})}))});function getOrientation(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const useIsLandscape=(s,o)=>{const[i,a]=reactExports.useState(getOrientation);return useEnhancedEffect$1(()=>{const j=()=>{a(getOrientation())};return window.addEventListener("orientationchange",j),()=>{window.removeEventListener("orientationchange",j)}},[]),arrayIncludes(s,["hours","minutes","seconds"])?!1:(o||i)==="landscape"},useFocusManagement=({autoFocus:s,openView:o})=>{const[i,a]=reactExports.useState(s?o:null),$=reactExports.useCallback(j=>_e=>{a(_e?j:et=>j===et?null:et)},[]);return{focusedView:i,setFocusedView:$}};function getCalendarOrClockPickerUtilityClass(s){return generateUtilityClass("MuiCalendarOrClockPicker",s)}generateUtilityClasses("MuiCalendarOrClockPicker",["root","mobileKeyboardInputView"]);const _excluded$9=["autoFocus","className","parsedValue","DateInputProps","isMobileKeyboardViewOpen","onDateChange","onViewChange","openTo","orientation","showToolbar","toggleMobileKeyboardView","ToolbarComponent","toolbarFormat","toolbarPlaceholder","toolbarTitle","views","dateRangeIcon","timeIcon","hideTabs","classes"],useUtilityClasses$4=s=>{const{classes:o}=s;return composeClasses({root:["root"],mobileKeyboardInputView:["mobileKeyboardInputView"]},getCalendarOrClockPickerUtilityClass,o)},MobileKeyboardInputView=styled$1("div",{name:"MuiCalendarOrClockPicker",slot:"MobileKeyboardInputView",overridesResolver:(s,o)=>o.mobileKeyboardInputView})({padding:"16px 24px"}),PickerRoot=styled$1("div",{name:"MuiCalendarOrClockPicker",slot:"Root",overridesResolver:(s,o)=>o.root})(({ownerState:s})=>_extends({display:"flex",flexDirection:"column"},s.isLandscape&&{flexDirection:"row"})),MobileKeyboardTextFieldProps={fullWidth:!0},isDatePickerView=s=>s==="year"||s==="month"||s==="day",isTimePickerView=s=>s==="hours"||s==="minutes"||s==="seconds";function CalendarOrClockPicker(s){var o,i;const a=useThemeProps({props:s,name:"MuiCalendarOrClockPicker"}),{autoFocus:$,parsedValue:j,DateInputProps:_e,isMobileKeyboardViewOpen:et,onDateChange:tt,onViewChange:nt,openTo:ot,orientation:it,showToolbar:st,toggleMobileKeyboardView:ut,ToolbarComponent:lt=()=>null,toolbarFormat:rt,toolbarPlaceholder:dt,toolbarTitle:ct,views:pt,dateRangeIcon:at,timeIcon:ht,hideTabs:xt}=a,gt=_objectWithoutPropertiesLoose$5(a,_excluded$9),vt=(o=gt.components)==null?void 0:o.Tabs,ft=useIsLandscape(pt,it),yt=reactExports.useContext(WrapperVariantContext),mt=useUtilityClasses$4(a),St=st??yt!=="desktop",At=!xt&&typeof window<"u"&&window.innerHeight>667,Ft=reactExports.useCallback((Lt,zt)=>{tt(Lt,yt,zt)},[tt,yt]),Tt=reactExports.useCallback(Lt=>{et&&ut(),nt&&nt(Lt)},[et,nt,ut]),{openView:Dt,setOpenView:It,handleChangeAndOpenNext:Rt}=useViews({view:void 0,views:pt,openTo:ot,onChange:Ft,onViewChange:Tt}),{focusedView:Pt,setFocusedView:Nt}=useFocusManagement({autoFocus:$,openView:Dt});return jsxs(PickerRoot,{ownerState:{isLandscape:ft},className:mt.root,children:[St&&jsx(lt,_extends({},gt,{views:pt,isLandscape:ft,parsedValue:j,onChange:Ft,setOpenView:It,openView:Dt,toolbarTitle:ct,toolbarFormat:rt,toolbarPlaceholder:dt,isMobileKeyboardViewOpen:et,toggleMobileKeyboardView:ut})),At&&!!vt&&jsx(vt,_extends({dateRangeIcon:at,timeIcon:ht,view:Dt,onChange:It},(i=gt.componentsProps)==null?void 0:i.tabs)),jsx(PickerViewRoot,{children:et?jsx(MobileKeyboardInputView,{className:mt.mobileKeyboardInputView,children:jsx(KeyboardDateInput,_extends({},_e,{ignoreInvalidInputs:!0,disableOpenPicker:!0,TextFieldProps:MobileKeyboardTextFieldProps}))}):jsxs(reactExports.Fragment,{children:[isDatePickerView(Dt)&&jsx(CalendarPicker,_extends({autoFocus:$,date:j,onViewChange:It,onChange:Rt,view:Dt,views:pt.filter(isDatePickerView),focusedView:Pt,onFocusedViewChange:Nt},gt)),isTimePickerView(Dt)&&jsx(ClockPicker,_extends({},gt,{autoFocus:$,date:j,view:Dt,views:pt.filter(isTimePickerView),onChange:Rt,onViewChange:It,showViewSwitcher:yt==="desktop"}))]})})]})}const useOpenState=({open:s,onOpen:o,onClose:i})=>{const a=reactExports.useRef(typeof s=="boolean").current,[$,j]=reactExports.useState(!1);reactExports.useEffect(()=>{if(a){if(typeof s!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");j(s)}},[a,s]);const _e=reactExports.useCallback(et=>{a||j(et),et&&o&&o(),!et&&i&&i()},[a,o,i]);return{isOpen:$,setIsOpen:_e}},usePickerState=(s,o)=>{const{onAccept:i,onChange:a,value:$,closeOnSelect:j}=s,_e=useUtils(),{isOpen:et,setIsOpen:tt}=useOpenState(s),nt=reactExports.useMemo(()=>o.parseInput(_e,$),[o,_e,$]),[ot,it]=reactExports.useState(nt),[st,ut]=reactExports.useState(()=>({committed:nt,draft:nt,resetFallback:nt})),lt=reactExports.useCallback(gt=>{ut(vt=>{switch(gt.action){case"setAll":case"acceptAndClose":return{draft:gt.value,committed:gt.value,resetFallback:gt.value};case"setCommitted":return _extends({},vt,{draft:gt.value,committed:gt.value});case"setDraft":return _extends({},vt,{draft:gt.value});default:return vt}}),(gt.forceOnChangeCall||!gt.skipOnChangeCall&&!o.areValuesEqual(_e,st.committed,gt.value))&&a(gt.value),gt.action==="acceptAndClose"&&(tt(!1),i&&!o.areValuesEqual(_e,st.resetFallback,gt.value)&&i(gt.value))},[i,a,tt,st,_e,o]);reactExports.useEffect(()=>{_e.isValid(nt)&&it(nt)},[_e,nt]),reactExports.useEffect(()=>{et&&lt({action:"setAll",value:nt,skipOnChangeCall:!0})},[et]),o.areValuesEqual(_e,st.committed,nt)||lt({action:"setCommitted",value:nt,skipOnChangeCall:!0});const rt=reactExports.useMemo(()=>({open:et,onClear:()=>{lt({value:o.emptyValue,action:"acceptAndClose",forceOnChangeCall:!o.areValuesEqual(_e,$,o.emptyValue)})},onAccept:()=>{lt({value:st.draft,action:"acceptAndClose",forceOnChangeCall:!o.areValuesEqual(_e,$,nt)})},onDismiss:()=>{lt({value:st.committed,action:"acceptAndClose"})},onCancel:()=>{lt({value:st.resetFallback,action:"acceptAndClose"})},onSetToday:()=>{lt({value:o.getTodayValue(_e),action:"acceptAndClose"})}}),[lt,et,_e,st,o,$,nt]),[dt,ct]=reactExports.useState(!1),pt=reactExports.useMemo(()=>({parsedValue:st.draft,isMobileKeyboardViewOpen:dt,toggleMobileKeyboardView:()=>ct(!dt),onDateChange:(gt,vt,ft="partial")=>{switch(ft){case"shallow":return lt({action:"setDraft",value:gt,skipOnChangeCall:!0});case"partial":return lt({action:"setDraft",value:gt});case"finish":return lt(j??vt==="desktop"?{value:gt,action:"acceptAndClose"}:{value:gt,action:"setCommitted"});default:throw new Error("MUI: Invalid selectionState passed to `onDateChange`")}}}),[lt,dt,st.draft,j]),at=reactExports.useCallback((gt,vt)=>{const ft=o.valueReducer?o.valueReducer(_e,ot,gt):gt;a(ft,vt)},[a,o,ot,_e]),ht=reactExports.useMemo(()=>({onChange:at,open:et,rawValue:$,openPicker:()=>tt(!0)}),[at,et,$,tt]),xt={pickerProps:pt,inputProps:ht,wrapperProps:rt};return reactExports.useDebugValue(xt,()=>({MuiPickerState:{dateState:st,other:xt}})),xt},_excluded$8=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps"],DesktopDatePicker=reactExports.forwardRef(function(o,i){const a=useDatePickerDefaultizedProps(o,"MuiDesktopDatePicker"),$=useDateValidation(a)!==null,{pickerProps:j,inputProps:_e,wrapperProps:et}=usePickerState(a,datePickerValueManager),{PopperProps:tt,PaperProps:nt,ToolbarComponent:ot=DatePickerToolbar,TransitionComponent:it,components:st,componentsProps:ut}=a,lt=_objectWithoutPropertiesLoose$5(a,_excluded$8),rt=_extends({},_e,lt,{components:st,componentsProps:ut,ref:i,validationError:$});return jsx(DesktopWrapper,_extends({},et,{DateInputProps:rt,KeyboardDateInputComponent:KeyboardDateInput,PopperProps:tt,PaperProps:nt,TransitionComponent:it,components:st,componentsProps:ut,children:jsx(CalendarOrClockPicker,_extends({},j,{autoFocus:!0,toolbarTitle:a.label||a.toolbarTitle,ToolbarComponent:ot,DateInputProps:rt,components:st,componentsProps:ut},lt))}))}),Process=()=>{var[s,o]=reactExports.useState([]);const[i,a]=reactExports.useState(null),$=Ft=>{if(a(Ft),Ft!=null&&j!=null){var Tt=tt(Ft,j);o(Tt)}},[j,_e]=reactExports.useState(null),et=Ft=>{if(_e(Ft),i!=null&&Ft!=null){var Tt=tt(i,Ft);o(Tt);let It=0,Rt=0;var Dt=[];for(let Pt in st)for(let Nt in st[Pt])for(let Lt in st[Pt][Nt])if(st[Pt][Nt][Lt].code!==void 0&&st[Pt][Nt][Lt].user!==void 0&&st[Pt][Nt][Lt].started!==void 0&&Tt.length>0)for(let zt in Tt)(st[Pt][Nt][Lt].started.toLowerCase().includes(Tt[zt].toLowerCase())||st[Pt][Nt][Lt].ended!==void 0&&st[Pt][Nt][Lt].ended.toLowerCase().includes(Tt[zt].toLowerCase()))&&(Dt[Pt]=st[Pt]);for(let Pt in Dt)for(let Nt in Dt[Pt])for(let Lt in Dt[Pt][Nt])Dt[Pt][Nt][Lt].code!==void 0&&(It+=parseInt(Dt[Pt][Nt][Lt].code.split("X")[1]),Rt++);ft(It),mt(Rt),gt(Dt),It=0,Rt=0}},tt=(Ft,Tt)=>{let Dt=[],It=Ft.toDate(),Rt=Tt.toDate(),Pt=It,Nt=function(Lt){let zt=new Date(this.valueOf());return zt.setDate(zt.getDate()+Lt),zt};for(;Pt<=Rt;)Dt.push(dayjs(Pt).format("DD/MM/YY")),Pt=Nt.call(Pt,1);return Dt},nt=useLocation();var ot="",it={1:{"":{"":{code:"",ended:"25/09/22-12:26",user:"Administraci",started:"25/09/22-12:26"}},date:""},2:{"":{"":{code:"",ended:"",user:"",started:""}},date:""}};const[st,ut]=reactExports.useState([]),lt=getDatabase(app),[rt,dt]=React.useState(!1),[ct,pt]=React.useState(!1),[at,ht]=React.useState(!1);var[xt,gt]=reactExports.useState(it),[vt,ft]=reactExports.useState(0),[yt,mt]=reactExports.useState(0);Object.entries(nt).forEach(([Ft,Tt])=>{Ft==="state"&&(ot=Tt.number)});const St=ref$2(lt,"/processes/"+ot.toLowerCase());reactExports.useEffect(()=>{let Ft=0,Tt=0;onValue(St,Dt=>{const It=Dt.val();ut(It),gt(It);for(let Rt in It)for(let Pt in It[Rt])for(let Nt in It[Rt][Pt])It[Rt][Pt][Nt].code!==void 0&&(Ft+=parseInt(It[Rt][Pt][Nt].code.split("X")[1]),Tt++);ft(Ft),mt(Tt),Ft=0,Tt=0})},[]);const At=Ft=>{if(Ft.target.value===""&&i===null&&j===null)onValue(St,Dt=>{let It=0,Rt=0;const Pt=Dt.val();ut(Pt),gt(Pt);for(let Nt in Pt.orders)for(let Lt in Pt.orders[Nt])for(let zt in Pt.orders[Nt][Lt])Pt.orders[Nt][Lt][zt].code!==void 0&&(It+=parseInt(Pt.orders[Nt][Lt][zt].code.split("X")[1]),Rt++);ft(It),mt(Rt),It=0,Rt=0});else{let Dt=0,It=0;var Tt=[];const Rt=Ft.target.value.split(" ");for(let Pt=0;Pt<Rt.length;Pt++)for(let Nt in st)for(let Lt in st[Nt])for(let zt in st[Nt][Lt])if(st[Nt][Lt][zt].code!==void 0){if(st[Nt][Lt][zt].code.toLowerCase().includes(Rt[Pt].toLowerCase()))if(st[Nt][Lt][zt].user.toLowerCase().includes(Rt[Pt].toLowerCase()))if(s.length>0)for(let Mt in s)Mt!==null&&st[Nt][Lt][zt].started!==void 0?st[Nt][Lt][zt].started.toLowerCase().includes(s[Mt].toLowerCase())&&(Tt[Nt]=st[Nt]):Mt!==null&&st[Nt][Lt][zt].ended!==void 0?st[Nt][Lt][zt].ended.toLowerCase().includes(s[Mt].toLowerCase())&&(Tt[Nt]=st[Nt]):Tt[Nt]=st[Nt];else Tt[Nt]=st[Nt];else if(s.length>0)for(let Mt in s)Mt!==null&&st[Nt][Lt][zt].started!==void 0?st[Nt][Lt][zt].started.toLowerCase().includes(s[Mt].toLowerCase())&&(Tt[Nt]=st[Nt]):Mt!==null&&st[Nt][Lt][zt].ended!==void 0?st[Nt][Lt][zt].ended.toLowerCase().includes(s[Mt].toLowerCase())&&(Tt[Nt]=st[Nt]):Tt[Nt]=st[Nt];else Tt[Nt]=st[Nt];else if(st[Nt][Lt][zt].user!==void 0){if(st[Nt][Lt][zt].user.toLowerCase().includes(Rt[Pt].toLowerCase())){if(st[Nt][Lt][zt].started!==void 0)if(s.length>0)for(let Mt in s)(st[Nt][Lt][zt].started.toLowerCase().includes(s[Mt].toLowerCase())||st[Nt][Lt][zt].ended!==void 0&&st[Nt][Lt][zt].ended.toLowerCase().includes(s[Mt].toLowerCase()))&&(Tt[Nt]=st[Nt]);else Tt[Nt]=st[Nt]}else if(Rt[Pt]===""&&st[Nt][Lt][zt].started!==void 0&&s.length>0)for(let Mt in s)(st[Nt][Lt][zt].started.toLowerCase().includes(s[Mt].toLowerCase())||st[Nt][Lt][zt].ended!==void 0&&st[Nt][Lt][zt].ended.toLowerCase().includes(s[Mt].toLowerCase()))&&(Tt[Nt]=st[Nt])}}for(let Pt in Tt)for(let Nt in Tt[Pt])for(let Lt in Tt[Pt][Nt])Tt[Pt][Nt][Lt].code!==void 0&&(Dt+=parseInt(Tt[Pt][Nt][Lt].code.split("X")[1]),It++);ft(Dt),mt(It),gt(Tt),Dt=0,It=0}};return jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[jsx(Navbar,{}),jsx("div",{children:jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxs(Form$1,{style:{display:"flex",width:"70vw"},children:[jsxs(LocalizationProvider,{dateAdapter:AdapterDayjs,children:[jsx(Stack$1,{spacing:3,children:jsx(DesktopDatePicker,{label:"Date desktop",inputFormat:"DD/MM/YYYY",value:i,onChange:$,renderInput:Ft=>jsx(TextField$1,{...Ft})})}),jsx(Stack$1,{spacing:3,children:jsx(DesktopDatePicker,{label:"Date desktop",inputFormat:"DD/MM/YYYY",value:j,onChange:et,renderInput:Ft=>jsx(TextField$1,{...Ft})})})]}),jsx(Form$1.Control,{"aria-label":"orderSearch",type:"text",placeholder:"Buscar per codi, data o nom",onChange:At})]})})}),jsx("h1",{children:ot}),jsxs("p",{children:["Total puntuaci: ",vt]}),jsxs("p",{children:["Total ordres: ",yt]}),jsx("div",{className:"accordion",id:"accordionExample",children:Object.entries(xt).map(([Ft,Tt])=>jsxs("div",{className:"accordion-item",children:[jsx("h2",{className:"accordion-header",id:"headingOne",children:jsx("button",{onClick:()=>dt(!rt),className:"accordion-button",type:"button","data-toggle":"collapse","data-target":"#collapse"+Ft,"aria-expanded":"true","aria-controls":"collapse"+Ft,children:Ft})}),jsx("div",{id:"collapse"+Ft,style:rt?{display:"block"}:{display:"none"},className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample",children:jsx("div",{className:"accordion-body",children:jsx("div",{className:"accordion",id:"accordionExample",children:Object.entries(Tt).map(([Dt,It])=>Dt!=="date"?jsxs("div",{className:"accordion-item",children:[jsx("h2",{className:"accordion-header",id:"headingOne",children:jsx("button",{onClick:()=>pt(!ct),className:"accordion-button",type:"button","data-toggle":"collapse","data-target":"#collapse"+Dt,"aria-expanded":"true","aria-controls":"collapse"+Dt,children:Dt})}),jsx("div",{id:"collapse"+Dt,style:ct?{display:"block"}:{display:"none"},className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample",children:jsx("div",{className:"accordion-body",children:jsx("div",{className:"accordion",id:"accordionExample",children:Object.entries(It).map(([Rt,Pt])=>jsxs("div",{className:"accordion-item",children:[jsx("h2",{className:"accordion-header",id:"headingOne",children:jsx("button",{onClick:()=>ht(!at),className:"accordion-button",type:"button","data-toggle":"collapse","data-bs-target":"#collapse"+Rt,"aria-expanded":"true","aria-controls":"collapse"+Rt,children:Rt})}),jsx("div",{id:"collapse"+Rt,style:at?{display:"block"}:{display:"none"},className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:jsxs("div",{className:"accordion-body",children:[jsxs("p",{children:["Codi: ",Pt.code]}),jsxs("p",{children:["Usuari: ",Pt.user]}),jsxs("p",{children:["Inici: ",Pt.started]}),jsxs("p",{children:["Fi: ",Pt.ended]})]})})]},Rt))})})})]},Dt):!1)})})})]},Ft))})]})},Ordres=()=>{const s=getDatabase(app);var[o,i]=reactExports.useState([]),[a,$]=reactExports.useState(0),[j,_e]=reactExports.useState(0);const[et,tt]=reactExports.useState(""),[nt,ot]=reactExports.useState(null),it=at=>{ot(at)},[st,ut]=reactExports.useState(null),lt=at=>{ut(at)},rt=at=>{tt(at.target.value)};reactExports.useEffect(()=>{const at=ref$2(s,"/codes");let ht=0,xt=0;onValue(at,gt=>{const vt=gt.val(),ft=[];for(let yt in vt)JSON.stringify(vt[yt]).toLocaleLowerCase().includes(et.toLocaleLowerCase())&&(nt===null||dayjs(vt[yt].adminStarted).isAfter(nt)||dayjs(vt[yt].corteStarted).isAfter(nt)||dayjs(vt[yt].canteadoStarted).isAfter(nt)||dayjs(vt[yt].mecanizadoStarted).isAfter(nt)||dayjs(vt[yt].lacaStarted).isAfter(nt)||dayjs(vt[yt].cajonesStarted).isAfter(nt)||dayjs(vt[yt].uneroStarted).isAfter(nt)||dayjs(vt[yt].montajeStarted).isAfter(nt)||dayjs(vt[yt].espejosStarted).isAfter(nt)||dayjs(vt[yt].embalajeStarted).isAfter(nt))&&(st===null||dayjs(vt[yt].adminEnded).isBefore(st)||dayjs(vt[yt].corteEnded).isBefore(st)||dayjs(vt[yt].canteadoEnded).isBefore(st)||dayjs(vt[yt].mecanizadoEnded).isBefore(st)||dayjs(vt[yt].lacaEnded).isBefore(st)||dayjs(vt[yt].cajonesEnded).isBefore(st)||dayjs(vt[yt].uneroEnded).isBefore(st)||dayjs(vt[yt].montajeEnded).isBefore(st)||dayjs(vt[yt].espejosEnded).isBefore(st)||dayjs(vt[yt].embalajeEnded).isBefore(st))&&ft.push({id:yt,...vt[yt]});i(ft),ft.map(yt=>(ht+=parseInt(yt.code.split("X")[1]),xt+=1,!0)),$(ht),_e(xt),xt===0&&i([])})},[et,nt,st,s]);function dt(at,ht,xt,gt){update(ref$2(s,"codes/"+at),{[ht]:null,[ht+"User"]:null,[ht+"Started"]:null,[ht+"Ended"]:null});let vt=new Date(xt),ft=vt.getDate(),yt=vt.getMonth()+1,mt=vt.getFullYear(),St="";yt<10?St="0"+yt:St=yt.toString();let At=ft+" "+St+" "+mt;remove(ref$2(s,"processes/"+ht+"/"+At+"/"+at));var Ft=ref$2(s,"users");onValue(Ft,Tt=>{const Dt=Tt.val();for(let It in Dt)Dt[It].name===gt&&remove(ref$2(s,"users/"+It+"/orders/"+At+"/"+At+"/"+at))})}return jsxs("div",{children:[jsxs("div",{children:[jsx(Navbar,{}),jsx("h1",{style:{textAlign:"center"},children:"Ordres"})]}),jsxs("div",{style:{marginTop:"30px"},children:[jsx("div",{children:jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxs(Form$1,{style:{display:"flex",width:"70vw"},children:[jsxs(LocalizationProvider,{dateAdapter:AdapterDayjs,children:[jsx(Stack$1,{spacing:3,children:jsx(DesktopDatePicker,{label:"Date desktop",inputFormat:"DD/MM/YYYY",value:nt,onChange:it,renderInput:at=>jsx(TextField$1,{...at})})}),jsx(Stack$1,{spacing:3,children:jsx(DesktopDatePicker,{label:"Date desktop",inputFormat:"DD/MM/YYYY",value:st,onChange:lt,renderInput:at=>jsx(TextField$1,{...at})})})]}),jsx(Form$1.Control,{"aria-label":"orderSearch",type:"text",placeholder:"Buscar per codi, data o nom",onChange:rt})]})})}),jsxs("div",{style:{margin:"10px"},children:[jsxs("p",{children:["Total puntuaci: ",a]}),jsxs("p",{children:["Total ordres: ",j]})]}),jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:o.map((at,ht)=>jsxs("div",{style:{backgroundColor:"#000000",textAlign:"left",fontSize:"20px",fontWeight:"bold",color:"white",borderRadius:"5%",border:"2px solid white",padding:"20px",margin:"10px"},children:[ct(at.code),at.admin?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Admin: ",at.adminUser]}),jsxs("p",{children:["Inici: ",dayjs(at.adminStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.adminEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"admin",at.adminStarted,at.adminUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.corte?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Corte: ",at.corteUser]}),jsxs("p",{children:["Inici: ",dayjs(at.corteStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.corteEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"corte",at.corteStarted,at.corteUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.canteado?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Canteado: ",at.canteadoUser]}),jsxs("p",{children:["Inici: ",dayjs(at.canteadoStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.canteadoEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"canteado",at.canteadoStarted,at.canteadoUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.mecanizado?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Mecanizado: ",at.mecanizadoUser]}),jsxs("p",{children:["Inici: ",dayjs(at.mecanizadoStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.mecanizadoEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"mecanizado",at.mecanizadoStarted,at.mecanizadoUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.laca?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Laca: ",at.lacaUser]}),jsxs("p",{children:["Inici: ",dayjs(at.lacaStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.lacaEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"laca",at.lacaStarted,at.lacaUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.cajones?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Cajones: ",at.cajonesUser]}),jsxs("p",{children:["Inici: ",dayjs(at.cajonesStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.cajonesEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"cajones",at.cajonesStarted,at.cajonesUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.unero?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Unero: ",at.uneroUser]}),jsxs("p",{children:["Inici: ",dayjs(at.uneroStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.uneroEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"unero",at.uneroStarted,at.uneroUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.montaje?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Montaje: ",at.montajeUser]}),jsxs("p",{children:["Inici: ",dayjs(at.montajeStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.montajeEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"montaje",at.montajeStarted,at.montajeUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.espejos?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Espejos: ",at.espejosUser]}),jsxs("p",{children:["Inici: ",dayjs(at.espejosStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.espejosEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"espejos",at.espejosStarted,at.espejosUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.embalaje?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Embalaje: ",at.embalajeUser]}),jsxs("p",{children:["Inici: ",dayjs(at.embalajeStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.embalajeEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"embalaje",at.embalajeStarted,at.embalajeUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{})]},ht))})]})]});function ct(at){let ht=at.split("X");return jsxs("div",{style:{position:"relative"},children:[jsxs("p",{children:["Codi: ",ht[0]]}),jsxs("p",{children:[" Puntuaci: ",ht[1]]}),jsx("img",{style:{position:"absolute",right:0,bottom:-15},role:"button",width:"30px",onClick:()=>pt(at),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]})}function pt(at){set(ref$2(s,"codes/"+at),{})}},OrdresRefactored=()=>{const s=getDatabase(app);var[o,i]=reactExports.useState([]),[a,$]=reactExports.useState(0),[j,_e]=reactExports.useState(0);const[et,tt]=reactExports.useState(""),[nt,ot]=reactExports.useState(null),it=at=>{ot(at)},[st,ut]=reactExports.useState(null),lt=at=>{ut(at)},rt=at=>{tt(at.target.value)};reactExports.useEffect(()=>{const at=ref$2(s,"/codes");let ht=0,xt=0;get(at).then(gt=>{const vt=gt.val(),ft=[];for(let yt in vt)JSON.stringify(vt[yt]).toLocaleLowerCase().includes(et.toLocaleLowerCase())&&(nt===null||dayjs(vt[yt].adminStarted).isAfter(nt))&&(st===null||dayjs(vt[yt].adminEnded).isBefore(st))&&ft.push({id:yt,...vt[yt]});i(ft),ft.map(yt=>(ht+=parseInt(yt.code.split("X")[1]),xt+=1,!0)),$(ht),_e(xt),xt===0&&i([])})},[et,nt,st,s]);function dt(at,ht,xt,gt){update(ref$2(s,"codes/"+at),{[ht]:null,[ht+"User"]:null,[ht+"Started"]:null,[ht+"Ended"]:null});let vt=new Date(xt),ft=vt.getDate(),yt=vt.getMonth()+1,mt=vt.getFullYear(),St="";yt<10?St="0"+yt:St=yt.toString();let At=ft+" "+St+" "+mt;remove(ref$2(s,"processes/"+ht+"/"+At+"/"+at));var Ft=ref$2(s,"users");onValue(Ft,Tt=>{const Dt=Tt.val();for(let It in Dt)Dt[It].name===gt&&remove(ref$2(s,"users/"+It+"/orders/"+At+"/"+At+"/"+at))})}return jsxs("div",{children:[jsxs("div",{children:[jsx(Navbar,{}),jsx("h1",{style:{textAlign:"center"},children:"Ordres"})]}),jsxs("div",{style:{marginTop:"30px"},children:[jsx("div",{children:jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxs(Form$1,{style:{display:"flex",width:"70vw"},children:[jsxs(LocalizationProvider,{dateAdapter:AdapterDayjs,children:[jsx(Stack$1,{spacing:3,children:jsx(DesktopDatePicker,{label:"Date desktop",inputFormat:"DD/MM/YYYY",value:nt,onChange:it,renderInput:at=>jsx(TextField$1,{...at})})}),jsx(Stack$1,{spacing:3,children:jsx(DesktopDatePicker,{label:"Date desktop",inputFormat:"DD/MM/YYYY",value:st,onChange:lt,renderInput:at=>jsx(TextField$1,{...at})})})]}),jsx(Form$1.Control,{"aria-label":"orderSearch",type:"text",placeholder:"Buscar per codi, data o nom",onChange:rt})]})})}),jsxs("div",{style:{margin:"10px"},children:[jsxs("p",{children:["Total puntuaci: ",a]}),jsxs("p",{children:["Total ordres: ",j]})]}),jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:o.map((at,ht)=>jsxs("div",{style:{backgroundColor:"#000000",textAlign:"left",fontSize:"20px",fontWeight:"bold",color:"white",borderRadius:"5%",border:"2px solid white",padding:"20px",margin:"10px"},children:[ct(at.code),at.admin?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Admin: ",at.adminUser]}),jsxs("p",{children:["Inici: ",dayjs(at.adminStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.adminEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"admin",at.adminStarted,at.adminUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.corte?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Corte: ",at.corteUser]}),jsxs("p",{children:["Inici: ",dayjs(at.corteStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.corteEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"corte",at.corteStarted,at.corteUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.canteado?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Canteado: ",at.canteadoUser]}),jsxs("p",{children:["Inici: ",dayjs(at.canteadoStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.canteadoEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"canteado",at.canteadoStarted,at.canteadoUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.mecanizado?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Mecanizado: ",at.mecanizadoUser]}),jsxs("p",{children:["Inici: ",dayjs(at.mecanizadoStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.mecanizadoEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"mecanizado",at.mecanizadoStarted,at.mecanizadoUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.laca?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Laca: ",at.lacaUser]}),jsxs("p",{children:["Inici: ",dayjs(at.lacaStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.lacaEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"laca",at.lacaStarted,at.lacaUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.cajones?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Cajones: ",at.cajonesUser]}),jsxs("p",{children:["Inici: ",dayjs(at.cajonesStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.cajonesEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"cajones",at.cajonesStarted,at.cajonesUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.unero?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Unero: ",at.uneroUser]}),jsxs("p",{children:["Inici: ",dayjs(at.uneroStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.uneroEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"unero",at.uneroStarted,at.uneroUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.montaje?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Montaje: ",at.montajeUser]}),jsxs("p",{children:["Inici: ",dayjs(at.montajeStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.montajeEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"montaje",at.montajeStarted,at.montajeUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.espejos?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Espejos: ",at.espejosUser]}),jsxs("p",{children:["Inici: ",dayjs(at.espejosStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.espejosEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"espejos",at.espejosStarted,at.espejosUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{}),at.embalaje?jsxs("div",{style:{position:"relative",border:"1px solid gray"},children:[jsxs("p",{children:["Embalaje: ",at.embalajeUser]}),jsxs("p",{children:["Inici: ",dayjs(at.embalajeStarted).format("DD/MM/YYYY - HH:mm").toString()]})," ",jsxs("p",{children:["Fi: ",dayjs(at.embalajeEnded).format("DD/MM/YYYY - HH:mm").toString()]}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>dt(at.code,"embalaje",at.embalajeStarted,at.embalajeUser),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]}):jsx("p",{})]},ht))})]})]});function ct(at){let ht=at.split("X");return jsxs("div",{style:{position:"relative"},children:[jsxs("p",{children:["Codi: ",ht[0]]}),jsxs("p",{children:[" Puntuaci: ",ht[1]]}),jsx("img",{style:{position:"absolute",right:0,bottom:-15},role:"button",width:"30px",onClick:()=>pt(at),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]})}function pt(at){set(ref$2(s,"codes/"+at),{})}},User=()=>{var[s,o]=reactExports.useState([]);const[i,a]=reactExports.useState(null),$=Mt=>{if(a(Mt),Mt!=null&&j!=null){var Et=tt(Mt,j);o(Et)}},[j,_e]=reactExports.useState(null),et=Mt=>{if(_e(Mt),i!=null&&Mt!=null){var Et=tt(i,Mt);o(Et);let Ot=0,Ut=0;var Ct=[];for(let $t in st)for(let Bt in st[$t])for(let Wt in st[$t][Bt])if(st[$t][Bt][Wt].code!==void 0&&st[$t][Bt][Wt].started!==void 0&&Et.length>0)for(let Gt in Et)(st[$t][Bt][Wt].started.toLowerCase().includes(Et[Gt].toLowerCase())||st[$t][Bt][Wt].ended!==void 0&&st[$t][Bt][Wt].ended.toLowerCase().includes(Et[Gt].toLowerCase()))&&(Ct[$t]=st[$t]);for(let $t in Ct)for(let Bt in Ct[$t])for(let Wt in Ct[$t][Bt])Ct[$t][Bt][Wt].code!==void 0&&(Ot+=parseInt(Ct[$t][Bt][Wt].code.split("X")[1]),Ut++);ft(Ot),mt(Ut),gt(Ct),Ot=0,Ut=0}},tt=(Mt,Et)=>{let Ct=[],Ot=Mt.toDate(),Ut=Et.toDate(),$t=Ot,Bt=function(Wt){let Gt=new Date(this.valueOf());return Gt.setDate(Gt.getDate()+Wt),Gt};for(;$t<=Ut;)Ct.push(dayjs($t).format("DD/MM/YY")),$t=Bt.call($t,1);return Ct},nt=useLocation();var ot="",it={1:{"":{"":{code:"",ended:"25/09/22-12:26",process:"",started:"25/09/22-12:26"}},date:""},2:{"":{"":{code:"",ended:"",process:"",started:""}},date:""}};const[st,ut]=reactExports.useState([]),lt=getDatabase(app),[rt,dt]=React.useState(!1),[ct,pt]=React.useState(!1),[at,ht]=React.useState(!1);var[xt,gt]=reactExports.useState(it),[vt,ft]=reactExports.useState(0),[yt,mt]=reactExports.useState(0),[St,At]=reactExports.useState(""),[Ft,Tt]=reactExports.useState(""),[Dt,It]=reactExports.useState("");Object.entries(nt).forEach(([Mt,Et])=>{Mt==="state"&&(ot=Et.number)});const Rt=ref$2(lt,"/users/"+ot);var Pt="sense codi",Nt="sense nom",Lt="sense procs";reactExports.useEffect(()=>{let Mt=0,Et=0;onValue(Rt,Ct=>{const Ot=Ct.val(),Ut=[];Pt=Ot.code,Nt=Ot.name,Lt=Ot.process;for(let $t in Ot)$t==="orders"&&(ut(Ot[$t]),gt(Ot[$t]),Ut.push({id:$t,...Ot[$t]}));for(let $t in Ot.orders)for(let Bt in Ot.orders[$t])for(let Wt in Ot.orders[$t][Bt])Ot.orders[$t][Bt][Wt].code!==void 0&&(Mt+=parseInt(Ot.orders[$t][Bt][Wt].code.split("X")[1]),Et++);ft(Mt),mt(Et),At(Nt),Tt(Pt),It(Lt),Mt=0,Et=0})},[]);const zt=Mt=>{if(Mt.target.value===""&&i===null&&j===null)onValue(Rt,Ct=>{let Ot=0,Ut=0;const $t=Ct.val(),Bt=[];Pt=$t.code,Nt=$t.name,Lt=$t.process;for(let Wt in $t)Wt==="orders"&&(ut($t[Wt]),gt($t[Wt]),Bt.push({id:Wt,...$t[Wt]}));for(let Wt in $t.orders)for(let Gt in $t.orders[Wt])for(let bt in $t.orders[Wt][Gt])$t.orders[Wt][Gt][bt].code!==void 0&&(Ot+=parseInt($t.orders[Wt][Gt][bt].code.split("X")[1]),Ut++);ft(Ot),mt(Ut),Ot=0,Ut=0,At(Nt),Tt(Pt),It(Lt)});else{let Ct=0,Ot=0;var Et=[];const Ut=Mt.target.value.split(" ");for(let $t=0;$t<Ut.length;$t++)for(let Bt in st)for(let Wt in st[Bt])for(let Gt in st[Bt][Wt])if(st[Bt][Wt][Gt].code!==void 0){if(st[Bt][Wt][Gt].code.toLowerCase().includes(Ut[$t].toLowerCase()))if(s.length>0)for(let bt in s)bt!==null&&st[Bt][Wt][Gt].started!==void 0?st[Bt][Wt][Gt].started.includes(s[bt].toLowerCase())&&(Et[Bt]=st[Bt]):bt!==null&&st[Bt][Wt][Gt].ended!==void 0?st[Bt][Wt][Gt].ended.includes(s[bt].toLowerCase())&&(Et[Bt]=st[Bt]):Et[Bt]=st[Bt];else Et[Bt]=st[Bt];else if(st[Bt][Wt][Gt].process!==void 0&&st[Bt][Wt][Gt].process.toLowerCase().includes(Ut[$t].toLowerCase()))if(s.length>0)for(let bt in s)bt!==null&&st[Bt][Wt][Gt].started!==void 0?st[Bt][Wt][Gt].started.includes(s[bt].toLowerCase())&&(Et[Bt]=st[Bt]):bt!==null&&st[Bt][Wt][Gt].ended!==void 0?st[Bt][Wt][Gt].ended.includes(s[bt].toLowerCase())&&(Et[Bt]=st[Bt]):Et[Bt]=st[Bt];else Et[Bt]=st[Bt]}for(let $t in Et)for(let Bt in Et[$t])for(let Wt in Et[$t][Bt])Et[$t][Bt][Wt].code!==void 0&&(Ct+=parseInt(Et[$t][Bt][Wt].code.split("X")[1]),Ot++);ft(Ct),mt(Ot),gt(Et),Ct=0,Ot=0}};return jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[jsx(Navbar,{}),jsx("div",{children:jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxs(Form$1,{style:{display:"flex",width:"70vw"},children:[jsxs(LocalizationProvider,{dateAdapter:AdapterDayjs,children:[jsx(Stack$1,{spacing:3,children:jsx(DesktopDatePicker,{label:"Date desktop",inputFormat:"DD/MM/YYYY",value:i,onChange:$,renderInput:Mt=>jsx(TextField$1,{...Mt})})}),jsx(Stack$1,{spacing:3,children:jsx(DesktopDatePicker,{label:"Date desktop",inputFormat:"DD/MM/YYYY",value:j,onChange:et,renderInput:Mt=>jsx(TextField$1,{...Mt})})})]}),jsx(Form$1.Control,{"aria-label":"orderSearch",type:"text",placeholder:"Buscar per data inici, fi, codi o procs",onChange:zt})]})})}),jsx("h1",{children:"Usuari"}),jsxs("p",{children:["Nom: ",St]}),jsxs("p",{children:["Ordre actual: ",Ft]}),jsxs("p",{children:["Procs actual: ",Dt]}),jsx("h2",{children:"Dates d'ordres:"}),jsxs("p",{children:["Total puntuaci: ",vt]}),jsxs("p",{children:["Total ordres: ",yt]}),jsx("div",{className:"accordion",id:"accordionExample",children:Object.entries(xt).map(([Mt,Et])=>jsxs("div",{className:"accordion-item",children:[jsx("h2",{className:"accordion-header",id:"headingOne",children:jsx("button",{onClick:()=>dt(!rt),className:"accordion-button",type:"button","data-toggle":"collapse","data-target":"#collapse"+Mt,"aria-expanded":"true","aria-controls":"collapse"+Mt,children:Mt})}),jsx("div",{id:"collapse"+Mt,style:rt?{display:"block"}:{display:"none"},className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample",children:jsx("div",{className:"accordion-body",children:jsx("div",{className:"accordion",id:"accordionExample",children:Object.entries(Et).map(([Ct,Ot])=>Ct!=="date"?jsxs("div",{className:"accordion-item",children:[jsx("h2",{className:"accordion-header",id:"headingOne",children:jsx("button",{onClick:()=>pt(!ct),className:"accordion-button",type:"button","data-toggle":"collapse","data-target":"#collapse"+Ct,"aria-expanded":"true","aria-controls":"collapse"+Ct,children:Ct})}),jsx("div",{id:"collapse"+Ct,style:ct?{display:"block"}:{display:"none"},className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-parent":"#accordionExample",children:jsx("div",{className:"accordion-body",children:jsx("div",{className:"accordion",id:"accordionExample",children:Object.entries(Ot).map(([Ut,$t])=>jsxs("div",{className:"accordion-item",children:[jsx("h2",{className:"accordion-header",id:"headingOne",children:jsx("button",{onClick:()=>ht(!at),className:"accordion-button",type:"button","data-toggle":"collapse","data-bs-target":"#collapse"+Ut,"aria-expanded":"true","aria-controls":"collapse"+Ut,children:Ut})}),jsx("div",{id:"collapse"+Ut,style:at?{display:"block"}:{display:"none"},className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:jsxs("div",{className:"accordion-body",children:[jsxs("p",{children:["Codi: ",$t.code]}),jsxs("p",{children:["Procs: ",$t.process]}),jsxs("p",{children:["Inici: ",$t.started]}),jsxs("p",{children:["Fi: ",$t.ended]})]})})]},Ut))})})})]},Ct):!1)})})})]},Mt))})]})};var MoreVert={},interopRequireDefaultExports={},interopRequireDefault={get exports(){return interopRequireDefaultExports},set exports(s){interopRequireDefaultExports=s}};(function(s){function o(i){return i&&i.__esModule?i:{default:i}}s.exports=o,s.exports.__esModule=!0,s.exports.default=s.exports})(interopRequireDefault);var createSvgIcon={};const require$$0=getAugmentedNamespace(utils);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=require$$0}(createSvgIcon)),createSvgIcon}const require$$2=getAugmentedNamespace(jsxRuntime);var _interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(MoreVert,"__esModule",{value:!0});var default_1=MoreVert.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=require$$2,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");default_1=MoreVert.default=_default;const TransportationOptionsStyle="";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3,DEFAULT_MIN_SLEEP_TIME_MILLIS=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(o,i,a=0){super(prependCode(o),`Firebase Storage: ${i} (${prependCode(o)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(o){this.status_=o}_codeEquals(o){return prependCode(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function prependCode(s){return"storage/"+s}function unknown(){const s="An unknown error occurred, please check the error payload for server response.";return new StorageError("unknown",s)}function objectNotFound(s){return new StorageError("object-not-found","Object '"+s+"' does not exist.")}function quotaExceeded(s){return new StorageError("quota-exceeded","Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError("unauthenticated",s)}function unauthorizedApp(){return new StorageError("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function unauthorized(s){return new StorageError("unauthorized","User does not have permission to access '"+s+"'.")}function retryLimitExceeded(){return new StorageError("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError("canceled","User canceled the upload/download.")}function invalidUrl(s){return new StorageError("invalid-url","Invalid URL '"+s+"'.")}function invalidDefaultBucket(s){return new StorageError("invalid-default-bucket","Invalid default bucket '"+s+"'.")}function noDefaultBucket(){return new StorageError("no-default-bucket","No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function serverFileWrongSize(){return new StorageError("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function noDownloadURL(){return new StorageError("no-download-url","The given file does not have any download URLs.")}function missingPolyFill(s){return new StorageError("unsupported-environment",`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(s){return new StorageError("invalid-argument",s)}function appDeleted(){return new StorageError("app-deleted","The Firebase app was deleted.")}function invalidRootOperation(s){return new StorageError("invalid-root-operation","The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(s,o){return new StorageError("invalid-format","String does not match format '"+s+"': "+o)}function internalError(s){throw new StorageError("internal-error","Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(o,i){this.bucket=o,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,i){let a;try{a=Location.makeFromUrl(o,i)}catch{return new Location(o,"")}if(a.path==="")return a;throw invalidDefaultBucket(o)}static makeFromUrl(o,i){let a=null;const $="([A-Za-z0-9.\\-_]+)";function j(ht){ht.path.charAt(ht.path.length-1)==="/"&&(ht.path_=ht.path_.slice(0,-1))}const _e="(/(.*))?$",et=new RegExp("^gs://"+$+_e,"i"),tt={bucket:1,path:3};function nt(ht){ht.path_=decodeURIComponent(ht.path)}const ot="v[A-Za-z0-9_]+",it=i.replace(/[.]/g,"\\."),st="(/([^?#]*).*)?$",ut=new RegExp(`^https?://${it}/${ot}/b/${$}/o${st}`,"i"),lt={bucket:1,path:3},rt=i===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":i,dt="([^?#]*)",ct=new RegExp(`^https?://${rt}/${$}/${dt}`,"i"),at=[{regex:et,indices:tt,postModify:j},{regex:ut,indices:lt,postModify:nt},{regex:ct,indices:{bucket:1,path:2},postModify:nt}];for(let ht=0;ht<at.length;ht++){const xt=at[ht],gt=xt.regex.exec(o);if(gt){const vt=gt[xt.indices.bucket];let ft=gt[xt.indices.path];ft||(ft=""),a=new Location(vt,ft),xt.postModify(a);break}}if(a==null)throw invalidUrl(o);return a}}class FailRequest{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(s,o,i){let a=1,$=null,j=null,_e=!1,et=0;function tt(){return et===2}let nt=!1;function ot(...dt){nt||(nt=!0,o.apply(null,dt))}function it(dt){$=setTimeout(()=>{$=null,s(ut,tt())},dt)}function st(){j&&clearTimeout(j)}function ut(dt,...ct){if(nt){st();return}if(dt){st(),ot.call(null,dt,...ct);return}if(tt()||_e){st(),ot.call(null,dt,...ct);return}a<64&&(a*=2);let at;et===1?(et=2,at=0):at=(a+Math.random())*1e3,it(at)}let lt=!1;function rt(dt){lt||(lt=!0,st(),!nt&&($!==null?(dt||(et=2),clearTimeout($),it(0)):dt||(et=1)))}return it(0),j=setTimeout(()=>{_e=!0,rt(!0)},i),rt}function stop(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(s){return s!==void 0}function isFunction(s){return typeof s=="function"}function isNonArrayObject(s){return typeof s=="object"&&!Array.isArray(s)}function isString(s){return typeof s=="string"||s instanceof String}function isNativeBlob(s){return isNativeBlobDefined()&&s instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"&&!isNode()}function validateNumber(s,o,i,a){if(a<o)throw invalidArgument(`Invalid value for '${s}'. Expected ${o} or greater.`);if(a>i)throw invalidArgument(`Invalid value for '${s}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(s,o,i){let a=o;return i==null&&(a=`https://${o}`),`${i}://${a}/v0${s}`}function makeQueryString(s){const o=encodeURIComponent;let i="?";for(const a in s)if(s.hasOwnProperty(a)){const $=o(a)+"="+o(s[a]);i=i+$+"&"}return i=i.slice(0,-1),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(s,o){const i=s>=500&&s<600,$=[408,429].indexOf(s)!==-1,j=o.indexOf(s)!==-1;return i||$||j}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(o,i,a,$,j,_e,et,tt,nt,ot,it,st=!0){this.url_=o,this.method_=i,this.headers_=a,this.body_=$,this.successCodes_=j,this.additionalRetryCodes_=_e,this.callback_=et,this.errorCallback_=tt,this.timeout_=nt,this.progressCallback_=ot,this.connectionFactory_=it,this.retry=st,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ut,lt)=>{this.resolve_=ut,this.reject_=lt,this.start_()})}start_(){const o=(a,$)=>{if($){a(!1,new RequestEndStatus(!1,null,!0));return}const j=this.connectionFactory_();this.pendingConnection_=j;const _e=et=>{const tt=et.loaded,nt=et.lengthComputable?et.total:-1;this.progressCallback_!==null&&this.progressCallback_(tt,nt)};this.progressCallback_!==null&&j.addUploadProgressListener(_e),j.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&j.removeUploadProgressListener(_e),this.pendingConnection_=null;const et=j.getErrorCode()===ErrorCode.NO_ERROR,tt=j.getStatus();if((!et||isRetryStatusCode(tt,this.additionalRetryCodes_))&&this.retry){const ot=j.getErrorCode()===ErrorCode.ABORT;a(!1,new RequestEndStatus(!1,null,ot));return}const nt=this.successCodes_.indexOf(tt)!==-1;a(!0,new RequestEndStatus(nt,j))})},i=(a,$)=>{const j=this.resolve_,_e=this.reject_,et=$.connection;if($.wasSuccessCode)try{const tt=this.callback_(et,et.getResponse());isJustDef(tt)?j(tt):j()}catch(tt){_e(tt)}else if(et!==null){const tt=unknown();tt.serverResponse=et.getErrorText(),this.errorCallback_?_e(this.errorCallback_(et,tt)):_e(tt)}else if($.canceled){const tt=this.appDelete_?appDeleted():canceled();_e(tt)}else{const tt=retryLimitExceeded();_e(tt)}};this.canceled_?i(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(o,i,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(o,i,a){this.wasSuccessCode=o,this.connection=i,this.canceled=!!a}}function addAuthHeader_(s,o){o!==null&&o.length>0&&(s.Authorization="Firebase "+o)}function addVersionHeader_(s,o){s["X-Firebase-Storage-Version"]="webjs/"+(o??"AppManager")}function addGmpidHeader_(s,o){o&&(s["X-Firebase-GMPID"]=o)}function addAppCheckHeader_(s,o){o!==null&&(s["X-Firebase-AppCheck"]=o)}function makeRequest(s,o,i,a,$,j,_e=!0){const et=makeQueryString(s.urlParams),tt=s.url+et,nt=Object.assign({},s.headers);return addGmpidHeader_(nt,o),addAuthHeader_(nt,i),addVersionHeader_(nt,j),addAppCheckHeader_(nt,a),new NetworkRequest(tt,s.method,nt,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,$,_e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...s){const o=getBlobBuilder();if(o!==void 0){const i=new o;for(let a=0;a<s.length;a++)i.append(s[a]);return i.getBlob()}else{if(isNativeBlobDefined())return new Blob(s);throw new StorageError("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function sliceBlob(s,o,i){return s.webkitSlice?s.webkitSlice(o,i):s.mozSlice?s.mozSlice(o,i):s.slice?s.slice(o,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(s){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(o,i){this.data=o,this.contentType=i||null}}function dataFromString(s,o){switch(s){case StringFormat.RAW:return new StringData(utf8Bytes_(o));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(s,o));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(o),dataURLContentType_(o))}throw unknown()}function utf8Bytes_(s){const o=[];for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);if(a<=127)o.push(a);else if(a<=2047)o.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(i<s.length-1&&(s.charCodeAt(i+1)&64512)===56320))o.push(239,191,189);else{const j=a,_e=s.charCodeAt(++i);a=65536|(j&1023)<<10|_e&1023,o.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?o.push(239,191,189):o.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(o)}function percentEncodedBytes_(s){let o;try{o=decodeURIComponent(s)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(o)}function base64Bytes_(s,o){switch(s){case StringFormat.BASE64:{const $=o.indexOf("-")!==-1,j=o.indexOf("_")!==-1;if($||j)throw invalidFormat(s,"Invalid character '"+($?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const $=o.indexOf("+")!==-1,j=o.indexOf("/")!==-1;if($||j)throw invalidFormat(s,"Invalid character '"+($?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=decodeBase64(o)}catch($){throw $.message.includes("polyfill")?$:invalidFormat(s,"Invalid character found")}const a=new Uint8Array(i.length);for(let $=0;$<i.length;$++)a[$]=i.charCodeAt($);return a}class DataURLParts{constructor(o){this.base64=!1,this.contentType=null;const i=o.match(/^data:([^,]+)?,/);if(i===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=i[1]||null;a!=null&&(this.base64=endsWith(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=o.substring(o.indexOf(",")+1)}}function dataURLBytes_(s){const o=new DataURLParts(s);return o.base64?base64Bytes_(StringFormat.BASE64,o.rest):percentEncodedBytes_(o.rest)}function dataURLContentType_(s){return new DataURLParts(s).contentType}function endsWith(s,o){return s.length>=o.length?s.substring(s.length-o.length)===o:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(o,i){let a=0,$="";isNativeBlob(o)?(this.data_=o,a=o.size,$=o.type):o instanceof ArrayBuffer?(i?this.data_=new Uint8Array(o):(this.data_=new Uint8Array(o.byteLength),this.data_.set(new Uint8Array(o))),a=this.data_.length):o instanceof Uint8Array&&(i?this.data_=o:(this.data_=new Uint8Array(o.length),this.data_.set(o)),a=o.length),this.size_=a,this.type_=$}size(){return this.size_}type(){return this.type_}slice(o,i){if(isNativeBlob(this.data_)){const a=this.data_,$=sliceBlob(a,o,i);return $===null?null:new FbsBlob($)}else{const a=new Uint8Array(this.data_.buffer,o,i-o);return new FbsBlob(a,!0)}}static getBlob(...o){if(isNativeBlobDefined()){const i=o.map(a=>a instanceof FbsBlob?a.data_:a);return new FbsBlob(getBlob$1.apply(null,i))}else{const i=o.map(_e=>isString(_e)?dataFromString(StringFormat.RAW,_e).data:_e.data_);let a=0;i.forEach(_e=>{a+=_e.byteLength});const $=new Uint8Array(a);let j=0;return i.forEach(_e=>{for(let et=0;et<_e.length;et++)$[j++]=_e[et]}),new FbsBlob($,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(s){let o;try{o=JSON.parse(s)}catch{return null}return isNonArrayObject(o)?o:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(s){if(s.length===0)return null;const o=s.lastIndexOf("/");return o===-1?"":s.slice(0,o)}function child(s,o){const i=o.split("/").filter(a=>a.length>0).join("/");return s.length===0?i:s+"/"+i}function lastComponent(s){const o=s.lastIndexOf("/",s.length-2);return o===-1?s:s.slice(o+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(s,o){return o}class Mapping{constructor(o,i,a,$){this.server=o,this.local=i||o,this.writable=!!a,this.xform=$||noXform_}}let mappings_=null;function xformPath(s){return!isString(s)||s.length<2?s:lastComponent(s)}function getMappings(){if(mappings_)return mappings_;const s=[];s.push(new Mapping("bucket")),s.push(new Mapping("generation")),s.push(new Mapping("metageneration")),s.push(new Mapping("name","fullPath",!0));function o(j,_e){return xformPath(_e)}const i=new Mapping("name");i.xform=o,s.push(i);function a(j,_e){return _e!==void 0?Number(_e):_e}const $=new Mapping("size");return $.xform=a,s.push($),s.push(new Mapping("timeCreated")),s.push(new Mapping("updated")),s.push(new Mapping("md5Hash",null,!0)),s.push(new Mapping("cacheControl",null,!0)),s.push(new Mapping("contentDisposition",null,!0)),s.push(new Mapping("contentEncoding",null,!0)),s.push(new Mapping("contentLanguage",null,!0)),s.push(new Mapping("contentType",null,!0)),s.push(new Mapping("metadata","customMetadata",!0)),mappings_=s,mappings_}function addRef(s,o){function i(){const a=s.bucket,$=s.fullPath,j=new Location(a,$);return o._makeStorageReference(j)}Object.defineProperty(s,"ref",{get:i})}function fromResource(s,o,i){const a={};a.type="file";const $=i.length;for(let j=0;j<$;j++){const _e=i[j];a[_e.local]=_e.xform(a,o[_e.server])}return addRef(a,s),a}function fromResourceString(s,o,i){const a=jsonObjectOrNull(o);return a===null?null:fromResource(s,a,i)}function downloadUrlFromResourceString(s,o,i,a){const $=jsonObjectOrNull(o);if($===null||!isString($.downloadTokens))return null;const j=$.downloadTokens;if(j.length===0)return null;const _e=encodeURIComponent;return j.split(",").map(nt=>{const ot=s.bucket,it=s.fullPath,st="/b/"+_e(ot)+"/o/"+_e(it),ut=makeUrl(st,i,a),lt=makeQueryString({alt:"media",token:nt});return ut+lt})[0]}function toResourceString(s,o){const i={},a=o.length;for(let $=0;$<a;$++){const j=o[$];j.writable&&(i[j.server]=s[j.local])}return JSON.stringify(i)}class RequestInfo{constructor(o,i,a,$){this.url=o,this.method=i,this.handler=a,this.timeout=$,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(s){if(!s)throw unknown()}function metadataHandler(s,o){function i(a,$){const j=fromResourceString(s,$,o);return handlerCheck(j!==null),j}return i}function downloadUrlHandler(s,o){function i(a,$){const j=fromResourceString(s,$,o);return handlerCheck(j!==null),downloadUrlFromResourceString(j,$,s.host,s._protocol)}return i}function sharedErrorHandler(s){function o(i,a){let $;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?$=unauthorizedApp():$=unauthenticated():i.getStatus()===402?$=quotaExceeded(s.bucket):i.getStatus()===403?$=unauthorized(s.path):$=a,$.status=i.getStatus(),$.serverResponse=a.serverResponse,$}return o}function objectErrorHandler(s){const o=sharedErrorHandler(s);function i(a,$){let j=o(a,$);return a.getStatus()===404&&(j=objectNotFound(s.path)),j.serverResponse=$.serverResponse,j}return i}function getMetadata$2(s,o,i){const a=o.fullServerUrl(),$=makeUrl(a,s.host,s._protocol),j="GET",_e=s.maxOperationRetryTime,et=new RequestInfo($,j,metadataHandler(s,i),_e);return et.errorHandler=objectErrorHandler(o),et}function getDownloadUrl(s,o,i){const a=o.fullServerUrl(),$=makeUrl(a,s.host,s._protocol),j="GET",_e=s.maxOperationRetryTime,et=new RequestInfo($,j,downloadUrlHandler(s,i),_e);return et.errorHandler=objectErrorHandler(o),et}function deleteObject$2(s,o){const i=o.fullServerUrl(),a=makeUrl(i,s.host,s._protocol),$="DELETE",j=s.maxOperationRetryTime;function _e(tt,nt){}const et=new RequestInfo(a,$,_e,j);return et.successCodes=[200,204],et.errorHandler=objectErrorHandler(o),et}function determineContentType_(s,o){return s&&s.contentType||o&&o.type()||"application/octet-stream"}function metadataForUpload_(s,o,i){const a=Object.assign({},i);return a.fullPath=s.path,a.size=o.size(),a.contentType||(a.contentType=determineContentType_(null,o)),a}function multipartUpload(s,o,i,a,$){const j=o.bucketOnlyServerUrl(),_e={"X-Goog-Upload-Protocol":"multipart"};function et(){let at="";for(let ht=0;ht<2;ht++)at=at+Math.random().toString().slice(2);return at}const tt=et();_e["Content-Type"]="multipart/related; boundary="+tt;const nt=metadataForUpload_(o,a,$),ot=toResourceString(nt,i),it="--"+tt+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+ot+`\r
--`+tt+`\r
Content-Type: `+nt.contentType+`\r
\r
`,st=`\r
--`+tt+"--",ut=FbsBlob.getBlob(it,a,st);if(ut===null)throw cannotSliceBlob();const lt={name:nt.fullPath},rt=makeUrl(j,s.host,s._protocol),dt="POST",ct=s.maxUploadRetryTime,pt=new RequestInfo(rt,dt,metadataHandler(s,i),ct);return pt.urlParams=lt,pt.headers=_e,pt.body=ut.uploadData(),pt.errorHandler=sharedErrorHandler(o),pt}class ResumableUploadStatus{constructor(o,i,a,$){this.current=o,this.total=i,this.finalized=!!a,this.metadata=$||null}}function checkResumeHeader_(s,o){let i=null;try{i=s.getResponseHeader("X-Goog-Upload-Status")}catch{handlerCheck(!1)}return handlerCheck(!!i&&(o||["active"]).indexOf(i)!==-1),i}function createResumableUpload(s,o,i,a,$){const j=o.bucketOnlyServerUrl(),_e=metadataForUpload_(o,a,$),et={name:_e.fullPath},tt=makeUrl(j,s.host,s._protocol),nt="POST",ot={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${a.size()}`,"X-Goog-Upload-Header-Content-Type":_e.contentType,"Content-Type":"application/json; charset=utf-8"},it=toResourceString(_e,i),st=s.maxUploadRetryTime;function ut(rt){checkResumeHeader_(rt);let dt;try{dt=rt.getResponseHeader("X-Goog-Upload-URL")}catch{handlerCheck(!1)}return handlerCheck(isString(dt)),dt}const lt=new RequestInfo(tt,nt,ut,st);return lt.urlParams=et,lt.headers=ot,lt.body=it,lt.errorHandler=sharedErrorHandler(o),lt}function getResumableUploadStatus(s,o,i,a){const $={"X-Goog-Upload-Command":"query"};function j(nt){const ot=checkResumeHeader_(nt,["active","final"]);let it=null;try{it=nt.getResponseHeader("X-Goog-Upload-Size-Received")}catch{handlerCheck(!1)}it||handlerCheck(!1);const st=Number(it);return handlerCheck(!isNaN(st)),new ResumableUploadStatus(st,a.size(),ot==="final")}const _e="POST",et=s.maxUploadRetryTime,tt=new RequestInfo(i,_e,j,et);return tt.headers=$,tt.errorHandler=sharedErrorHandler(o),tt}const RESUMABLE_UPLOAD_CHUNK_SIZE=256*1024;function continueResumableUpload(s,o,i,a,$,j,_e,et){const tt=new ResumableUploadStatus(0,0);if(_e?(tt.current=_e.current,tt.total=_e.total):(tt.current=0,tt.total=a.size()),a.size()!==tt.total)throw serverFileWrongSize();const nt=tt.total-tt.current;let ot=nt;$>0&&(ot=Math.min(ot,$));const it=tt.current,st=it+ot;let ut="";ot===0?ut="finalize":nt===ot?ut="upload, finalize":ut="upload";const lt={"X-Goog-Upload-Command":ut,"X-Goog-Upload-Offset":`${tt.current}`},rt=a.slice(it,st);if(rt===null)throw cannotSliceBlob();function dt(ht,xt){const gt=checkResumeHeader_(ht,["active","final"]),vt=tt.current+ot,ft=a.size();let yt;return gt==="final"?yt=metadataHandler(o,j)(ht,xt):yt=null,new ResumableUploadStatus(vt,ft,gt==="final",yt)}const ct="POST",pt=o.maxUploadRetryTime,at=new RequestInfo(i,ct,dt,pt);return at.headers=lt,at.body=rt.uploadData(),at.progressCallback=et||null,at.errorHandler=sharedErrorHandler(s),at}const TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function taskStateFromInternalTaskState(s){switch(s){case"running":case"pausing":case"canceling":return TaskState.RUNNING;case"paused":return TaskState.PAUSED;case"success":return TaskState.SUCCESS;case"canceled":return TaskState.CANCELED;case"error":return TaskState.ERROR;default:return TaskState.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Observer{constructor(o,i,a){if(isFunction(o)||i!=null||a!=null)this.next=o,this.error=i??void 0,this.complete=a??void 0;else{const j=o;this.next=j.next,this.error=j.error,this.complete=j.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function async(s){return(...o)=>{Promise.resolve().then(()=>s(...o))}}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(o=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,o()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,o()}),this.xhr_.addEventListener("load",()=>{o()})})}send(o,i,a,$){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,o,!0),$!==void 0)for(const j in $)$.hasOwnProperty(j)&&this.xhr_.setRequestHeader(j,$[j].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(o){return this.xhr_.getResponseHeader(o)}addUploadProgressListener(o){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",o)}removeUploadProgressListener(o){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",o)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UploadTask{constructor(o,i,a=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=o,this._blob=i,this._metadata=a,this._mappings=getMappings(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=$=>{if(this._request=void 0,this._chunkMultiplier=1,$._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const j=this.isExponentialBackoffExpired();if(isRetryStatusCode($.status,[]))if(j)$=retryLimitExceeded();else{this.sleepTime=Math.max(this.sleepTime*2,DEFAULT_MIN_SLEEP_TIME_MILLIS),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=$,this._transition("error")}},this._metadataErrorHandler=$=>{this._request=void 0,$._codeEquals("canceled")?this.completeTransitions_():(this._error=$,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(($,j)=>{this._resolve=$,this._reject=j,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const o=this._transferred;return i=>this._updateProgress(o+i)}_shouldDoResumable(o){return o.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(o){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,a])=>{switch(this._state){case"running":o(i,a);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((o,i)=>{const a=createResumableUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$=this._ref.storage._makeRequest(a,newTextConnection,o,i);this._request=$,$.getPromise().then(j=>{this._request=void 0,this._uploadUrl=j,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const o=this._uploadUrl;this._resolveToken((i,a)=>{const $=getResumableUploadStatus(this._ref.storage,this._ref._location,o,this._blob),j=this._ref.storage._makeRequest($,newTextConnection,i,a);this._request=j,j.getPromise().then(_e=>{_e=_e,this._request=void 0,this._updateProgress(_e.current),this._needToFetchStatus=!1,_e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const o=RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier,i=new ResumableUploadStatus(this._transferred,this._blob.size()),a=this._uploadUrl;this._resolveToken(($,j)=>{let _e;try{_e=continueResumableUpload(this._ref._location,this._ref.storage,a,this._blob,o,this._mappings,i,this._makeProgressCallback())}catch(tt){this._error=tt,this._transition("error");return}const et=this._ref.storage._makeRequest(_e,newTextConnection,$,j,!1);this._request=et,et.getPromise().then(tt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(tt.current),tt.finalized?(this._metadata=tt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){RESUMABLE_UPLOAD_CHUNK_SIZE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((o,i)=>{const a=getMetadata$2(this._ref.storage,this._ref._location,this._mappings),$=this._ref.storage._makeRequest(a,newTextConnection,o,i);this._request=$,$.getPromise().then(j=>{this._request=void 0,this._metadata=j,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((o,i)=>{const a=multipartUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$=this._ref.storage._makeRequest(a,newTextConnection,o,i);this._request=$,$.getPromise().then(j=>{this._request=void 0,this._metadata=j,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(o){const i=this._transferred;this._transferred=o,this._transferred!==i&&this._notifyObservers()}_transition(o){if(this._state!==o)switch(o){case"canceling":case"pausing":this._state=o,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const i=this._state==="paused";this._state=o,i&&(this._notifyObservers(),this._start());break;case"paused":this._state=o,this._notifyObservers();break;case"canceled":this._error=canceled(),this._state=o,this._notifyObservers();break;case"error":this._state=o,this._notifyObservers();break;case"success":this._state=o,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const o=taskStateFromInternalTaskState(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:o,metadata:this._metadata,task:this,ref:this._ref}}on(o,i,a,$){const j=new Observer(i||void 0,a||void 0,$||void 0);return this._addObserver(j),()=>{this._removeObserver(j)}}then(o,i){return this._promise.then(o,i)}catch(o){return this.then(null,o)}_addObserver(o){this._observers.push(o),this._notifyObserver(o)}_removeObserver(o){const i=this._observers.indexOf(o);i!==-1&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(this._resolve!==void 0){let o=!0;switch(taskStateFromInternalTaskState(this._state)){case TaskState.SUCCESS:async(this._resolve.bind(null,this.snapshot))();break;case TaskState.CANCELED:case TaskState.ERROR:const i=this._reject;async(i.bind(null,this._error))();break;default:o=!1;break}o&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(o){switch(taskStateFromInternalTaskState(this._state)){case TaskState.RUNNING:case TaskState.PAUSED:o.next&&async(o.next.bind(o,this.snapshot))();break;case TaskState.SUCCESS:o.complete&&async(o.complete.bind(o))();break;case TaskState.CANCELED:case TaskState.ERROR:o.error&&async(o.error.bind(o,this._error))();break;default:o.error&&async(o.error.bind(o,this._error))()}}resume(){const o=this._state==="paused"||this._state==="pausing";return o&&this._transition("running"),o}pause(){const o=this._state==="running";return o&&this._transition("pausing"),o}cancel(){const o=this._state==="running"||this._state==="pausing";return o&&this._transition("canceling"),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(o,i){this._service=o,i instanceof Location?this._location=i:this._location=Location.makeFromUrl(i,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,i){return new Reference(o,i)}get root(){const o=new Location(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const o=parent(this._location.path);if(o===null)return null;const i=new Location(this._location.bucket,o);return new Reference(this._service,i)}_throwIfRoot(o){if(this._location.path==="")throw invalidRootOperation(o)}}function uploadBytes$1(s,o,i){s._throwIfRoot("uploadBytes");const a=multipartUpload(s.storage,s._location,getMappings(),new FbsBlob(o,!0),i);return s.storage.makeRequestWithTokens(a,newTextConnection).then($=>({metadata:$,ref:s}))}function uploadBytesResumable$1(s,o,i){return s._throwIfRoot("uploadBytesResumable"),new UploadTask(s,new FbsBlob(o),i)}function getDownloadURL$1(s){s._throwIfRoot("getDownloadURL");const o=getDownloadUrl(s.storage,s._location,getMappings());return s.storage.makeRequestWithTokens(o,newTextConnection).then(i=>{if(i===null)throw noDownloadURL();return i})}function deleteObject$1(s){s._throwIfRoot("deleteObject");const o=deleteObject$2(s.storage,s._location);return s.storage.makeRequestWithTokens(o,newTextConnection)}function _getChild$1(s,o){const i=child(s._location.path,o),a=new Location(s._location.bucket,i);return new Reference(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(s){return/^[A-Za-z]+:\/\//.test(s)}function refFromURL(s,o){return new Reference(s,o)}function refFromPath(s,o){if(s instanceof FirebaseStorageImpl){const i=s;if(i._bucket==null)throw noDefaultBucket();const a=new Reference(i,i._bucket);return o!=null?refFromPath(a,o):a}else return o!==void 0?_getChild$1(s,o):s}function ref$1(s,o){if(o&&isUrl(o)){if(s instanceof FirebaseStorageImpl)return refFromURL(s,o);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(s,o)}function extractBucket(s,o){const i=o==null?void 0:o[CONFIG_STORAGE_BUCKET_KEY];return i==null?null:Location.makeFromBucketSpec(i,s)}function connectStorageEmulator$1(s,o,i,a={}){s.host=`${o}:${i}`,s._protocol="http";const{mockUserToken:$}=a;$&&(s._overrideAuthToken=typeof $=="string"?$:createMockUserToken($,s.app.options.projectId))}class FirebaseStorageImpl{constructor(o,i,a,$,j){this.app=o,this._authProvider=i,this._appCheckProvider=a,this._url=$,this._firebaseVersion=j,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,$!=null?this._bucket=Location.makeFromBucketSpec($,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,o):this._bucket=extractBucket(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){validateNumber("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){validateNumber("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const o=this._authProvider.getImmediate({optional:!0});if(o){const i=await o.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const o=this._appCheckProvider.getImmediate({optional:!0});return o?(await o.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new Reference(this,o)}_makeRequest(o,i,a,$,j=!0){if(this._deleted)return new FailRequest(appDeleted());{const _e=makeRequest(o,this._appId,a,$,i,this._firebaseVersion,j);return this._requests.add(_e),_e.getPromise().then(()=>this._requests.delete(_e),()=>this._requests.delete(_e)),_e}}async makeRequestWithTokens(o,i){const[a,$]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(o,i,a,$).getPromise()}}const name="@firebase/storage",version="0.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(s,o,i){return s=getModularInstance(s),uploadBytes$1(s,o,i)}function uploadBytesResumable(s,o,i){return s=getModularInstance(s),uploadBytesResumable$1(s,o,i)}function getDownloadURL(s){return s=getModularInstance(s),getDownloadURL$1(s)}function deleteObject(s){return s=getModularInstance(s),deleteObject$1(s)}function ref(s,o){return s=getModularInstance(s),ref$1(s,o)}function getStorage(s=getApp(),o){s=getModularInstance(s);const a=_getProvider(s,STORAGE_TYPE).getImmediate({identifier:o}),$=getDefaultEmulatorHostnameAndPort("storage");return $&&connectStorageEmulator(a,...$),a}function connectStorageEmulator(s,o,i,a={}){connectStorageEmulator$1(s,o,i,a)}function factory(s,{instanceIdentifier:o}){const i=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),$=s.getProvider("app-check-internal");return new FirebaseStorageImpl(i,a,$,o,SDK_VERSION$1)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const options=["Mostrar PDF","Editar Dades","Eliminar"],TransportationOptions=({transport:s})=>{const o=useNavigate(),[i,a]=reactExports.useState(0),$=getDatabase(app),j=getStorage(app),_e=48,[et,tt]=reactExports.useState(null),nt=Boolean(et),ot=lt=>{tt(lt.currentTarget)},it=(lt,rt)=>{switch(rt){case 0:window.open(s.pdfUrl,"_blank");break;case 1:o("/transport/edittransport/",{state:{transport:s}});break;case 2:ut();break}a(rt),tt(null)},st=()=>{tt(null)};function ut(){const lt=ref$2($,"/transport/"+s.id),rt=s.pdfUrl;if(rt!=="")try{let dt=ref(j,rt);deleteObject(dt).then(()=>{console.log("deleted pdf")})}catch(dt){console.log("error deleting: "+dt)}remove(lt)}return jsxs("div",{className:"moreOptions",children:[jsx(IconButton$1,{"aria-label":"more",id:"long-button","aria-controls":nt?"long-menu":void 0,"aria-expanded":nt?"true":void 0,"aria-haspopup":"true",onClick:ot,children:jsx(default_1,{})}),jsx(Menu$1,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:et,open:nt,onClose:st,PaperProps:{style:{maxHeight:_e*4.5,width:"20ch"}},children:options.map((lt,rt)=>jsx(MenuItem$1,{selected:rt===i,onClick:dt=>it(dt,rt),children:lt},lt))})]})},Transport$1="",Transport=()=>{const s=useNavigate(),o=getDatabase(app),i=ref$2(o,"/transport/"),[a,$]=reactExports.useState([]),[j,_e]=reactExports.useState(!1);reactExports.useEffect(()=>{onValue(i,tt=>{const nt=tt.val();let ot=[];for(const it in nt)if(nt.hasOwnProperty(it)){let st={id:nt[it].id,albaraNum:nt[it].albaraNum,address:nt[it].address,clientNum:nt[it].clientNum,date:nt[it].date,firstTel:nt[it].firstTel,secondTel:nt[it].secondTel,observations:nt[it].observations,pdfUrl:nt[it].pdfUrl,status:nt[it].status,time:nt[it].time,transId:nt[it].transId,transName:nt[it].transName};(j&&st.status==="pendiente"||!j&&st.status==="finalizada")&&ot.push(st)}$(ot)})},[j]);const et=()=>{_e(!j)};return jsxs("div",{className:"container",style:{textAlign:"center"},children:[jsx(Navbar,{}),jsx("div",{children:jsx("h1",{style:{textAlign:"center"},children:"Transports"})}),jsx("h3",{children:"Lista commandes"}),jsxs(Stack$1,{spacing:2,direction:"column",children:[jsx(Button$1,{onClick:()=>s("/addtransportorder"),variant:"contained",children:"Afegir comanda"}),jsx(Button$1,{onClick:()=>s("/transporters"),variant:"contained",children:"Configuraci Transports"}),jsxs("div",{className:"display-flex flex-direction-row",children:[jsx(FormControlLabel$1,{label:"Pendents",control:jsx(Checkbox$1,{checked:j,onChange:et})}),jsx(FormControlLabel$1,{label:"Finalitzats",control:jsx(Checkbox$1,{checked:!j,onChange:et})})]})]}),jsx("div",{className:"listView",children:a.length>0?a.map(tt=>jsxs("div",{className:"transportCard",children:[jsxs("h3",{children:[tt.albaraNum," ",tt.transName]}),jsx("p",{children:tt.address}),jsx("p",{children:jsx("b",{children:tt.status})}),jsx(TransportationOptions,{transport:tt})]},tt.id)):jsx("p",{children:"No hi ha comandes"})})]})},Transporters$1="",Transporters=()=>{const s=useNavigate(),o=getDatabase(app),i=ref$2(o,"/transporters/"),a=ref$2(o,"/mails/destination"),[$,j]=reactExports.useState([]),[_e,et]=reactExports.useState(""),[tt,nt]=reactExports.useState("");reactExports.useEffect(()=>{onValue(i,lt=>{const rt=lt.val();let dt=[];for(const ct in rt)if(rt.hasOwnProperty(ct)){let pt={id:rt[ct].id,name:rt[ct].name};dt.push(pt)}j(dt)})},[$]),reactExports.useEffect(()=>{onValue(a,lt=>{const rt=lt.val();nt(rt.mail)})},[tt]);function ot(){const lt=ref$2(o,"/mails/destination");set(lt,{mail:tt})}function it(){const lt=document.querySelectorAll(".textField");if(document.getElementById("addButton"),lt)for(let rt=0;rt<lt.length;rt++)lt[rt].style.visibility==="collapse"?(lt[rt].style.visibility="visible",lt[rt].style.height="auto"):(lt[rt].style.visibility="collapse",lt[rt].style.height="0px")}function st(){it();const lt=ref$2(o,"/transporters/"),rt=push(lt),dt=rt.key;set(rt,{id:dt,name:_e});let ct=document.querySelector(".alert");ct&&(ct.style.visibility="visible",setTimeout(()=>{ct.style.visibility="hidden"},3e3))}function ut(lt){const rt=ref$2(o,"/transporters/"+lt);remove(rt)}return jsxs("div",{className:"container",style:{textAlign:"center"},children:[jsx(Navbar,{}),jsx(Alert$1,{className:"alert",severity:"success",children:"xit"}),jsx("div",{children:jsx("h1",{style:{textAlign:"center"},children:"Transports"})}),jsx("h3",{children:"Llista transportistes"}),jsxs(Stack$1,{spacing:2,direction:"column",children:[jsx(Button$1,{id:"addButton",onClick:()=>it(),variant:"contained",children:"Afegir transportista"}),jsxs("div",{className:"d-flex",children:[jsx("input",{className:"m-1",type:"text",id:"location",value:tt,placeholder:"Dest on enviar factures",onChange:lt=>nt(lt.target.value)}),jsx(Button$1,{className:"m-1",id:"addButton",onClick:()=>ot(),variant:"contained",children:"Canviar Mail"})]}),jsx(Button$1,{onClick:()=>s("/transport"),variant:"contained",children:"Tornar"}),jsx(TextField$1,{className:"textField",style:{margin:"10px"},id:"outlined-multiline-static",label:"Nom trans.",rows:4,value:_e,variant:"outlined",onChange:lt=>et(lt.target.value)}),jsx(Button$1,{className:"textField",onClick:()=>st(),variant:"contained",children:"Afegir nou"})]}),jsx("div",{className:"listView",children:$.map(lt=>jsxs("div",{className:"transportCard",children:[jsx("p",{children:lt.name}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>ut(lt.id),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]},lt.id))})]})};function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdfExports={},pdf$1={get exports(){return pdfExports},set exports(s){pdfExports=s}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(o,i){module.exports=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VerbosityLevel=o.Util=o.UnknownErrorException=o.UnexpectedResponseException=o.UNSUPPORTED_FEATURES=o.TextRenderingMode=o.StreamType=o.RenderingIntentFlag=o.PermissionFlag=o.PasswordResponses=o.PasswordException=o.PageActionEventType=o.OPS=o.MissingPDFException=o.LINE_FACTOR=o.LINE_DESCENT_FACTOR=o.InvalidPDFException=o.ImageKind=o.IDENTITY_MATRIX=o.FormatError=o.FontType=o.FeatureTest=o.FONT_IDENTITY_MATRIX=o.DocumentActionEventType=o.CMapCompressionType=o.BaseException=o.AnnotationType=o.AnnotationStateModelType=o.AnnotationReviewState=o.AnnotationReplyType=o.AnnotationMode=o.AnnotationMarkedState=o.AnnotationFlag=o.AnnotationFieldFlag=o.AnnotationEditorType=o.AnnotationEditorPrefix=o.AnnotationEditorParamsType=o.AnnotationBorderStyleType=o.AnnotationActionEventType=o.AbortException=void 0,o.arrayByteLength=Zt,o.arraysToBytes=rn,o.assert=Et,o.bytesToString=Ht,o.createPromiseCapability=dn,o.createValidAbsoluteUrl=Ot,o.escapeString=tn,o.getModificationDate=on,o.getVerbosityLevel=Nt,o.info=Lt,o.isArrayBuffer=wn,o.isArrayEqual=An,o.isAscii=bn,o.objectFromMap=Xt,o.objectSize=nn,o.setVerbosityLevel=Pt,o.shadow=Ut,o.string32=qt,o.stringToBytes=Kt,o.stringToPDFString=an,o.stringToUTF16BEString=En,o.stringToUTF8String=pn,o.unreachable=Mt,o.utf8StringToString=vn,o.warn=zt,i(2);const a=[1,0,0,1,0,0];o.IDENTITY_MATRIX=a;const $=[.001,0,0,.001,0,0];o.FONT_IDENTITY_MATRIX=$;const j=1.35;o.LINE_FACTOR=j;const _e=.35;o.LINE_DESCENT_FACTOR=_e;const et={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};o.RenderingIntentFlag=et;const tt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};o.AnnotationMode=tt;const nt="pdfjs_internal_editor_";o.AnnotationEditorPrefix=nt;const ot={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};o.AnnotationEditorType=ot;const it={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};o.AnnotationEditorParamsType=it;const st={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};o.PermissionFlag=st;const ut={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};o.TextRenderingMode=ut;const lt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};o.ImageKind=lt;const rt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};o.AnnotationType=rt;const dt={MARKED:"Marked",REVIEW:"Review"};o.AnnotationStateModelType=dt;const ct={MARKED:"Marked",UNMARKED:"Unmarked"};o.AnnotationMarkedState=ct;const pt={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};o.AnnotationReviewState=pt;const at={GROUP:"Group",REPLY:"R"};o.AnnotationReplyType=at;const ht={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};o.AnnotationFlag=ht;const xt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};o.AnnotationFieldFlag=xt;const gt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};o.AnnotationBorderStyleType=gt;const vt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};o.AnnotationActionEventType=vt;const ft={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};o.DocumentActionEventType=ft;const yt={O:"PageOpen",C:"PageClose"};o.PageActionEventType=yt;const mt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};o.StreamType=mt;const St={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};o.FontType=St;const At={ERRORS:0,WARNINGS:1,INFOS:5};o.VerbosityLevel=At;const Ft={NONE:0,BINARY:1,STREAM:2};o.CMapCompressionType=Ft;const Tt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};o.OPS=Tt;const Dt={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};o.UNSUPPORTED_FEATURES=Dt;const It={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};o.PasswordResponses=It;let Rt=At.WARNINGS;function Pt(en){Number.isInteger(en)&&(Rt=en)}function Nt(){return Rt}function Lt(en){Rt>=At.INFOS&&console.log(`Info: ${en}`)}function zt(en){Rt>=At.WARNINGS&&console.log(`Warning: ${en}`)}function Mt(en){throw new Error(en)}function Et(en,Qt){en||Mt(Qt)}function Ct(en){if(!en)return!1;switch(en.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ot(en,Qt=null,Jt=null){if(!en)return null;try{if(Jt&&typeof en=="string"){if(Jt.addDefaultProtocol&&en.startsWith("www.")){const mn=en.match(/\./g);mn&&mn.length>=2&&(en=`http://${en}`)}if(Jt.tryConvertEncoding)try{en=pn(en)}catch{}}const fn=Qt?new URL(en,Qt):new URL(en);if(Ct(fn))return fn}catch{}return null}function Ut(en,Qt,Jt){return Object.defineProperty(en,Qt,{value:Jt,enumerable:!0,configurable:!0,writable:!1}),Jt}const $t=function(){function Qt(Jt,fn){this.constructor===Qt&&Mt("Cannot initialize BaseException."),this.message=Jt,this.name=fn}return Qt.prototype=new Error,Qt.constructor=Qt,Qt}();o.BaseException=$t;class Bt extends $t{constructor(Qt,Jt){super(Qt,"PasswordException"),this.code=Jt}}o.PasswordException=Bt;class Wt extends $t{constructor(Qt,Jt){super(Qt,"UnknownErrorException"),this.details=Jt}}o.UnknownErrorException=Wt;class Gt extends $t{constructor(Qt){super(Qt,"InvalidPDFException")}}o.InvalidPDFException=Gt;class bt extends $t{constructor(Qt){super(Qt,"MissingPDFException")}}o.MissingPDFException=bt;class wt extends $t{constructor(Qt,Jt){super(Qt,"UnexpectedResponseException"),this.status=Jt}}o.UnexpectedResponseException=wt;class kt extends $t{constructor(Qt){super(Qt,"FormatError")}}o.FormatError=kt;class jt extends $t{constructor(Qt){super(Qt,"AbortException")}}o.AbortException=jt;function Ht(en){(typeof en!="object"||en===null||en.length===void 0)&&Mt("Invalid argument for bytesToString");const Qt=en.length,Jt=8192;if(Qt<Jt)return String.fromCharCode.apply(null,en);const fn=[];for(let mn=0;mn<Qt;mn+=Jt){const Sn=Math.min(mn+Jt,Qt),kn=en.subarray(mn,Sn);fn.push(String.fromCharCode.apply(null,kn))}return fn.join("")}function Kt(en){typeof en!="string"&&Mt("Invalid argument for stringToBytes");const Qt=en.length,Jt=new Uint8Array(Qt);for(let fn=0;fn<Qt;++fn)Jt[fn]=en.charCodeAt(fn)&255;return Jt}function Zt(en){if(en.length!==void 0)return en.length;if(en.byteLength!==void 0)return en.byteLength;Mt("Invalid argument for arrayByteLength")}function rn(en){const Qt=en.length;if(Qt===1&&en[0]instanceof Uint8Array)return en[0];let Jt=0;for(let Sn=0;Sn<Qt;Sn++)Jt+=Zt(en[Sn]);let fn=0;const mn=new Uint8Array(Jt);for(let Sn=0;Sn<Qt;Sn++){let kn=en[Sn];kn instanceof Uint8Array||(typeof kn=="string"?kn=Kt(kn):kn=new Uint8Array(kn));const Mn=kn.byteLength;mn.set(kn,fn),fn+=Mn}return mn}function qt(en){return String.fromCharCode(en>>24&255,en>>16&255,en>>8&255,en&255)}function nn(en){return Object.keys(en).length}function Xt(en){const Qt=Object.create(null);for(const[Jt,fn]of en)Qt[Jt]=fn;return Qt}function sn(){const en=new Uint8Array(4);return en[0]=1,new Uint32Array(en.buffer,0,1)[0]===1}function ln(){try{return new Function(""),!0}catch{return!1}}class Vt{static get isLittleEndian(){return Ut(this,"isLittleEndian",sn())}static get isEvalSupported(){return Ut(this,"isEvalSupported",ln())}static get isOffscreenCanvasSupported(){return Ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}o.FeatureTest=Vt;const cn=[...Array(256).keys()].map(en=>en.toString(16).padStart(2,"0"));class xn{static makeHexColor(Qt,Jt,fn){return`#${cn[Qt]}${cn[Jt]}${cn[fn]}`}static scaleMinMax(Qt,Jt){let fn;Qt[0]?(Qt[0]<0&&(fn=Jt[0],Jt[0]=Jt[1],Jt[1]=fn),Jt[0]*=Qt[0],Jt[1]*=Qt[0],Qt[3]<0&&(fn=Jt[2],Jt[2]=Jt[3],Jt[3]=fn),Jt[2]*=Qt[3],Jt[3]*=Qt[3]):(fn=Jt[0],Jt[0]=Jt[2],Jt[2]=fn,fn=Jt[1],Jt[1]=Jt[3],Jt[3]=fn,Qt[1]<0&&(fn=Jt[2],Jt[2]=Jt[3],Jt[3]=fn),Jt[2]*=Qt[1],Jt[3]*=Qt[1],Qt[2]<0&&(fn=Jt[0],Jt[0]=Jt[1],Jt[1]=fn),Jt[0]*=Qt[2],Jt[1]*=Qt[2]),Jt[0]+=Qt[4],Jt[1]+=Qt[4],Jt[2]+=Qt[5],Jt[3]+=Qt[5]}static transform(Qt,Jt){return[Qt[0]*Jt[0]+Qt[2]*Jt[1],Qt[1]*Jt[0]+Qt[3]*Jt[1],Qt[0]*Jt[2]+Qt[2]*Jt[3],Qt[1]*Jt[2]+Qt[3]*Jt[3],Qt[0]*Jt[4]+Qt[2]*Jt[5]+Qt[4],Qt[1]*Jt[4]+Qt[3]*Jt[5]+Qt[5]]}static applyTransform(Qt,Jt){const fn=Qt[0]*Jt[0]+Qt[1]*Jt[2]+Jt[4],mn=Qt[0]*Jt[1]+Qt[1]*Jt[3]+Jt[5];return[fn,mn]}static applyInverseTransform(Qt,Jt){const fn=Jt[0]*Jt[3]-Jt[1]*Jt[2],mn=(Qt[0]*Jt[3]-Qt[1]*Jt[2]+Jt[2]*Jt[5]-Jt[4]*Jt[3])/fn,Sn=(-Qt[0]*Jt[1]+Qt[1]*Jt[0]+Jt[4]*Jt[1]-Jt[5]*Jt[0])/fn;return[mn,Sn]}static getAxialAlignedBoundingBox(Qt,Jt){const fn=xn.applyTransform(Qt,Jt),mn=xn.applyTransform(Qt.slice(2,4),Jt),Sn=xn.applyTransform([Qt[0],Qt[3]],Jt),kn=xn.applyTransform([Qt[2],Qt[1]],Jt);return[Math.min(fn[0],mn[0],Sn[0],kn[0]),Math.min(fn[1],mn[1],Sn[1],kn[1]),Math.max(fn[0],mn[0],Sn[0],kn[0]),Math.max(fn[1],mn[1],Sn[1],kn[1])]}static inverseTransform(Qt){const Jt=Qt[0]*Qt[3]-Qt[1]*Qt[2];return[Qt[3]/Jt,-Qt[1]/Jt,-Qt[2]/Jt,Qt[0]/Jt,(Qt[2]*Qt[5]-Qt[4]*Qt[3])/Jt,(Qt[4]*Qt[1]-Qt[5]*Qt[0])/Jt]}static apply3dTransform(Qt,Jt){return[Qt[0]*Jt[0]+Qt[1]*Jt[1]+Qt[2]*Jt[2],Qt[3]*Jt[0]+Qt[4]*Jt[1]+Qt[5]*Jt[2],Qt[6]*Jt[0]+Qt[7]*Jt[1]+Qt[8]*Jt[2]]}static singularValueDecompose2dScale(Qt){const Jt=[Qt[0],Qt[2],Qt[1],Qt[3]],fn=Qt[0]*Jt[0]+Qt[1]*Jt[2],mn=Qt[0]*Jt[1]+Qt[1]*Jt[3],Sn=Qt[2]*Jt[0]+Qt[3]*Jt[2],kn=Qt[2]*Jt[1]+Qt[3]*Jt[3],Mn=(fn+kn)/2,Fn=Math.sqrt((fn+kn)**2-4*(fn*kn-Sn*mn))/2,Nn=Mn+Fn||1,Rn=Mn-Fn||1;return[Math.sqrt(Nn),Math.sqrt(Rn)]}static normalizeRect(Qt){const Jt=Qt.slice(0);return Qt[0]>Qt[2]&&(Jt[0]=Qt[2],Jt[2]=Qt[0]),Qt[1]>Qt[3]&&(Jt[1]=Qt[3],Jt[3]=Qt[1]),Jt}static intersect(Qt,Jt){const fn=Math.max(Math.min(Qt[0],Qt[2]),Math.min(Jt[0],Jt[2])),mn=Math.min(Math.max(Qt[0],Qt[2]),Math.max(Jt[0],Jt[2]));if(fn>mn)return null;const Sn=Math.max(Math.min(Qt[1],Qt[3]),Math.min(Jt[1],Jt[3])),kn=Math.min(Math.max(Qt[1],Qt[3]),Math.max(Jt[1],Jt[3]));return Sn>kn?null:[fn,Sn,mn,kn]}static bezierBoundingBox(Qt,Jt,fn,mn,Sn,kn,Mn,Fn){const Nn=[],Rn=[[],[]];let Ln,jn,Hn,On,Bn,Vn,Kn,gn;for(let Yn=0;Yn<2;++Yn){if(Yn===0?(jn=6*Qt-12*fn+6*Sn,Ln=-3*Qt+9*fn-9*Sn+3*Mn,Hn=3*fn-3*Qt):(jn=6*Jt-12*mn+6*kn,Ln=-3*Jt+9*mn-9*kn+3*Fn,Hn=3*mn-3*Jt),Math.abs(Ln)<1e-12){if(Math.abs(jn)<1e-12)continue;On=-Hn/jn,0<On&&On<1&&Nn.push(On);continue}Kn=jn*jn-4*Hn*Ln,gn=Math.sqrt(Kn),!(Kn<0)&&(Bn=(-jn+gn)/(2*Ln),0<Bn&&Bn<1&&Nn.push(Bn),Vn=(-jn-gn)/(2*Ln),0<Vn&&Vn<1&&Nn.push(Vn))}let Dn=Nn.length,In;const $n=Dn;for(;Dn--;)On=Nn[Dn],In=1-On,Rn[0][Dn]=In*In*In*Qt+3*In*In*On*fn+3*In*On*On*Sn+On*On*On*Mn,Rn[1][Dn]=In*In*In*Jt+3*In*In*On*mn+3*In*On*On*kn+On*On*On*Fn;return Rn[0][$n]=Qt,Rn[1][$n]=Jt,Rn[0][$n+1]=Mn,Rn[1][$n+1]=Fn,Rn[0].length=Rn[1].length=$n+2,[Math.min(...Rn[0]),Math.min(...Rn[1]),Math.max(...Rn[0]),Math.max(...Rn[1])]}}o.Util=xn;const Cn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function an(en){if(en[0]>=""){let Jt;if(en[0]===""&&en[1]===""?Jt="utf-16be":en[0]===""&&en[1]===""?Jt="utf-16le":en[0]===""&&en[1]===""&&en[2]===""&&(Jt="utf-8"),Jt)try{const fn=new TextDecoder(Jt,{fatal:!0}),mn=Kt(en);return fn.decode(mn)}catch(fn){zt(`stringToPDFString: "${fn}".`)}}const Qt=[];for(let Jt=0,fn=en.length;Jt<fn;Jt++){const mn=Cn[en.charCodeAt(Jt)];Qt.push(mn?String.fromCharCode(mn):en.charAt(Jt))}return Qt.join("")}function tn(en){return en.replace(/([()\\\n\r])/g,Qt=>Qt===`
`?"\\n":Qt==="\r"?"\\r":`\\${Qt}`)}function bn(en){return/^[\x00-\x7F]*$/.test(en)}function En(en){const Qt=[""];for(let Jt=0,fn=en.length;Jt<fn;Jt++){const mn=en.charCodeAt(Jt);Qt.push(String.fromCharCode(mn>>8&255),String.fromCharCode(mn&255))}return Qt.join("")}function pn(en){return decodeURIComponent(escape(en))}function vn(en){return unescape(encodeURIComponent(en))}function wn(en){return typeof en=="object"&&en!==null&&en.byteLength!==void 0}function An(en,Qt){if(en.length!==Qt.length)return!1;for(let Jt=0,fn=en.length;Jt<fn;Jt++)if(en[Jt]!==Qt[Jt])return!1;return!0}function on(en=new Date){return[en.getUTCFullYear().toString(),(en.getUTCMonth()+1).toString().padStart(2,"0"),en.getUTCDate().toString().padStart(2,"0"),en.getUTCHours().toString().padStart(2,"0"),en.getUTCMinutes().toString().padStart(2,"0"),en.getUTCSeconds().toString().padStart(2,"0")].join("")}function dn(){const en=Object.create(null);let Qt=!1;return Object.defineProperty(en,"settled",{get(){return Qt}}),en.promise=new Promise(function(Jt,fn){en.resolve=function(mn){Qt=!0,Jt(mn)},en.reject=function(mn){Qt=!0,fn(mn)}}),en}},(s,o,i)=>{i(3)},(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isNodeJS=void 0;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");o.isNodeJS=i},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var s,i,a,$,j,_e,et,tt,nt,fr,it,st;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:lt,NodeCMapReaderFactory:rt,NodeStandardFontDataFactory:dt}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=lt,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=rt,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=dt}let createPDFNetworkStream;function setPDFNetworkStreamFactory(lt){createPDFNetworkStream=lt}function getDocument(lt){const rt=new PDFDocumentLoadingTask;let dt;if(typeof lt=="string"||lt instanceof URL)dt={url:lt};else if((0,_util.isArrayBuffer)(lt))dt={data:lt};else if(lt instanceof PDFDataRangeTransport)dt={range:lt};else{if(typeof lt!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!lt.url&&!lt.data&&!lt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");dt=lt}const ct=Object.create(null);let pt=null,at=null;for(const xt in dt){const gt=dt[xt];switch(xt){case"url":if(typeof window<"u")try{ct[xt]=new URL(gt,window.location).href;continue}catch(vt){(0,_util.warn)(`Cannot create valid URL: "${vt}".`)}else if(typeof gt=="string"||gt instanceof URL){ct[xt]=gt.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":pt=gt;continue;case"worker":at=gt;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&gt instanceof Buffer)ct[xt]=new Uint8Array(gt);else{if(gt instanceof Uint8Array)break;if(typeof gt=="string")ct[xt]=(0,_util.stringToBytes)(gt);else if(typeof gt=="object"&&gt!==null&&!isNaN(gt.length))ct[xt]=new Uint8Array(gt);else if((0,_util.isArrayBuffer)(gt))ct[xt]=new Uint8Array(gt);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}ct[xt]=gt}if(ct.CMapReaderFactory=ct.CMapReaderFactory||DefaultCMapReaderFactory,ct.StandardFontDataFactory=ct.StandardFontDataFactory||DefaultStandardFontDataFactory,ct.ignoreErrors=ct.stopAtErrors!==!0,ct.fontExtraProperties=ct.fontExtraProperties===!0,ct.pdfBug=ct.pdfBug===!0,ct.enableXfa=ct.enableXfa===!0,(!Number.isInteger(ct.rangeChunkSize)||ct.rangeChunkSize<1)&&(ct.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof ct.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(ct.docBaseUrl))&&(ct.docBaseUrl=null),(!Number.isInteger(ct.maxImageSize)||ct.maxImageSize<-1)&&(ct.maxImageSize=-1),typeof ct.cMapUrl!="string"&&(ct.cMapUrl=null),typeof ct.standardFontDataUrl!="string"&&(ct.standardFontDataUrl=null),typeof ct.useWorkerFetch!="boolean"&&(ct.useWorkerFetch=ct.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&ct.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof ct.isEvalSupported!="boolean"&&(ct.isEvalSupported=!0),typeof ct.disableFontFace!="boolean"&&(ct.disableFontFace=_is_node.isNodeJS),typeof ct.useSystemFonts!="boolean"&&(ct.useSystemFonts=!_is_node.isNodeJS&&!ct.disableFontFace),(typeof ct.ownerDocument!="object"||ct.ownerDocument===null)&&(ct.ownerDocument=globalThis.document),typeof ct.disableRange!="boolean"&&(ct.disableRange=!1),typeof ct.disableStream!="boolean"&&(ct.disableStream=!1),typeof ct.disableAutoFetch!="boolean"&&(ct.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(ct.verbosity),!at){const xt={verbosity:ct.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};at=xt.port?PDFWorker.fromPort(xt):new PDFWorker(xt),rt._worker=at}const ht=rt.docId;return at.promise.then(function(){if(rt.destroyed)throw new Error("Loading aborted");const xt=_fetchDocument(at,ct,pt,ht),gt=new Promise(function(vt){let ft;pt?ft=new _transport_stream.PDFDataTransportStream({length:ct.length,initialData:ct.initialData,progressiveDone:ct.progressiveDone,contentDispositionFilename:ct.contentDispositionFilename,disableRange:ct.disableRange,disableStream:ct.disableStream},pt):ct.data||(ft=createPDFNetworkStream({url:ct.url,length:ct.length,httpHeaders:ct.httpHeaders,withCredentials:ct.withCredentials,rangeChunkSize:ct.rangeChunkSize,disableRange:ct.disableRange,disableStream:ct.disableStream})),vt(ft)});return Promise.all([xt,gt]).then(function([vt,ft]){if(rt.destroyed)throw new Error("Loading aborted");const yt=new _message_handler.MessageHandler(ht,vt,at.port),mt=new WorkerTransport(yt,rt,ft,ct);rt._transport=mt,yt.send("Ready",null)})}).catch(rt._capability.reject),rt}async function _fetchDocument(lt,rt,dt,ct){if(lt.destroyed)throw new Error("Worker was destroyed");dt&&(rt.length=dt.length,rt.initialData=dt.initialData,rt.progressiveDone=dt.progressiveDone,rt.contentDispositionFilename=dt.contentDispositionFilename);const pt=await lt.messageHandler.sendWithPromise("GetDocRequest",{docId:ct,apiVersion:"2.16.105",source:{data:rt.data,url:rt.url,password:rt.password,disableAutoFetch:rt.disableAutoFetch,rangeChunkSize:rt.rangeChunkSize,length:rt.length},maxImageSize:rt.maxImageSize,disableFontFace:rt.disableFontFace,docBaseUrl:rt.docBaseUrl,ignoreErrors:rt.ignoreErrors,isEvalSupported:rt.isEvalSupported,fontExtraProperties:rt.fontExtraProperties,enableXfa:rt.enableXfa,useSystemFonts:rt.useSystemFonts,cMapUrl:rt.useWorkerFetch?rt.cMapUrl:null,standardFontDataUrl:rt.useWorkerFetch?rt.standardFontDataUrl:null});if(rt.data&&(rt.data=null),lt.destroyed)throw new Error("Worker was destroyed");return pt}const o=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${pr(o,s)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var rt;this.destroyed=!0,await((rt=this._transport)==null?void 0:rt.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=o;s=new WeakMap,un(PDFDocumentLoadingTask,s,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(rt,dt,ct=!1,pt=null){this.length=rt,this.initialData=dt,this.progressiveDone=ct,this.contentDispositionFilename=pt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(rt){this._rangeListeners.push(rt)}addProgressListener(rt){this._progressListeners.push(rt)}addProgressiveReadListener(rt){this._progressiveReadListeners.push(rt)}addProgressiveDoneListener(rt){this._progressiveDoneListeners.push(rt)}onDataRange(rt,dt){for(const ct of this._rangeListeners)ct(rt,dt)}onDataProgress(rt,dt){this._readyCapability.promise.then(()=>{for(const ct of this._progressListeners)ct(rt,dt)})}onDataProgressiveRead(rt){this._readyCapability.promise.then(()=>{for(const dt of this._progressiveReadListeners)dt(rt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const rt of this._progressiveDoneListeners)rt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(rt,dt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(rt,dt){this._pdfInfo=rt,this._transport=dt,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(rt){return this._transport.getPage(rt)}getPageIndex(rt){return this._transport.getPageIndex(rt)}getDestinations(){return this._transport.getDestinations()}getDestination(rt){return this._transport.getDestination(rt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(rt=!1){return this._transport.startCleanup(rt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(rt,dt,ct,pt,at=!1){this._pageIndex=rt,this._pageInfo=dt,this._ownerDocument=pt,this._transport=ct,this._stats=at?new _display_utils.StatTimer:null,this._pdfBug=at,this.commonObjs=ct.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:rt,rotation:dt=this.rotate,offsetX:ct=0,offsetY:pt=0,dontFlip:at=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:rt,rotation:dt,offsetX:ct,offsetY:pt,dontFlip:at})}getAnnotations({intent:rt="display"}={}){const dt=this._transport.getRenderingIntent(rt);let ct=this._annotationPromises.get(dt.cacheKey);return ct||(ct=this._transport.getAnnotations(this._pageIndex,dt.renderingIntent),this._annotationPromises.set(dt.cacheKey,ct),ct=ct.then(pt=>{for(const at of pt)at.titleObj!==void 0&&Object.defineProperty(at,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),at.titleObj.str}}),at.contentsObj!==void 0&&Object.defineProperty(at,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),at.contentsObj.str}});return pt})),ct}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var rt;return((rt=this._transport._htmlForXfa)==null?void 0:rt.children[this._pageIndex])||null}render({canvasContext:rt,viewport:dt,intent:ct="display",annotationMode:pt=_util.AnnotationMode.ENABLE,transform:at=null,imageLayer:ht=null,canvasFactory:xt=null,background:gt=null,optionalContentConfigPromise:vt=null,annotationCanvasMap:ft=null,pageColors:yt=null,printAnnotationStorage:mt=null}){var Pt,Nt;((Pt=arguments[0])==null?void 0:Pt.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&pt===_util.AnnotationMode.ENABLE&&(pt=_util.AnnotationMode.ENABLE_FORMS)),((Nt=arguments[0])==null?void 0:Nt.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&pt===_util.AnnotationMode.ENABLE&&(pt=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const St=this._transport.getRenderingIntent(ct,pt,mt);this.pendingCleanup=!1,vt||(vt=this._transport.getOptionalContentConfig());let At=this._intentStates.get(St.cacheKey);At||(At=Object.create(null),this._intentStates.set(St.cacheKey,At)),At.streamReaderCancelTimeout&&(clearTimeout(At.streamReaderCancelTimeout),At.streamReaderCancelTimeout=null);const Ft=xt||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Tt=!!(St.renderingIntent&_util.RenderingIntentFlag.PRINT);At.displayReadyCapability||(At.displayReadyCapability=(0,_util.createPromiseCapability)(),At.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(St));const Dt=Lt=>{At.renderTasks.delete(It),(this.cleanupAfterRender||Tt)&&(this.pendingCleanup=!0),this._tryCleanup(),Lt?(It.capability.reject(Lt),this._abortOperatorList({intentState:At,reason:Lt instanceof Error?Lt:new Error(Lt)})):It.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},It=new InternalRenderTask({callback:Dt,params:{canvasContext:rt,viewport:dt,transform:at,imageLayer:ht,background:gt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ft,operatorList:At.operatorList,pageIndex:this._pageIndex,canvasFactory:Ft,useRequestAnimationFrame:!Tt,pdfBug:this._pdfBug,pageColors:yt});(At.renderTasks||(At.renderTasks=new Set)).add(It);const Rt=It.task;return Promise.all([At.displayReadyCapability.promise,vt]).then(([Lt,zt])=>{if(this.pendingCleanup){Dt();return}this._stats&&this._stats.time("Rendering"),It.initializeGraphics({transparency:Lt,optionalContentConfig:zt}),It.operatorListChanged()}).catch(Dt),Rt}getOperatorList({intent:rt="display",annotationMode:dt=_util.AnnotationMode.ENABLE,printAnnotationStorage:ct=null}={}){function pt(){ht.operatorList.lastChunk&&(ht.opListReadCapability.resolve(ht.operatorList),ht.renderTasks.delete(xt))}const at=this._transport.getRenderingIntent(rt,dt,ct,!0);let ht=this._intentStates.get(at.cacheKey);ht||(ht=Object.create(null),this._intentStates.set(at.cacheKey,ht));let xt;return ht.opListReadCapability||(xt=Object.create(null),xt.operatorListChanged=pt,ht.opListReadCapability=(0,_util.createPromiseCapability)(),(ht.renderTasks||(ht.renderTasks=new Set)).add(xt),ht.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(at)),ht.opListReadCapability.promise}streamTextContent({disableCombineTextItems:rt=!1,includeMarkedContent:dt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:rt!==!0,includeMarkedContent:dt===!0},{highWaterMark:100,size(pt){return pt.items.length}})}getTextContent(rt={}){if(this._transport._htmlForXfa)return this.getXfa().then(ct=>_xfa_text.XfaText.textContent(ct));const dt=this.streamTextContent(rt);return new Promise(function(ct,pt){function at(){ht.read().then(function({value:gt,done:vt}){if(vt){ct(xt);return}Object.assign(xt.styles,gt.styles),xt.items.push(...gt.items),at()},pt)}const ht=dt.getReader(),xt={items:[],styles:Object.create(null)};at()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const rt=[];for(const dt of this._intentStates.values())if(this._abortOperatorList({intentState:dt,reason:new Error("Page was destroyed."),force:!0}),!dt.opListReadCapability)for(const ct of dt.renderTasks)rt.push(ct.completed),ct.cancel();this.objs.clear();for(const dt of this._bitmaps)dt.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(rt)}cleanup(rt=!1){return this.pendingCleanup=!0,this._tryCleanup(rt)}_tryCleanup(rt=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:dt,operatorList:ct}of this._intentStates.values())if(dt.size>0||!ct.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,rt&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const dt of this._bitmaps)dt.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(rt,dt){const ct=this._intentStates.get(dt);ct&&(this._stats&&this._stats.timeEnd("Page Request"),ct.displayReadyCapability&&ct.displayReadyCapability.resolve(rt))}_renderPageChunk(rt,dt){for(let ct=0,pt=rt.length;ct<pt;ct++)dt.operatorList.fnArray.push(rt.fnArray[ct]),dt.operatorList.argsArray.push(rt.argsArray[ct]);dt.operatorList.lastChunk=rt.lastChunk,dt.operatorList.separateAnnots=rt.separateAnnots;for(const ct of dt.renderTasks)ct.operatorListChanged();rt.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:rt,cacheKey:dt,annotationStorageMap:ct}){const at=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:rt,cacheKey:dt,annotationStorage:ct}).getReader(),ht=this._intentStates.get(dt);ht.streamReader=at;const xt=()=>{at.read().then(({value:gt,done:vt})=>{if(vt){ht.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(gt,ht),xt())},gt=>{if(ht.streamReader=null,!this._transport.destroyed){if(ht.operatorList){ht.operatorList.lastChunk=!0;for(const vt of ht.renderTasks)vt.operatorListChanged();this._tryCleanup()}if(ht.displayReadyCapability)ht.displayReadyCapability.reject(gt);else if(ht.opListReadCapability)ht.opListReadCapability.reject(gt);else throw gt}})};xt()}_abortOperatorList({intentState:rt,reason:dt,force:ct=!1}){if(rt.streamReader){if(!ct){if(rt.renderTasks.size>0)return;if(dt instanceof _display_utils.RenderingCancelledException){rt.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:rt,reason:dt,force:!0}),rt.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(rt.streamReader.cancel(new _util.AbortException(dt.message)).catch(()=>{}),rt.streamReader=null,!this._transport.destroyed){for(const[pt,at]of this._intentStates)if(at===rt){this._intentStates.delete(pt);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(rt,dt){const ct={data:structuredClone(rt,dt)};this._deferred.then(()=>{for(const pt of this._listeners)pt.call(this,ct)})}addEventListener(rt,dt){this._listeners.push(dt)}removeEventListener(rt,dt){const ct=this._listeners.indexOf(dt);this._listeners.splice(ct,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const lt=(i=document==null?void 0:document.currentScript)==null?void 0:i.src;lt&&(PDFWorkerUtil.fallbackWorkerSrc=lt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(lt,rt){let dt;try{if(dt=new URL(lt),!dt.origin||dt.origin==="null")return!1}catch{return!1}const ct=new URL(rt,dt);return dt.origin===ct.origin},PDFWorkerUtil.createCDNWrapper=function(lt){const rt=`importScripts("${lt}");`;return URL.createObjectURL(new Blob([rt]))}}const _PDFWorker=class{constructor({name:lt=null,port:rt=null,verbosity:dt=(0,_util.getVerbosityLevel)()}={}){if(rt&&Yt(_PDFWorker,a).has(rt))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=lt,this.destroyed=!1,this.verbosity=dt,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,rt){Yt(_PDFWorker,a).set(rt,this),this._initializeFromPort(rt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(lt){this._port=lt,this._messageHandler=new _message_handler.MessageHandler("main","worker",lt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:lt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,lt)||(lt=PDFWorkerUtil.createCDNWrapper(new URL(lt,window.location).href));const rt=new Worker(lt),dt=new _message_handler.MessageHandler("main","worker",rt),ct=()=>{rt.removeEventListener("error",pt),dt.destroy(),rt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},pt=()=>{this._webWorker||ct()};rt.addEventListener("error",pt),dt.on("test",ht=>{if(rt.removeEventListener("error",pt),this.destroyed){ct();return}ht?(this._messageHandler=dt,this._port=rt,this._webWorker=rt,this._readyCapability.resolve(),dt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),dt.destroy(),rt.terminate())}),dt.on("ready",ht=>{if(rt.removeEventListener("error",pt),this.destroyed){ct();return}try{at()}catch{this._setupFakeWorker()}});const at=()=>{const ht=new Uint8Array;dt.send("test",ht,[ht.buffer])};at();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(lt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const rt=new LoopbackPort;this._port=rt;const dt=`fake${PDFWorkerUtil.fakeWorkerId++}`,ct=new _message_handler.MessageHandler(dt+"_worker",dt,rt);lt.setup(ct,rt);const pt=new _message_handler.MessageHandler(dt,dt+"_worker",rt);this._messageHandler=pt,this._readyCapability.resolve(),pt.send("configure",{verbosity:this.verbosity})}).catch(lt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${lt.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Yt(_PDFWorker,a).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(lt){if(!(lt!=null&&lt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Yt(this,a).has(lt.port)?Yt(this,a).get(lt.port):new _PDFWorker(lt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var lt;try{return((lt=globalThis.pdfjsWorker)==null?void 0:lt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;a=new WeakMap,un(PDFWorker,a,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(rt,dt,ct,pt){un(this,$,null);un(this,j,new Map);un(this,_e,new Map);un(this,et,null);this.messageHandler=rt,this.loadingTask=dt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:dt.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:pt.ownerDocument,styleElement:pt.styleElement}),this._params=pt,pt.useWorkerFetch||(this.CMapReaderFactory=new pt.CMapReaderFactory({baseUrl:pt.cMapUrl,isCompressed:pt.cMapPacked}),this.StandardFontDataFactory=new pt.StandardFontDataFactory({baseUrl:pt.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=ct,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Yt(this,$)}getRenderingIntent(rt,dt=_util.AnnotationMode.ENABLE,ct=null,pt=!1){let at=_util.RenderingIntentFlag.DISPLAY,ht=null;switch(rt){case"any":at=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":at=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${rt}`)}switch(dt){case _util.AnnotationMode.DISABLE:at+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:at+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:at+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,ht=(at&_util.RenderingIntentFlag.PRINT&&ct instanceof _annotation_storage.PrintAnnotationStorage?ct:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${dt}`)}return pt&&(at+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:at,cacheKey:`${at}_${_annotation_storage.AnnotationStorage.getHash(ht)}`,annotationStorageMap:ht}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const rt=[];for(const ct of Yt(this,j).values())rt.push(ct._destroy());Yt(this,j).clear(),Yt(this,_e).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const dt=this.messageHandler.sendWithPromise("Terminate",null);return rt.push(dt),Promise.all(rt).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_n(this,et,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:rt,loadingTask:dt}=this;rt.on("GetReader",(ct,pt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=at=>{this._lastProgress={loaded:at.loaded,total:at.total}},pt.onPull=()=>{this._fullReader.read().then(function({value:at,done:ht}){if(ht){pt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(at),"GetReader - expected an ArrayBuffer."),pt.enqueue(new Uint8Array(at),1,[at])}).catch(at=>{pt.error(at)})},pt.onCancel=at=>{this._fullReader.cancel(at),pt.ready.catch(ht=>{if(!this.destroyed)throw ht})}}),rt.on("ReaderHeadersReady",ct=>{const pt=(0,_util.createPromiseCapability)(),at=this._fullReader;return at.headersReady.then(()=>{var ht;(!at.isStreamingSupported||!at.isRangeSupported)&&(this._lastProgress&&((ht=dt.onProgress)==null||ht.call(dt,this._lastProgress)),at.onProgress=xt=>{var gt;(gt=dt.onProgress)==null||gt.call(dt,{loaded:xt.loaded,total:xt.total})}),pt.resolve({isStreamingSupported:at.isStreamingSupported,isRangeSupported:at.isRangeSupported,contentLength:at.contentLength})},pt.reject),pt.promise}),rt.on("GetRangeReader",(ct,pt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const at=this._networkStream.getRangeReader(ct.begin,ct.end);if(!at){pt.close();return}pt.onPull=()=>{at.read().then(function({value:ht,done:xt}){if(xt){pt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(ht),"GetRangeReader - expected an ArrayBuffer."),pt.enqueue(new Uint8Array(ht),1,[ht])}).catch(ht=>{pt.error(ht)})},pt.onCancel=ht=>{at.cancel(ht),pt.ready.catch(xt=>{if(!this.destroyed)throw xt})}}),rt.on("GetDoc",({pdfInfo:ct})=>{this._numPages=ct.numPages,this._htmlForXfa=ct.htmlForXfa,delete ct.htmlForXfa,dt._capability.resolve(new PDFDocumentProxy(ct,this))}),rt.on("DocException",function(ct){let pt;switch(ct.name){case"PasswordException":pt=new _util.PasswordException(ct.message,ct.code);break;case"InvalidPDFException":pt=new _util.InvalidPDFException(ct.message);break;case"MissingPDFException":pt=new _util.MissingPDFException(ct.message);break;case"UnexpectedResponseException":pt=new _util.UnexpectedResponseException(ct.message,ct.status);break;case"UnknownErrorException":pt=new _util.UnknownErrorException(ct.message,ct.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}dt._capability.reject(pt)}),rt.on("PasswordRequest",ct=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),dt.onPassword){const pt=at=>{at instanceof Error?this._passwordCapability.reject(at):this._passwordCapability.resolve({password:at})};try{dt.onPassword(pt,ct.code)}catch(at){this._passwordCapability.reject(at)}}else this._passwordCapability.reject(new _util.PasswordException(ct.message,ct.code));return this._passwordCapability.promise}),rt.on("DataLoaded",ct=>{var pt;(pt=dt.onProgress)==null||pt.call(dt,{loaded:ct.length,total:ct.length}),this.downloadInfoCapability.resolve(ct)}),rt.on("StartRenderPage",ct=>{if(this.destroyed)return;Yt(this,j).get(ct.pageIndex)._startRenderPage(ct.transparency,ct.cacheKey)}),rt.on("commonobj",([ct,pt,at])=>{var ht;if(!this.destroyed&&!this.commonObjs.has(ct))switch(pt){case"Font":const xt=this._params;if("error"in at){const ft=at.error;(0,_util.warn)(`Error during font loading: ${ft}`),this.commonObjs.resolve(ct,ft);break}let gt=null;xt.pdfBug&&((ht=globalThis.FontInspector)!=null&&ht.enabled)&&(gt={registerFont(ft,yt){globalThis.FontInspector.fontAdded(ft,yt)}});const vt=new _font_loader.FontFaceObject(at,{isEvalSupported:xt.isEvalSupported,disableFontFace:xt.disableFontFace,ignoreErrors:xt.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:gt});this.fontLoader.bind(vt).catch(ft=>rt.sendWithPromise("FontFallback",{id:ct})).finally(()=>{!xt.fontExtraProperties&&vt.data&&(vt.data=null),this.commonObjs.resolve(ct,vt)});break;case"FontPath":case"Image":this.commonObjs.resolve(ct,at);break;default:throw new Error(`Got unknown common object type ${pt}`)}}),rt.on("obj",([ct,pt,at,ht])=>{var gt;if(this.destroyed)return;const xt=Yt(this,j).get(pt);if(!xt.objs.has(ct))switch(at){case"Image":xt.objs.resolve(ct,ht);const vt=8e6;if(ht){let ft;if(ht.bitmap){const{bitmap:yt,width:mt,height:St}=ht;ft=mt*St*4,xt._bitmaps.add(yt)}else ft=((gt=ht.data)==null?void 0:gt.length)||0;ft>vt&&(xt.cleanupAfterRender=!0)}break;case"Pattern":xt.objs.resolve(ct,ht);break;default:throw new Error(`Got unknown object type ${at}`)}}),rt.on("DocProgress",ct=>{var pt;this.destroyed||(pt=dt.onProgress)==null||pt.call(dt,{loaded:ct.loaded,total:ct.total})}),rt.on("DocStats",ct=>{this.destroyed||_n(this,$,Object.freeze({streamTypes:Object.freeze(ct.streamTypes),fontTypes:Object.freeze(ct.fontTypes)}))}),rt.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),rt.on("FetchBuiltInCMap",ct=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(ct):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),rt.on("FetchStandardFontData",ct=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(ct):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:rt}){var dt,ct;this.destroyed||(ct=(dt=this.loadingTask).onUnsupportedFeature)==null||ct.call(dt,rt)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(rt){if(!Number.isInteger(rt)||rt<=0||rt>this._numPages)return Promise.reject(new Error("Invalid page request."));const dt=rt-1,ct=Yt(this,_e).get(dt);if(ct)return ct;const pt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:dt}).then(at=>{if(this.destroyed)throw new Error("Transport destroyed");const ht=new PDFPageProxy(dt,at,this,this._params.ownerDocument,this._params.pdfBug);return Yt(this,j).set(dt,ht),ht});return Yt(this,_e).set(dt,pt),pt}getPageIndex(rt){return typeof rt!="object"||rt===null||!Number.isInteger(rt.num)||rt.num<0||!Number.isInteger(rt.gen)||rt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:rt.num,gen:rt.gen})}getAnnotations(rt,dt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:rt,intent:dt})}saveDocument(){var rt;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((rt=this._fullReader)==null?void 0:rt.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(rt){return typeof rt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:rt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(rt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:rt})}getStructTree(rt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:rt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(rt=>new _optional_content_config.OptionalContentConfig(rt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Yt(this,et)||_n(this,et,this.messageHandler.sendWithPromise("GetMetadata",null).then(rt=>{var dt,ct;return{info:rt[0],metadata:rt[1]?new _metadata.Metadata(rt[1]):null,contentDispositionFilename:((dt=this._fullReader)==null?void 0:dt.filename)??null,contentLength:((ct=this._fullReader)==null?void 0:ct.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(rt=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const dt of Yt(this,j).values())if(!dt.cleanup())throw new Error(`startCleanup: Page ${dt.pageNumber} is currently rendering.`);this.commonObjs.clear(),rt||this.fontLoader.clear(),_n(this,et,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const rt=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:rt.disableAutoFetch,enableXfa:rt.enableXfa})}}$=new WeakMap,j=new WeakMap,_e=new WeakMap,et=new WeakMap;class PDFObjects{constructor(){un(this,nt);un(this,tt,Object.create(null))}get(rt,dt=null){if(dt){const pt=hn(this,nt,fr).call(this,rt);return pt.capability.promise.then(()=>dt(pt.data)),null}const ct=Yt(this,tt)[rt];if(!(ct!=null&&ct.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${rt}.`);return ct.data}has(rt){const dt=Yt(this,tt)[rt];return(dt==null?void 0:dt.capability.settled)||!1}resolve(rt,dt=null){const ct=hn(this,nt,fr).call(this,rt);ct.data=dt,ct.capability.resolve()}clear(){_n(this,tt,Object.create(null))}}tt=new WeakMap,nt=new WeakSet,fr=function(rt){const dt=Yt(this,tt)[rt];return dt||(Yt(this,tt)[rt]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(rt){un(this,it,null);_n(this,it,rt),this.onContinue=null}get promise(){return Yt(this,it).capability.promise}cancel(){Yt(this,it).cancel()}get separateAnnots(){const{separateAnnots:rt}=Yt(this,it).operatorList;if(!rt)return!1;const{annotationCanvasMap:dt}=Yt(this,it);return rt.form||rt.canvas&&(dt==null?void 0:dt.size)>0}}it=new WeakMap,exports.RenderTask=RenderTask;const ut=class{constructor({callback:rt,params:dt,objs:ct,commonObjs:pt,annotationCanvasMap:at,operatorList:ht,pageIndex:xt,canvasFactory:gt,useRequestAnimationFrame:vt=!1,pdfBug:ft=!1,pageColors:yt=null}){this.callback=rt,this.params=dt,this.objs=ct,this.commonObjs=pt,this.annotationCanvasMap=at,this.operatorListIdx=null,this.operatorList=ht,this._pageIndex=xt,this.canvasFactory=gt,this._pdfBug=ft,this.pageColors=yt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=vt===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=dt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:rt=!1,optionalContentConfig:dt}){var gt;if(this.cancelled)return;if(this._canvas){if(Yt(ut,st).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Yt(ut,st).add(this._canvas)}this._pdfBug&&((gt=globalThis.StepperManager)!=null&&gt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ct,viewport:pt,transform:at,imageLayer:ht,background:xt}=this.params;this.gfx=new _canvas.CanvasGraphics(ct,this.commonObjs,this.objs,this.canvasFactory,ht,dt,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:at,viewport:pt,transparency:rt,background:xt}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(rt=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Yt(ut,st).delete(this._canvas),this.callback(rt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Yt(ut,st).delete(this._canvas),this.callback())))}};let InternalRenderTask=ut;st=new WeakMap,un(InternalRenderTask,st,new WeakSet);const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(s,o,i)=>{var tt,Ir,ot;Object.defineProperty(o,"__esModule",{value:!0}),o.PrintAnnotationStorage=o.AnnotationStorage=void 0;var a=i(1),$=i(6),j=i(10);class _e{constructor(){un(this,tt);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(st,ut){const lt=this._storage.get(st);return lt===void 0?ut:Object.assign(ut,lt)}getRawValue(st){return this._storage.get(st)}remove(st){if(this._storage.delete(st),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ut of this._storage.values())if(ut instanceof $.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(st,ut){const lt=this._storage.get(st);let rt=!1;if(lt!==void 0)for(const[dt,ct]of Object.entries(ut))lt[dt]!==ct&&(rt=!0,lt[dt]=ct);else rt=!0,this._storage.set(st,ut);rt&&hn(this,tt,Ir).call(this),ut instanceof $.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ut.constructor._type)}has(st){return this._storage.has(st)}getAll(){return this._storage.size>0?(0,a.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new et(this)}get serializable(){if(this._storage.size===0)return null;const st=new Map;for(const[ut,lt]of this._storage){const rt=lt instanceof $.AnnotationEditor?lt.serialize():lt;rt&&st.set(ut,rt)}return st}static getHash(st){if(!st)return"";const ut=new j.MurmurHash3_64;for(const[lt,rt]of st)ut.update(`${lt}:${JSON.stringify(rt)}`);return ut.hexdigest()}}tt=new WeakSet,Ir=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},o.AnnotationStorage=_e;class et extends _e{constructor(ut){super();un(this,ot,null);_n(this,ot,structuredClone(ut.serializable))}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Yt(this,ot)}}ot=new WeakMap,o.PrintAnnotationStorage=et},(s,o,i)=>{var _e,et,tt,nt,ot,it;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditor=void 0;var a=i(7),$=i(1);const st=class{constructor(lt){un(this,_e,this.focusin.bind(this));un(this,et,this.focusout.bind(this));un(this,tt,!1);un(this,nt,!1);un(this,ot,!1);un(this,it,st._zIndex++);this.constructor===st&&(0,$.unreachable)("Cannot initialize AnnotationEditor."),this.parent=lt.parent,this.id=lt.id,this.width=this.height=null,this.pageIndex=lt.parent.pageIndex,this.name=lt.name,this.div=null;const[rt,dt]=this.parent.viewportBaseDimensions;this.x=lt.x/rt,this.y=lt.y/dt,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,$.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Yt(this,it)}focusin(lt){Yt(this,tt)?_n(this,tt,!1):this.parent.setSelected(this)}focusout(lt){if(!this.isAttachedToDOM)return;const rt=lt.relatedTarget;rt!=null&&rt.closest(`#${this.id}`)||(lt.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(lt){const rt=this.parent.div.getBoundingClientRect();this.startX=lt.clientX-rt.x,this.startY=lt.clientY-rt.y,lt.dataTransfer.setData("text/plain",this.id),lt.dataTransfer.effectAllowed="move"}setAt(lt,rt,dt,ct){const[pt,at]=this.parent.viewportBaseDimensions;[dt,ct]=this.screenToPageTranslation(dt,ct),this.x=(lt+dt)/pt,this.y=(rt+ct)/at,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(lt,rt){const[dt,ct]=this.parent.viewportBaseDimensions;[lt,rt]=this.screenToPageTranslation(lt,rt),this.x+=lt/dt,this.y+=rt/ct,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(lt,rt){const{rotation:dt}=this.parent.viewport;switch(dt){case 90:return[rt,-lt];case 180:return[-lt,-rt];case 270:return[-rt,lt];default:return[lt,rt]}}setDims(lt,rt){const[dt,ct]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*lt/dt}%`,this.div.style.height=`${100*rt/ct}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Yt(this,_e)),this.div.addEventListener("focusout",Yt(this,et));const[lt,rt]=this.getInitialTranslation();return this.translate(lt,rt),(0,a.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(lt){const rt=a.KeyboardManager.platform.isMac;if(lt.button!==0||lt.ctrlKey&&rt){lt.preventDefault();return}lt.ctrlKey&&!rt||lt.shiftKey||lt.metaKey&&rt?this.parent.toggleSelected(this):this.parent.setSelected(this),_n(this,tt,!0)}getRect(lt,rt){const[dt,ct]=this.parent.viewportBaseDimensions,[pt,at]=this.parent.pageDimensions,ht=pt*lt/dt,xt=at*rt/ct,gt=this.x*pt,vt=this.y*at,ft=this.width*pt,yt=this.height*at;switch(this.rotation){case 0:return[gt+ht,at-vt-xt-yt,gt+ht+ft,at-vt-xt];case 90:return[gt+xt,at-vt+ht,gt+xt+yt,at-vt+ht+ft];case 180:return[gt-ht-ft,at-vt+xt,gt-ht,at-vt+xt+yt];case 270:return[gt-xt-yt,at-vt-ht-ft,gt-xt,at-vt-ht];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(lt,rt){const[dt,ct,pt,at]=lt,ht=pt-dt,xt=at-ct;switch(this.rotation){case 0:return[dt,rt-at,ht,xt];case 90:return[dt,rt-ct,xt,ht];case 180:return[pt,rt-ct,ht,xt];case 270:return[pt,rt-at,xt,ht];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_n(this,ot,!0)}disableEditMode(){_n(this,ot,!1)}isInEditMode(){return Yt(this,ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var lt;(lt=this.div)==null||lt.addEventListener("focusin",Yt(this,_e))}serialize(){(0,$.unreachable)("An editor must be serializable")}static deserialize(lt,rt){const dt=new this.prototype.constructor({parent:rt,id:rt.getNextId()});dt.rotation=lt.rotation;const[ct,pt]=rt.pageDimensions,[at,ht,xt,gt]=dt.getRectInCurrentCoords(lt.rect,pt);return dt.x=at/ct,dt.y=ht/pt,dt.width=xt/ct,dt.height=gt/pt,dt}remove(){this.div.removeEventListener("focusin",Yt(this,_e)),this.div.removeEventListener("focusout",Yt(this,et)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var lt;(lt=this.div)==null||lt.classList.add("selectedEditor")}unselect(){var lt;(lt=this.div)==null||lt.classList.remove("selectedEditor")}updateParams(lt,rt){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return Yt(this,nt)}set isEditing(lt){_n(this,nt,lt),lt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let j=st;_e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,ot=new WeakMap,it=new WeakMap,Wn(j,"_colorManager",new a.ColorManager),Wn(j,"_zIndex",1),o.AnnotationEditor=j},(s,o,i)=>{var ut,lt,rt,dt,ct,pt,Dr,xt,vt,ft,yt,mt,St,At,Ft,Tt,Dt,It,Rt,Pt,Nt,Lt,zt,Mt,Et,Ct,Nr,Ut,mr,Bt,qn,Gt,tr,wt,Mr,jt,$r,Kt,gr,rn,nr,nn,sr;Object.defineProperty(o,"__esModule",{value:!0}),o.KeyboardManager=o.CommandManager=o.ColorManager=o.AnnotationEditorUIManager=void 0,o.bindEvents=j,o.opacityToHex=_e;var a=i(1),$=i(8);function j(ln,Vt,cn){for(const xn of cn)Vt.addEventListener(xn,ln[xn].bind(ln))}function _e(ln){return Math.round(Math.min(255,Math.max(1,255*ln))).toString(16).padStart(2,"0")}class et{constructor(){un(this,ut,0)}getId(){return`${a.AnnotationEditorPrefix}${pr(this,ut)._++}`}}ut=new WeakMap;class tt{constructor(Vt=128){un(this,lt,[]);un(this,rt,!1);un(this,dt,void 0);un(this,ct,-1);_n(this,dt,Vt)}add({cmd:Vt,undo:cn,mustExec:xn,type:Cn=NaN,overwriteIfSameType:an=!1,keepUndo:tn=!1}){if(xn&&Vt(),Yt(this,rt))return;const bn={cmd:Vt,undo:cn,type:Cn};if(Yt(this,ct)===-1){Yt(this,lt).length>0&&(Yt(this,lt).length=0),_n(this,ct,0),Yt(this,lt).push(bn);return}if(an&&Yt(this,lt)[Yt(this,ct)].type===Cn){tn&&(bn.undo=Yt(this,lt)[Yt(this,ct)].undo),Yt(this,lt)[Yt(this,ct)]=bn;return}const En=Yt(this,ct)+1;En===Yt(this,dt)?Yt(this,lt).splice(0,1):(_n(this,ct,En),En<Yt(this,lt).length&&Yt(this,lt).splice(En)),Yt(this,lt).push(bn)}undo(){Yt(this,ct)!==-1&&(_n(this,rt,!0),Yt(this,lt)[Yt(this,ct)].undo(),_n(this,rt,!1),_n(this,ct,Yt(this,ct)-1))}redo(){Yt(this,ct)<Yt(this,lt).length-1&&(_n(this,ct,Yt(this,ct)+1),_n(this,rt,!0),Yt(this,lt)[Yt(this,ct)].cmd(),_n(this,rt,!1))}hasSomethingToUndo(){return Yt(this,ct)!==-1}hasSomethingToRedo(){return Yt(this,ct)<Yt(this,lt).length-1}destroy(){_n(this,lt,null)}}lt=new WeakMap,rt=new WeakMap,dt=new WeakMap,ct=new WeakMap,o.CommandManager=tt;const ht=class{constructor(Vt){un(this,pt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const cn=ht.platform.isMac;for(const[xn,Cn]of Vt)for(const an of xn){const tn=an.startsWith("mac+");cn&&tn?(this.callbacks.set(an.slice(4),Cn),this.allKeys.add(an.split("+").at(-1))):!cn&&!tn&&(this.callbacks.set(an,Cn),this.allKeys.add(an.split("+").at(-1)))}}static get platform(){const Vt=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:Vt.includes("Win"),isMac:Vt.includes("Mac")})}exec(Vt,cn){if(!this.allKeys.has(cn.key))return;const xn=this.callbacks.get(hn(this,pt,Dr).call(this,cn));xn&&(xn.bind(Vt)(),cn.stopPropagation(),cn.preventDefault())}};let nt=ht;pt=new WeakSet,Dr=function(Vt){Vt.altKey&&this.buffer.push("alt"),Vt.ctrlKey&&this.buffer.push("ctrl"),Vt.metaKey&&this.buffer.push("meta"),Vt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Vt.key);const cn=this.buffer.join("+");return this.buffer.length=0,cn},o.KeyboardManager=nt;class ot{constructor(){un(this,xt,null)}copy(Vt){Vt&&(Array.isArray(Vt)?_n(this,xt,Vt.map(cn=>cn.serialize())):_n(this,xt,[Vt.serialize()]),_n(this,xt,Yt(this,xt).filter(cn=>!!cn)),Yt(this,xt).length===0&&_n(this,xt,null))}paste(){return Yt(this,xt)}isEmpty(){return Yt(this,xt)===null}destroy(){_n(this,xt,null)}}xt=new WeakMap;const gt=class{get _colors(){const Vt=new Map([["CanvasText",null],["Canvas",null]]);return(0,$.getColorValues)(Vt),(0,a.shadow)(this,"_colors",Vt)}convert(Vt){const cn=(0,$.getRGB)(Vt);if(!window.matchMedia("(forced-colors: active)").matches)return cn;for(const[xn,Cn]of this._colors)if(Cn.every((an,tn)=>an===cn[tn]))return gt._colorsMapping.get(xn);return cn}getHexCode(Vt){const cn=this._colors.get(Vt);return cn?a.Util.makeHexColor(...cn):Vt}};let it=gt;Wn(it,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),o.ColorManager=it;const sn=class{constructor(Vt,cn){un(this,Ct);un(this,Ut);un(this,Bt);un(this,Gt);un(this,wt);un(this,jt);un(this,Kt);un(this,rn);un(this,nn);un(this,vt,null);un(this,ft,new Map);un(this,yt,new Map);un(this,mt,new ot);un(this,St,new tt);un(this,At,0);un(this,Ft,null);un(this,Tt,null);un(this,Dt,new et);un(this,It,!1);un(this,Rt,a.AnnotationEditorType.NONE);un(this,Pt,new Set);un(this,Nt,this.keydown.bind(this));un(this,Lt,this.onEditingAction.bind(this));un(this,zt,this.onPageChanging.bind(this));un(this,Mt,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});un(this,Et,null);_n(this,Et,Vt),_n(this,Tt,cn),Yt(this,Tt)._on("editingaction",Yt(this,Lt)),Yt(this,Tt)._on("pagechanging",Yt(this,zt))}destroy(){hn(this,Ut,mr).call(this),Yt(this,Tt)._off("editingaction",Yt(this,Lt)),Yt(this,Tt)._off("pagechanging",Yt(this,zt));for(const Vt of Yt(this,yt).values())Vt.destroy();Yt(this,yt).clear(),Yt(this,ft).clear(),_n(this,vt,null),Yt(this,Pt).clear(),Yt(this,mt).destroy(),Yt(this,St).destroy()}onPageChanging({pageNumber:Vt}){_n(this,At,Vt-1)}focusMainContainer(){Yt(this,Et).focus()}keydown(Vt){var cn;(cn=this.getActive())!=null&&cn.shouldGetKeyboardEvents()||sn._keyboardManager.exec(this,Vt)}onEditingAction(Vt){["undo","redo","cut","copy","paste","delete","selectAll"].includes(Vt.name)&&this[Vt.name]()}setEditingState(Vt){Vt?(hn(this,Ct,Nr).call(this),hn(this,Bt,qn).call(this,{isEditing:Yt(this,Rt)!==a.AnnotationEditorType.NONE,isEmpty:hn(this,rn,nr).call(this),hasSomethingToUndo:Yt(this,St).hasSomethingToUndo(),hasSomethingToRedo:Yt(this,St).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:Yt(this,mt).isEmpty()})):(hn(this,Ut,mr).call(this),hn(this,Bt,qn).call(this,{isEditing:!1}))}registerEditorTypes(Vt){_n(this,Ft,Vt);for(const cn of Yt(this,Ft))hn(this,Gt,tr).call(this,cn.defaultPropertiesToUpdate)}getId(){return Yt(this,Dt).getId()}addLayer(Vt){Yt(this,yt).set(Vt.pageIndex,Vt),Yt(this,It)?Vt.enable():Vt.disable()}removeLayer(Vt){Yt(this,yt).delete(Vt.pageIndex)}updateMode(Vt){if(_n(this,Rt,Vt),Vt===a.AnnotationEditorType.NONE)this.setEditingState(!1),hn(this,jt,$r).call(this);else{this.setEditingState(!0),hn(this,wt,Mr).call(this);for(const cn of Yt(this,yt).values())cn.updateMode(Vt)}}updateToolbar(Vt){Vt!==Yt(this,Rt)&&Yt(this,Tt).dispatch("switchannotationeditormode",{source:this,mode:Vt})}updateParams(Vt,cn){for(const xn of Yt(this,Pt))xn.updateParams(Vt,cn);for(const xn of Yt(this,Ft))xn.updateDefaultParams(Vt,cn)}getEditors(Vt){const cn=[];for(const xn of Yt(this,ft).values())xn.pageIndex===Vt&&cn.push(xn);return cn}getEditor(Vt){return Yt(this,ft).get(Vt)}addEditor(Vt){Yt(this,ft).set(Vt.id,Vt)}removeEditor(Vt){Yt(this,ft).delete(Vt.id),this.unselect(Vt)}setActiveEditor(Vt){Yt(this,vt)!==Vt&&(_n(this,vt,Vt),Vt&&hn(this,Gt,tr).call(this,Vt.propertiesToUpdate))}toggleSelected(Vt){if(Yt(this,Pt).has(Vt)){Yt(this,Pt).delete(Vt),Vt.unselect(),hn(this,Bt,qn).call(this,{hasSelectedEditor:this.hasSelection});return}Yt(this,Pt).add(Vt),Vt.select(),hn(this,Gt,tr).call(this,Vt.propertiesToUpdate),hn(this,Bt,qn).call(this,{hasSelectedEditor:!0})}setSelected(Vt){for(const cn of Yt(this,Pt))cn!==Vt&&cn.unselect();Yt(this,Pt).clear(),Yt(this,Pt).add(Vt),Vt.select(),hn(this,Gt,tr).call(this,Vt.propertiesToUpdate),hn(this,Bt,qn).call(this,{hasSelectedEditor:!0})}isSelected(Vt){return Yt(this,Pt).has(Vt)}unselect(Vt){Vt.unselect(),Yt(this,Pt).delete(Vt),hn(this,Bt,qn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Yt(this,Pt).size!==0}undo(){Yt(this,St).undo(),hn(this,Bt,qn).call(this,{hasSomethingToUndo:Yt(this,St).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:hn(this,rn,nr).call(this)})}redo(){Yt(this,St).redo(),hn(this,Bt,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Yt(this,St).hasSomethingToRedo(),isEmpty:hn(this,rn,nr).call(this)})}addCommands(Vt){Yt(this,St).add(Vt),hn(this,Bt,qn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:hn(this,rn,nr).call(this)})}delete(){if(Yt(this,vt)&&Yt(this,vt).commitOrRemove(),!this.hasSelection)return;const Vt=[...Yt(this,Pt)],cn=()=>{for(const Cn of Vt)Cn.remove()},xn=()=>{for(const Cn of Vt)hn(this,Kt,gr).call(this,Cn)};this.addCommands({cmd:cn,undo:xn,mustExec:!0})}copy(){if(Yt(this,vt)&&Yt(this,vt).commitOrRemove(),this.hasSelection){const Vt=[];for(const cn of Yt(this,Pt))cn.isEmpty()||Vt.push(cn);if(Vt.length===0)return;Yt(this,mt).copy(Vt),hn(this,Bt,qn).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(Yt(this,mt).isEmpty())return;this.unselectAll();const Vt=Yt(this,yt).get(Yt(this,At)),cn=Yt(this,mt).paste().map(an=>Vt.deserialize(an)),xn=()=>{for(const an of cn)hn(this,Kt,gr).call(this,an);hn(this,nn,sr).call(this,cn)},Cn=()=>{for(const an of cn)an.remove()};this.addCommands({cmd:xn,undo:Cn,mustExec:!0})}selectAll(){for(const Vt of Yt(this,Pt))Vt.commit();hn(this,nn,sr).call(this,Yt(this,ft).values())}unselectAll(){if(Yt(this,vt)){Yt(this,vt).commitOrRemove();return}if(hn(this,nn,sr).size!==0){for(const Vt of Yt(this,Pt))Vt.unselect();Yt(this,Pt).clear(),hn(this,Bt,qn).call(this,{hasSelectedEditor:!1})}}isActive(Vt){return Yt(this,vt)===Vt}getActive(){return Yt(this,vt)}getMode(){return Yt(this,Rt)}};let st=sn;vt=new WeakMap,ft=new WeakMap,yt=new WeakMap,mt=new WeakMap,St=new WeakMap,At=new WeakMap,Ft=new WeakMap,Tt=new WeakMap,Dt=new WeakMap,It=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,zt=new WeakMap,Mt=new WeakMap,Et=new WeakMap,Ct=new WeakSet,Nr=function(){Yt(this,Et).addEventListener("keydown",Yt(this,Nt))},Ut=new WeakSet,mr=function(){Yt(this,Et).removeEventListener("keydown",Yt(this,Nt))},Bt=new WeakSet,qn=function(Vt){Object.entries(Vt).some(([xn,Cn])=>Yt(this,Mt)[xn]!==Cn)&&Yt(this,Tt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Yt(this,Mt),Vt)})},Gt=new WeakSet,tr=function(Vt){Yt(this,Tt).dispatch("annotationeditorparamschanged",{source:this,details:Vt})},wt=new WeakSet,Mr=function(){if(!Yt(this,It)){_n(this,It,!0);for(const Vt of Yt(this,yt).values())Vt.enable()}},jt=new WeakSet,$r=function(){if(this.unselectAll(),Yt(this,It)){_n(this,It,!1);for(const Vt of Yt(this,yt).values())Vt.disable()}},Kt=new WeakSet,gr=function(Vt){const cn=Yt(this,yt).get(Vt.pageIndex);cn?cn.addOrRebuild(Vt):this.addEditor(Vt)},rn=new WeakSet,nr=function(){if(Yt(this,ft).size===0)return!0;if(Yt(this,ft).size===1)for(const Vt of Yt(this,ft).values())return Vt.isEmpty();return!1},nn=new WeakSet,sr=function(Vt){Yt(this,Pt).clear();for(const cn of Vt)cn.isEmpty()||(Yt(this,Pt).add(cn),cn.select());hn(this,Bt,qn).call(this,{hasSelectedEditor:!0})},Wn(st,"_keyboardManager",new nt([[["ctrl+a","mac+meta+a"],sn.prototype.selectAll],[["ctrl+c","mac+meta+c"],sn.prototype.copy],[["ctrl+v","mac+meta+v"],sn.prototype.paste],[["ctrl+x","mac+meta+x"],sn.prototype.cut],[["ctrl+z","mac+meta+z"],sn.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],sn.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],sn.prototype.delete],[["Escape","mac+Escape"],sn.prototype.unselectAll]])),o.AnnotationEditorUIManager=st},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StatTimer=o.RenderingCancelledException=o.PixelsPerInch=o.PageViewport=o.PDFDateString=o.DOMStandardFontDataFactory=o.DOMSVGFactory=o.DOMCanvasFactory=o.DOMCMapReaderFactory=o.AnnotationPrefix=void 0,o.deprecated=gt,o.getColorValues=St,o.getCurrentTransform=At,o.getCurrentTransformInverse=Ft,o.getFilenameFromUrl=ct,o.getPdfFilenameFromUrl=pt,o.getRGB=mt,o.getXfaPageViewport=yt,o.isDataScheme=rt,o.isPdfFile=dt,o.isValidFetchUrl=ht,o.loadScript=xt;var a=i(9),$=i(1);const j="http://www.w3.org/2000/svg",_e="pdfjs_internal_id_";o.AnnotationPrefix=_e;const Tt=class{};let et=Tt;Wn(et,"CSS",96),Wn(et,"PDF",72),Wn(et,"PDF_TO_CSS_UNITS",Tt.CSS/Tt.PDF),o.PixelsPerInch=et;class tt extends a.BaseCanvasFactory{constructor({ownerDocument:It=globalThis.document}={}){super(),this._document=It}_createCanvas(It,Rt){const Pt=this._document.createElement("canvas");return Pt.width=It,Pt.height=Rt,Pt}}o.DOMCanvasFactory=tt;async function nt(Dt,It=!1){if(ht(Dt,document.baseURI)){const Rt=await fetch(Dt);if(!Rt.ok)throw new Error(Rt.statusText);return It?new Uint8Array(await Rt.arrayBuffer()):(0,$.stringToBytes)(await Rt.text())}return new Promise((Rt,Pt)=>{const Nt=new XMLHttpRequest;Nt.open("GET",Dt,!0),It&&(Nt.responseType="arraybuffer"),Nt.onreadystatechange=()=>{if(Nt.readyState===XMLHttpRequest.DONE){if(Nt.status===200||Nt.status===0){let Lt;if(It&&Nt.response?Lt=new Uint8Array(Nt.response):!It&&Nt.responseText&&(Lt=(0,$.stringToBytes)(Nt.responseText)),Lt){Rt(Lt);return}}Pt(new Error(Nt.statusText))}},Nt.send(null)})}class ot extends a.BaseCMapReaderFactory{_fetchData(It,Rt){return nt(It,this.isCompressed).then(Pt=>({cMapData:Pt,compressionType:Rt}))}}o.DOMCMapReaderFactory=ot;class it extends a.BaseStandardFontDataFactory{_fetchData(It){return nt(It,!0)}}o.DOMStandardFontDataFactory=it;class st extends a.BaseSVGFactory{_createSVG(It){return document.createElementNS(j,It)}}o.DOMSVGFactory=st;class ut{constructor({viewBox:It,scale:Rt,rotation:Pt,offsetX:Nt=0,offsetY:Lt=0,dontFlip:zt=!1}){this.viewBox=It,this.scale=Rt,this.rotation=Pt,this.offsetX=Nt,this.offsetY=Lt;const Mt=(It[2]+It[0])/2,Et=(It[3]+It[1])/2;let Ct,Ot,Ut,$t;switch(Pt%=360,Pt<0&&(Pt+=360),Pt){case 180:Ct=-1,Ot=0,Ut=0,$t=1;break;case 90:Ct=0,Ot=1,Ut=1,$t=0;break;case 270:Ct=0,Ot=-1,Ut=-1,$t=0;break;case 0:Ct=1,Ot=0,Ut=0,$t=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}zt&&(Ut=-Ut,$t=-$t);let Bt,Wt,Gt,bt;Ct===0?(Bt=Math.abs(Et-It[1])*Rt+Nt,Wt=Math.abs(Mt-It[0])*Rt+Lt,Gt=Math.abs(It[3]-It[1])*Rt,bt=Math.abs(It[2]-It[0])*Rt):(Bt=Math.abs(Mt-It[0])*Rt+Nt,Wt=Math.abs(Et-It[1])*Rt+Lt,Gt=Math.abs(It[2]-It[0])*Rt,bt=Math.abs(It[3]-It[1])*Rt),this.transform=[Ct*Rt,Ot*Rt,Ut*Rt,$t*Rt,Bt-Ct*Rt*Mt-Ut*Rt*Et,Wt-Ot*Rt*Mt-$t*Rt*Et],this.width=Gt,this.height=bt}clone({scale:It=this.scale,rotation:Rt=this.rotation,offsetX:Pt=this.offsetX,offsetY:Nt=this.offsetY,dontFlip:Lt=!1}={}){return new ut({viewBox:this.viewBox.slice(),scale:It,rotation:Rt,offsetX:Pt,offsetY:Nt,dontFlip:Lt})}convertToViewportPoint(It,Rt){return $.Util.applyTransform([It,Rt],this.transform)}convertToViewportRectangle(It){const Rt=$.Util.applyTransform([It[0],It[1]],this.transform),Pt=$.Util.applyTransform([It[2],It[3]],this.transform);return[Rt[0],Rt[1],Pt[0],Pt[1]]}convertToPdfPoint(It,Rt){return $.Util.applyInverseTransform([It,Rt],this.transform)}}o.PageViewport=ut;class lt extends $.BaseException{constructor(It,Rt){super(It,"RenderingCancelledException"),this.type=Rt}}o.RenderingCancelledException=lt;function rt(Dt){const It=Dt.length;let Rt=0;for(;Rt<It&&Dt[Rt].trim()==="";)Rt++;return Dt.substring(Rt,Rt+5).toLowerCase()==="data:"}function dt(Dt){return typeof Dt=="string"&&/\.pdf$/i.test(Dt)}function ct(Dt){const It=Dt.indexOf("#"),Rt=Dt.indexOf("?"),Pt=Math.min(It>0?It:Dt.length,Rt>0?Rt:Dt.length);return Dt.substring(Dt.lastIndexOf("/",Pt)+1,Pt)}function pt(Dt,It="document.pdf"){if(typeof Dt!="string")return It;if(rt(Dt))return(0,$.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),It;const Rt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Pt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Nt=Rt.exec(Dt);let Lt=Pt.exec(Nt[1])||Pt.exec(Nt[2])||Pt.exec(Nt[3]);if(Lt&&(Lt=Lt[0],Lt.includes("%")))try{Lt=Pt.exec(decodeURIComponent(Lt))[0]}catch{}return Lt||It}class at{constructor(){this.started=Object.create(null),this.times=[]}time(It){It in this.started&&(0,$.warn)(`Timer is already running for ${It}`),this.started[It]=Date.now()}timeEnd(It){It in this.started||(0,$.warn)(`Timer has not been started for ${It}`),this.times.push({name:It,start:this.started[It],end:Date.now()}),delete this.started[It]}toString(){const It=[];let Rt=0;for(const Pt of this.times){const Nt=Pt.name;Nt.length>Rt&&(Rt=Nt.length)}for(const Pt of this.times){const Nt=Pt.end-Pt.start;It.push(`${Pt.name.padEnd(Rt)} ${Nt}ms
`)}return It.join("")}}o.StatTimer=at;function ht(Dt,It){try{const{protocol:Rt}=It?new URL(Dt,It):new URL(Dt);return Rt==="http:"||Rt==="https:"}catch{return!1}}function xt(Dt,It=!1){return new Promise((Rt,Pt)=>{const Nt=document.createElement("script");Nt.src=Dt,Nt.onload=function(Lt){It&&Nt.remove(),Rt(Lt)},Nt.onerror=function(){Pt(new Error(`Cannot load script at: ${Nt.src}`))},(document.head||document.documentElement).append(Nt)})}function gt(Dt){console.log("Deprecated API usage: "+Dt)}let vt;class ft{static toDateObject(It){if(!It||typeof It!="string")return null;vt||(vt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Rt=vt.exec(It);if(!Rt)return null;const Pt=parseInt(Rt[1],10);let Nt=parseInt(Rt[2],10);Nt=Nt>=1&&Nt<=12?Nt-1:0;let Lt=parseInt(Rt[3],10);Lt=Lt>=1&&Lt<=31?Lt:1;let zt=parseInt(Rt[4],10);zt=zt>=0&&zt<=23?zt:0;let Mt=parseInt(Rt[5],10);Mt=Mt>=0&&Mt<=59?Mt:0;let Et=parseInt(Rt[6],10);Et=Et>=0&&Et<=59?Et:0;const Ct=Rt[7]||"Z";let Ot=parseInt(Rt[8],10);Ot=Ot>=0&&Ot<=23?Ot:0;let Ut=parseInt(Rt[9],10)||0;return Ut=Ut>=0&&Ut<=59?Ut:0,Ct==="-"?(zt+=Ot,Mt+=Ut):Ct==="+"&&(zt-=Ot,Mt-=Ut),new Date(Date.UTC(Pt,Nt,Lt,zt,Mt,Et))}}o.PDFDateString=ft;function yt(Dt,{scale:It=1,rotation:Rt=0}){const{width:Pt,height:Nt}=Dt.attributes.style,Lt=[0,0,parseInt(Pt),parseInt(Nt)];return new ut({viewBox:Lt,scale:It,rotation:Rt})}function mt(Dt){if(Dt.startsWith("#")){const It=parseInt(Dt.slice(1),16);return[(It&16711680)>>16,(It&65280)>>8,It&255]}return Dt.startsWith("rgb(")?Dt.slice(4,-1).split(",").map(It=>parseInt(It)):Dt.startsWith("rgba(")?Dt.slice(5,-1).split(",").map(It=>parseInt(It)).slice(0,3):((0,$.warn)(`Not a valid color format: "${Dt}"`),[0,0,0])}function St(Dt){const It=document.createElement("span");It.style.visibility="hidden",document.body.append(It);for(const Rt of Dt.keys()){It.style.color=Rt;const Pt=window.getComputedStyle(It).color;Dt.set(Rt,mt(Pt))}It.remove()}function At(Dt){const{a:It,b:Rt,c:Pt,d:Nt,e:Lt,f:zt}=Dt.getTransform();return[It,Rt,Pt,Nt,Lt,zt]}function Ft(Dt){const{a:It,b:Rt,c:Pt,d:Nt,e:Lt,f:zt}=Dt.getTransform().invertSelf();return[It,Rt,Pt,Nt,Lt,zt]}},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaseStandardFontDataFactory=o.BaseSVGFactory=o.BaseCanvasFactory=o.BaseCMapReaderFactory=void 0;var a=i(1);class ${constructor(){this.constructor===$&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(nt,ot){if(nt<=0||ot<=0)throw new Error("Invalid canvas size");const it=this._createCanvas(nt,ot);return{canvas:it,context:it.getContext("2d")}}reset(nt,ot,it){if(!nt.canvas)throw new Error("Canvas is not specified");if(ot<=0||it<=0)throw new Error("Invalid canvas size");nt.canvas.width=ot,nt.canvas.height=it}destroy(nt){if(!nt.canvas)throw new Error("Canvas is not specified");nt.canvas.width=0,nt.canvas.height=0,nt.canvas=null,nt.context=null}_createCanvas(nt,ot){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}o.BaseCanvasFactory=$;class j{constructor({baseUrl:nt=null,isCompressed:ot=!1}){this.constructor===j&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=nt,this.isCompressed=ot}async fetch({name:nt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!nt)throw new Error("CMap name must be specified.");const ot=this.baseUrl+nt+(this.isCompressed?".bcmap":""),it=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(ot,it).catch(st=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ot}`)})}_fetchData(nt,ot){(0,a.unreachable)("Abstract method `_fetchData` called.")}}o.BaseCMapReaderFactory=j;class _e{constructor({baseUrl:nt=null}){this.constructor===_e&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=nt}async fetch({filename:nt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!nt)throw new Error("Font filename must be specified.");const ot=`${this.baseUrl}${nt}`;return this._fetchData(ot).catch(it=>{throw new Error(`Unable to load font data at: ${ot}`)})}_fetchData(nt){(0,a.unreachable)("Abstract method `_fetchData` called.")}}o.BaseStandardFontDataFactory=_e;class et{constructor(){this.constructor===et&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(nt,ot,it=!1){if(nt<=0||ot<=0)throw new Error("Invalid SVG dimensions");const st=this._createSVG("svg:svg");return st.setAttribute("version","1.1"),it||(st.setAttribute("width",`${nt}px`),st.setAttribute("height",`${ot}px`)),st.setAttribute("preserveAspectRatio","none"),st.setAttribute("viewBox",`0 0 ${nt} ${ot}`),st}createElement(nt){if(typeof nt!="string")throw new Error("Invalid SVG element type");return this._createSVG(nt)}_createSVG(nt){(0,a.unreachable)("Abstract method `_createSVG` called.")}}o.BaseSVGFactory=et},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash3_64=void 0;var a=i(1);const $=3285377520,j=4294901760,_e=65535;class et{constructor(nt){this.h1=nt?nt&4294967295:$,this.h2=nt?nt&4294967295:$}update(nt){let ot,it;if(typeof nt=="string"){ot=new Uint8Array(nt.length*2),it=0;for(let vt=0,ft=nt.length;vt<ft;vt++){const yt=nt.charCodeAt(vt);yt<=255?ot[it++]=yt:(ot[it++]=yt>>>8,ot[it++]=yt&255)}}else if((0,a.isArrayBuffer)(nt))ot=nt.slice(),it=ot.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const st=it>>2,ut=it-st*4,lt=new Uint32Array(ot.buffer,0,st);let rt=0,dt=0,ct=this.h1,pt=this.h2;const at=3432918353,ht=461845907,xt=at&_e,gt=ht&_e;for(let vt=0;vt<st;vt++)vt&1?(rt=lt[vt],rt=rt*at&j|rt*xt&_e,rt=rt<<15|rt>>>17,rt=rt*ht&j|rt*gt&_e,ct^=rt,ct=ct<<13|ct>>>19,ct=ct*5+3864292196):(dt=lt[vt],dt=dt*at&j|dt*xt&_e,dt=dt<<15|dt>>>17,dt=dt*ht&j|dt*gt&_e,pt^=dt,pt=pt<<13|pt>>>19,pt=pt*5+3864292196);switch(rt=0,ut){case 3:rt^=ot[st*4+2]<<16;case 2:rt^=ot[st*4+1]<<8;case 1:rt^=ot[st*4],rt=rt*at&j|rt*xt&_e,rt=rt<<15|rt>>>17,rt=rt*ht&j|rt*gt&_e,st&1?ct^=rt:pt^=rt}this.h1=ct,this.h2=pt}hexdigest(){let nt=this.h1,ot=this.h2;nt^=ot>>>1,nt=nt*3981806797&j|nt*36045&_e,ot=ot*4283543511&j|((ot<<16|nt>>>16)*2950163797&j)>>>16,nt^=ot>>>1,nt=nt*444984403&j|nt*60499&_e,ot=ot*3301882366&j|((ot<<16|nt>>>16)*3120437893&j)>>>16,nt^=ot>>>1;const it=(nt>>>0).toString(16),st=(ot>>>0).toString(16);return it.padStart(8,"0")+st.padStart(8,"0")}}o.MurmurHash3_64=et},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FontLoader=o.FontFaceObject=void 0;var a=i(1);class ${constructor({docId:tt,onUnsupportedFeature:nt,ownerDocument:ot=globalThis.document,styleElement:it=null}){this.constructor===$&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=tt,this._onUnsupportedFeature=nt,this._document=ot,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(tt){this.nativeFontFaces.push(tt),this._document.fonts.add(tt)}insertRule(tt){let nt=this.styleElement;nt||(nt=this.styleElement=this._document.createElement("style"),nt.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(nt));const ot=nt.sheet;ot.insertRule(tt,ot.cssRules.length)}clear(){for(const tt of this.nativeFontFaces)this._document.fonts.delete(tt);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(tt){if(tt.attached||tt.missingFile)return;if(tt.attached=!0,this.isFontLoadingAPISupported){const ot=tt.createNativeFontFace();if(ot){this.addNativeFontFace(ot);try{await ot.loaded}catch(it){throw this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)(`Failed to load font '${ot.family}': '${it}'.`),tt.disableFontFace=!0,it}}return}const nt=tt.createFontFaceRule();if(nt){if(this.insertRule(nt),this.isSyncFontLoadingSupported)return;await new Promise(ot=>{const it=this._queueLoadingCallback(ot);this._prepareFontLoadEvent([nt],[tt],it)})}}_queueLoadingCallback(tt){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var nt;const tt=!!((nt=this._document)!=null&&nt.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",tt)}get isSyncFontLoadingSupported(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(tt,nt,ot){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let j;o.FontLoader=j,o.FontLoader=j=class extends ${constructor(tt){super(tt),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let tt=!1;if(typeof navigator>"u")tt=!0;else{const nt=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(nt==null?void 0:nt[1])>=14&&(tt=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",tt)}_queueLoadingCallback(tt){function nt(){for((0,a.assert)(!it.done,"completeRequest() cannot be called twice."),it.done=!0;ot.requests.length>0&&ot.requests[0].done;){const st=ot.requests.shift();setTimeout(st.callback,0)}}const ot=this.loadingContext,it={id:`pdfjs-font-loading-${ot.nextRequestId++}`,done:!1,complete:nt,callback:tt};return ot.requests.push(it),it}get _loadTestFont(){const tt=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,a.shadow)(this,"_loadTestFont",tt())}_prepareFontLoadEvent(tt,nt,ot){function it(Ft,Tt){return Ft.charCodeAt(Tt)<<24|Ft.charCodeAt(Tt+1)<<16|Ft.charCodeAt(Tt+2)<<8|Ft.charCodeAt(Tt+3)&255}function st(Ft,Tt,Dt,It){const Rt=Ft.substring(0,Tt),Pt=Ft.substring(Tt+Dt);return Rt+It+Pt}let ut,lt;const rt=this._document.createElement("canvas");rt.width=1,rt.height=1;const dt=rt.getContext("2d");let ct=0;function pt(Ft,Tt){if(ct++,ct>30){(0,a.warn)("Load test font never loaded."),Tt();return}if(dt.font="30px "+Ft,dt.fillText(".",0,20),dt.getImageData(0,0,1,1).data[3]>0){Tt();return}setTimeout(pt.bind(null,Ft,Tt))}const at=`lt${Date.now()}${this.loadTestFontId++}`;let ht=this._loadTestFont;ht=st(ht,976,at.length,at);const gt=16,vt=1482184792;let ft=it(ht,gt);for(ut=0,lt=at.length-3;ut<lt;ut+=4)ft=ft-vt+it(at,ut)|0;ut<at.length&&(ft=ft-vt+it(at+"XXX",ut)|0),ht=st(ht,gt,4,(0,a.string32)(ft));const yt=`url(data:font/opentype;base64,${btoa(ht)});`,mt=`@font-face {font-family:"${at}";src:${yt}}`;this.insertRule(mt);const St=[];for(const Ft of nt)St.push(Ft.loadedName);St.push(at);const At=this._document.createElement("div");At.style.visibility="hidden",At.style.width=At.style.height="10px",At.style.position="absolute",At.style.top=At.style.left="0px";for(const Ft of St){const Tt=this._document.createElement("span");Tt.textContent="Hi",Tt.style.fontFamily=Ft,At.append(Tt)}this._document.body.append(At),pt(at,()=>{At.remove(),ot.complete()})}};class _e{constructor(tt,{isEvalSupported:nt=!0,disableFontFace:ot=!1,ignoreErrors:it=!1,onUnsupportedFeature:st,fontRegistry:ut=null}){this.compiledGlyphs=Object.create(null);for(const lt in tt)this[lt]=tt[lt];this.isEvalSupported=nt!==!1,this.disableFontFace=ot===!0,this.ignoreErrors=it===!0,this._onUnsupportedFeature=st,this.fontRegistry=ut}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let tt;if(!this.cssFontInfo)tt=new FontFace(this.loadedName,this.data,{});else{const nt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(nt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),tt=new FontFace(this.cssFontInfo.fontFamily,this.data,nt)}return this.fontRegistry&&this.fontRegistry.registerFont(this),tt}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const tt=(0,a.bytesToString)(this.data),nt=`url(data:${this.mimetype};base64,${btoa(tt)});`;let ot;if(!this.cssFontInfo)ot=`@font-face {font-family:"${this.loadedName}";src:${nt}}`;else{let it=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(it+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ot=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${it}src:${nt}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,nt),ot}getPathGenerator(tt,nt){if(this.compiledGlyphs[nt]!==void 0)return this.compiledGlyphs[nt];let ot;try{ot=tt.get(this.loadedName+"_path_"+nt)}catch(it){if(!this.ignoreErrors)throw it;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)(`getPathGenerator - ignoring character: "${it}".`),this.compiledGlyphs[nt]=function(st,ut){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const it=[];for(const st of ot){const ut=st.args!==void 0?st.args.join(","):"";it.push("c.",st.cmd,"(",ut,`);
`)}return this.compiledGlyphs[nt]=new Function("c","size",it.join(""))}return this.compiledGlyphs[nt]=function(it,st){for(const ut of ot)ut.cmd==="scale"&&(ut.args=[st,-st]),it[ut.cmd].apply(it,ut.args)}}}o.FontFaceObject=_e},(s,o,i)=>{var Nt,yr;Object.defineProperty(o,"__esModule",{value:!0}),o.CanvasGraphics=void 0;var a=i(8),$=i(1),j=i(13),_e=i(14),et=i(3);const tt=16,nt=100,ot=4096,it=15,st=10,ut=et.isNodeJS&&typeof Path2D>"u"?-1:1e3,lt=16;function rt(Mt,Et){if(Mt._removeMirroring)throw new Error("Context is already forwarding operations.");Mt.__originalSave=Mt.save,Mt.__originalRestore=Mt.restore,Mt.__originalRotate=Mt.rotate,Mt.__originalScale=Mt.scale,Mt.__originalTranslate=Mt.translate,Mt.__originalTransform=Mt.transform,Mt.__originalSetTransform=Mt.setTransform,Mt.__originalResetTransform=Mt.resetTransform,Mt.__originalClip=Mt.clip,Mt.__originalMoveTo=Mt.moveTo,Mt.__originalLineTo=Mt.lineTo,Mt.__originalBezierCurveTo=Mt.bezierCurveTo,Mt.__originalRect=Mt.rect,Mt.__originalClosePath=Mt.closePath,Mt.__originalBeginPath=Mt.beginPath,Mt._removeMirroring=()=>{Mt.save=Mt.__originalSave,Mt.restore=Mt.__originalRestore,Mt.rotate=Mt.__originalRotate,Mt.scale=Mt.__originalScale,Mt.translate=Mt.__originalTranslate,Mt.transform=Mt.__originalTransform,Mt.setTransform=Mt.__originalSetTransform,Mt.resetTransform=Mt.__originalResetTransform,Mt.clip=Mt.__originalClip,Mt.moveTo=Mt.__originalMoveTo,Mt.lineTo=Mt.__originalLineTo,Mt.bezierCurveTo=Mt.__originalBezierCurveTo,Mt.rect=Mt.__originalRect,Mt.closePath=Mt.__originalClosePath,Mt.beginPath=Mt.__originalBeginPath,delete Mt._removeMirroring},Mt.save=function(){Et.save(),this.__originalSave()},Mt.restore=function(){Et.restore(),this.__originalRestore()},Mt.translate=function(Ot,Ut){Et.translate(Ot,Ut),this.__originalTranslate(Ot,Ut)},Mt.scale=function(Ot,Ut){Et.scale(Ot,Ut),this.__originalScale(Ot,Ut)},Mt.transform=function(Ot,Ut,$t,Bt,Wt,Gt){Et.transform(Ot,Ut,$t,Bt,Wt,Gt),this.__originalTransform(Ot,Ut,$t,Bt,Wt,Gt)},Mt.setTransform=function(Ot,Ut,$t,Bt,Wt,Gt){Et.setTransform(Ot,Ut,$t,Bt,Wt,Gt),this.__originalSetTransform(Ot,Ut,$t,Bt,Wt,Gt)},Mt.resetTransform=function(){Et.resetTransform(),this.__originalResetTransform()},Mt.rotate=function(Ot){Et.rotate(Ot),this.__originalRotate(Ot)},Mt.clip=function(Ot){Et.clip(Ot),this.__originalClip(Ot)},Mt.moveTo=function(Ct,Ot){Et.moveTo(Ct,Ot),this.__originalMoveTo(Ct,Ot)},Mt.lineTo=function(Ct,Ot){Et.lineTo(Ct,Ot),this.__originalLineTo(Ct,Ot)},Mt.bezierCurveTo=function(Ct,Ot,Ut,$t,Bt,Wt){Et.bezierCurveTo(Ct,Ot,Ut,$t,Bt,Wt),this.__originalBezierCurveTo(Ct,Ot,Ut,$t,Bt,Wt)},Mt.rect=function(Ct,Ot,Ut,$t){Et.rect(Ct,Ot,Ut,$t),this.__originalRect(Ct,Ot,Ut,$t)},Mt.closePath=function(){Et.closePath(),this.__originalClosePath()},Mt.beginPath=function(){Et.beginPath(),this.__originalBeginPath()}}class dt{constructor(Et){this.canvasFactory=Et,this.cache=Object.create(null)}getCanvas(Et,Ct,Ot){let Ut;return this.cache[Et]!==void 0?(Ut=this.cache[Et],this.canvasFactory.reset(Ut,Ct,Ot)):(Ut=this.canvasFactory.create(Ct,Ot),this.cache[Et]=Ut),Ut}delete(Et){delete this.cache[Et]}clear(){for(const Et in this.cache){const Ct=this.cache[Et];this.canvasFactory.destroy(Ct),delete this.cache[Et]}}}function ct(Mt,Et,Ct,Ot,Ut,$t,Bt,Wt,Gt,bt){const[wt,kt,jt,Ht,Kt,Zt]=(0,a.getCurrentTransform)(Mt);if(kt===0&&jt===0){const nn=Bt*wt+Kt,Xt=Math.round(nn),sn=Wt*Ht+Zt,ln=Math.round(sn),Vt=(Bt+Gt)*wt+Kt,cn=Math.abs(Math.round(Vt)-Xt)||1,xn=(Wt+bt)*Ht+Zt,Cn=Math.abs(Math.round(xn)-ln)||1;return Mt.setTransform(Math.sign(wt),0,0,Math.sign(Ht),Xt,ln),Mt.drawImage(Et,Ct,Ot,Ut,$t,0,0,cn,Cn),Mt.setTransform(wt,kt,jt,Ht,Kt,Zt),[cn,Cn]}if(wt===0&&Ht===0){const nn=Wt*jt+Kt,Xt=Math.round(nn),sn=Bt*kt+Zt,ln=Math.round(sn),Vt=(Wt+bt)*jt+Kt,cn=Math.abs(Math.round(Vt)-Xt)||1,xn=(Bt+Gt)*kt+Zt,Cn=Math.abs(Math.round(xn)-ln)||1;return Mt.setTransform(0,Math.sign(kt),Math.sign(jt),0,Xt,ln),Mt.drawImage(Et,Ct,Ot,Ut,$t,0,0,Cn,cn),Mt.setTransform(wt,kt,jt,Ht,Kt,Zt),[Cn,cn]}Mt.drawImage(Et,Ct,Ot,Ut,$t,Bt,Wt,Gt,bt);const rn=Math.hypot(wt,kt),qt=Math.hypot(jt,Ht);return[rn*Gt,qt*bt]}function pt(Mt){const{width:Et,height:Ct}=Mt;if(Et>ut||Ct>ut)return null;const Ot=1e3,Ut=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),$t=Et+1;let Bt=new Uint8Array($t*(Ct+1)),Wt,Gt,bt;const wt=Et+7&-8;let kt=new Uint8Array(wt*Ct),jt=0;for(const qt of Mt.data){let nn=128;for(;nn>0;)kt[jt++]=qt&nn?0:255,nn>>=1}let Ht=0;for(jt=0,kt[jt]!==0&&(Bt[0]=1,++Ht),Gt=1;Gt<Et;Gt++)kt[jt]!==kt[jt+1]&&(Bt[Gt]=kt[jt]?2:1,++Ht),jt++;for(kt[jt]!==0&&(Bt[Gt]=2,++Ht),Wt=1;Wt<Ct;Wt++){jt=Wt*wt,bt=Wt*$t,kt[jt-wt]!==kt[jt]&&(Bt[bt]=kt[jt]?1:8,++Ht);let qt=(kt[jt]?4:0)+(kt[jt-wt]?8:0);for(Gt=1;Gt<Et;Gt++)qt=(qt>>2)+(kt[jt+1]?4:0)+(kt[jt-wt+1]?8:0),Ut[qt]&&(Bt[bt+Gt]=Ut[qt],++Ht),jt++;if(kt[jt-wt]!==kt[jt]&&(Bt[bt+Gt]=kt[jt]?2:4,++Ht),Ht>Ot)return null}for(jt=wt*(Ct-1),bt=Wt*$t,kt[jt]!==0&&(Bt[bt]=8,++Ht),Gt=1;Gt<Et;Gt++)kt[jt]!==kt[jt+1]&&(Bt[bt+Gt]=kt[jt]?4:8,++Ht),jt++;if(kt[jt]!==0&&(Bt[bt+Gt]=4,++Ht),Ht>Ot)return null;const Kt=new Int32Array([0,$t,-1,0,-$t,0,0,0,1]),Zt=new Path2D;for(Wt=0;Ht&&Wt<=Ct;Wt++){let qt=Wt*$t;const nn=qt+Et;for(;qt<nn&&!Bt[qt];)qt++;if(qt===nn)continue;Zt.moveTo(qt%$t,Wt);const Xt=qt;let sn=Bt[qt];do{const ln=Kt[sn];do qt+=ln;while(!Bt[qt]);const Vt=Bt[qt];Vt!==5&&Vt!==10?(sn=Vt,Bt[qt]=0):(sn=Vt&51*sn>>4,Bt[qt]&=sn>>2|sn<<2),Zt.lineTo(qt%$t,qt/$t|0),Bt[qt]||--Ht}while(Xt!==qt);--Wt}return kt=null,Bt=null,function(qt){qt.save(),qt.scale(1/Et,-1/Ct),qt.translate(0,-Ct),qt.fill(Zt),qt.beginPath(),qt.restore()}}class at{constructor(Et,Ct){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=$.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=$.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=$.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Et,Ct])}clone(){const Et=Object.create(this);return Et.clipBox=this.clipBox.slice(),Et}setCurrentPoint(Et,Ct){this.x=Et,this.y=Ct}updatePathMinMax(Et,Ct,Ot){[Ct,Ot]=$.Util.applyTransform([Ct,Ot],Et),this.minX=Math.min(this.minX,Ct),this.minY=Math.min(this.minY,Ot),this.maxX=Math.max(this.maxX,Ct),this.maxY=Math.max(this.maxY,Ot)}updateRectMinMax(Et,Ct){const Ot=$.Util.applyTransform(Ct,Et),Ut=$.Util.applyTransform(Ct.slice(2),Et);this.minX=Math.min(this.minX,Ot[0],Ut[0]),this.minY=Math.min(this.minY,Ot[1],Ut[1]),this.maxX=Math.max(this.maxX,Ot[0],Ut[0]),this.maxY=Math.max(this.maxY,Ot[1],Ut[1])}updateScalingPathMinMax(Et,Ct){$.Util.scaleMinMax(Et,Ct),this.minX=Math.min(this.minX,Ct[0]),this.maxX=Math.max(this.maxX,Ct[1]),this.minY=Math.min(this.minY,Ct[2]),this.maxY=Math.max(this.maxY,Ct[3])}updateCurvePathMinMax(Et,Ct,Ot,Ut,$t,Bt,Wt,Gt,bt,wt){const kt=$.Util.bezierBoundingBox(Ct,Ot,Ut,$t,Bt,Wt,Gt,bt);if(wt){wt[0]=Math.min(wt[0],kt[0],kt[2]),wt[1]=Math.max(wt[1],kt[0],kt[2]),wt[2]=Math.min(wt[2],kt[1],kt[3]),wt[3]=Math.max(wt[3],kt[1],kt[3]);return}this.updateRectMinMax(Et,kt)}getPathBoundingBox(Et=j.PathType.FILL,Ct=null){const Ot=[this.minX,this.minY,this.maxX,this.maxY];if(Et===j.PathType.STROKE){Ct||(0,$.unreachable)("Stroke bounding box must include transform.");const Ut=$.Util.singularValueDecompose2dScale(Ct),$t=Ut[0]*this.lineWidth/2,Bt=Ut[1]*this.lineWidth/2;Ot[0]-=$t,Ot[1]-=Bt,Ot[2]+=$t,Ot[3]+=Bt}return Ot}updateClipFromPath(){const Et=$.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Et||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Et){this.clipBox=Et,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Et=j.PathType.FILL,Ct=null){return $.Util.intersect(this.clipBox,this.getPathBoundingBox(Et,Ct))}}function ht(Mt,Et,Ct=null){if(typeof ImageData<"u"&&Et instanceof ImageData){Mt.putImageData(Et,0,0);return}const Ot=Et.height,Ut=Et.width,$t=Ot%lt,Bt=(Ot-$t)/lt,Wt=$t===0?Bt:Bt+1,Gt=Mt.createImageData(Ut,lt);let bt=0,wt;const kt=Et.data,jt=Gt.data;let Ht,Kt,Zt,rn,qt,nn,Xt,sn;if(Ct)switch(Ct.length){case 1:qt=Ct[0],nn=Ct[0],Xt=Ct[0],sn=Ct[0];break;case 4:qt=Ct[0],nn=Ct[1],Xt=Ct[2],sn=Ct[3];break}if(Et.kind===$.ImageKind.GRAYSCALE_1BPP){const ln=kt.byteLength,Vt=new Uint32Array(jt.buffer,0,jt.byteLength>>2),cn=Vt.length,xn=Ut+7>>3;let Cn=4294967295,an=$.FeatureTest.isLittleEndian?4278190080:255;for(sn&&sn[0]===255&&sn[255]===0&&([Cn,an]=[an,Cn]),Ht=0;Ht<Wt;Ht++){for(Zt=Ht<Bt?lt:$t,wt=0,Kt=0;Kt<Zt;Kt++){const tn=ln-bt;let bn=0;const En=tn>xn?Ut:tn*8-7,pn=En&-8;let vn=0,wn=0;for(;bn<pn;bn+=8)wn=kt[bt++],Vt[wt++]=wn&128?Cn:an,Vt[wt++]=wn&64?Cn:an,Vt[wt++]=wn&32?Cn:an,Vt[wt++]=wn&16?Cn:an,Vt[wt++]=wn&8?Cn:an,Vt[wt++]=wn&4?Cn:an,Vt[wt++]=wn&2?Cn:an,Vt[wt++]=wn&1?Cn:an;for(;bn<En;bn++)vn===0&&(wn=kt[bt++],vn=128),Vt[wt++]=wn&vn?Cn:an,vn>>=1}for(;wt<cn;)Vt[wt++]=0;Mt.putImageData(Gt,0,Ht*lt)}}else if(Et.kind===$.ImageKind.RGBA_32BPP){const ln=!!(qt||nn||Xt);for(Kt=0,rn=Ut*lt*4,Ht=0;Ht<Bt;Ht++){if(jt.set(kt.subarray(bt,bt+rn)),bt+=rn,ln)for(let Vt=0;Vt<rn;Vt+=4)qt&&(jt[Vt+0]=qt[jt[Vt+0]]),nn&&(jt[Vt+1]=nn[jt[Vt+1]]),Xt&&(jt[Vt+2]=Xt[jt[Vt+2]]);Mt.putImageData(Gt,0,Kt),Kt+=lt}if(Ht<Wt){if(rn=Ut*$t*4,jt.set(kt.subarray(bt,bt+rn)),ln)for(let Vt=0;Vt<rn;Vt+=4)qt&&(jt[Vt+0]=qt[jt[Vt+0]]),nn&&(jt[Vt+1]=nn[jt[Vt+1]]),Xt&&(jt[Vt+2]=Xt[jt[Vt+2]]);Mt.putImageData(Gt,0,Kt)}}else if(Et.kind===$.ImageKind.RGB_24BPP){const ln=!!(qt||nn||Xt);for(Zt=lt,rn=Ut*Zt,Ht=0;Ht<Wt;Ht++){for(Ht>=Bt&&(Zt=$t,rn=Ut*Zt),wt=0,Kt=rn;Kt--;)jt[wt++]=kt[bt++],jt[wt++]=kt[bt++],jt[wt++]=kt[bt++],jt[wt++]=255;if(ln)for(let Vt=0;Vt<wt;Vt+=4)qt&&(jt[Vt+0]=qt[jt[Vt+0]]),nn&&(jt[Vt+1]=nn[jt[Vt+1]]),Xt&&(jt[Vt+2]=Xt[jt[Vt+2]]);Mt.putImageData(Gt,0,Ht*lt)}}else throw new Error(`bad image kind: ${Et.kind}`)}function xt(Mt,Et){if(Et.bitmap){Mt.drawImage(Et.bitmap,0,0);return}const Ct=Et.height,Ot=Et.width,Ut=Ct%lt,$t=(Ct-Ut)/lt,Bt=Ut===0?$t:$t+1,Wt=Mt.createImageData(Ot,lt);let Gt=0;const bt=Et.data,wt=Wt.data;for(let kt=0;kt<Bt;kt++){const jt=kt<$t?lt:Ut;({srcPos:Gt}=(0,_e.applyMaskImageData)({src:bt,srcPos:Gt,dest:wt,width:Ot,height:jt})),Mt.putImageData(Wt,0,kt*lt)}}function gt(Mt,Et){const Ct=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let Ot=0,Ut=Ct.length;Ot<Ut;Ot++){const $t=Ct[Ot];Mt[$t]!==void 0&&(Et[$t]=Mt[$t])}Mt.setLineDash!==void 0&&(Et.setLineDash(Mt.getLineDash()),Et.lineDashOffset=Mt.lineDashOffset)}function vt(Mt,Et){Mt.strokeStyle=Mt.fillStyle=Et||"#000000",Mt.fillRule="nonzero",Mt.globalAlpha=1,Mt.lineWidth=1,Mt.lineCap="butt",Mt.lineJoin="miter",Mt.miterLimit=10,Mt.globalCompositeOperation="source-over",Mt.font="10px sans-serif",Mt.setLineDash!==void 0&&(Mt.setLineDash([]),Mt.lineDashOffset=0)}function ft(Mt,Et,Ct,Ot){const Ut=Mt.length;for(let $t=3;$t<Ut;$t+=4){const Bt=Mt[$t];if(Bt===0)Mt[$t-3]=Et,Mt[$t-2]=Ct,Mt[$t-1]=Ot;else if(Bt<255){const Wt=255-Bt;Mt[$t-3]=Mt[$t-3]*Bt+Et*Wt>>8,Mt[$t-2]=Mt[$t-2]*Bt+Ct*Wt>>8,Mt[$t-1]=Mt[$t-1]*Bt+Ot*Wt>>8}}}function yt(Mt,Et,Ct){const Ot=Mt.length,Ut=1/255;for(let $t=3;$t<Ot;$t+=4){const Bt=Ct?Ct[Mt[$t]]:Mt[$t];Et[$t]=Et[$t]*Bt*Ut|0}}function mt(Mt,Et,Ct){const Ot=Mt.length;for(let Ut=3;Ut<Ot;Ut+=4){const $t=Mt[Ut-3]*77+Mt[Ut-2]*152+Mt[Ut-1]*28;Et[Ut]=Ct?Et[Ut]*Ct[$t>>8]>>8:Et[Ut]*$t>>16}}function St(Mt,Et,Ct,Ot,Ut,$t,Bt,Wt,Gt,bt,wt){const kt=!!$t,jt=kt?$t[0]:0,Ht=kt?$t[1]:0,Kt=kt?$t[2]:0;let Zt;Ut==="Luminosity"?Zt=mt:Zt=yt;const qt=Math.min(Ot,Math.ceil(1048576/Ct));for(let nn=0;nn<Ot;nn+=qt){const Xt=Math.min(qt,Ot-nn),sn=Mt.getImageData(Wt-bt,nn+(Gt-wt),Ct,Xt),ln=Et.getImageData(Wt,nn+Gt,Ct,Xt);kt&&ft(sn.data,jt,Ht,Kt),Zt(sn.data,ln.data,Bt),Et.putImageData(ln,Wt,nn+Gt)}}function At(Mt,Et,Ct,Ot){const Ut=Ot[0],$t=Ot[1],Bt=Ot[2]-Ut,Wt=Ot[3]-$t;Bt===0||Wt===0||(St(Et.context,Ct,Bt,Wt,Et.subtype,Et.backdrop,Et.transferMap,Ut,$t,Et.offsetX,Et.offsetY),Mt.save(),Mt.globalAlpha=1,Mt.globalCompositeOperation="source-over",Mt.setTransform(1,0,0,1,0,0),Mt.drawImage(Ct.canvas,0,0),Mt.restore())}function Ft(Mt,Et){const Ct=$.Util.singularValueDecompose2dScale(Mt);Ct[0]=Math.fround(Ct[0]),Ct[1]=Math.fround(Ct[1]);const Ot=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return Et!==void 0?Et:Ct[0]<=Ot||Ct[1]<=Ot}const Tt=["butt","round","square"],Dt=["miter","round","bevel"],It={},Rt={},zt=class{constructor(Et,Ct,Ot,Ut,$t,Bt,Wt,Gt){un(this,Nt);this.ctx=Et,this.current=new at(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ct,this.objs=Ot,this.canvasFactory=Ut,this.imageLayer=$t,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Bt,this.cachedCanvases=new dt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Wt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Gt==null?void 0:Gt.background)||null,this.foregroundColor=(Gt==null?void 0:Gt.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Et,Ct=null){return typeof Et=="string"?Et.startsWith("g_")?this.commonObjs.get(Et):this.objs.get(Et):Ct}beginDrawing({transform:Et,viewport:Ct,transparency:Ot=!1,background:Ut=null}){const $t=this.ctx.canvas.width,Bt=this.ctx.canvas.height,Wt=Ut||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Gt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const bt=this.backgroundColor=this.ctx.fillStyle;let wt=!0,kt=Wt;if(this.ctx.fillStyle=Wt,kt=this.ctx.fillStyle,wt=typeof kt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(kt),Gt==="#000000"&&bt==="#ffffff"||Gt===bt||!wt)this.foregroundColor=this.backgroundColor=null;else{const[jt,Ht,Kt]=(0,a.getRGB)(kt),Zt=qt=>(qt/=255,qt<=.03928?qt/12.92:((qt+.055)/1.055)**2.4),rn=Math.round(.2126*Zt(jt)+.7152*Zt(Ht)+.0722*Zt(Kt));this.selectColor=(qt,nn,Xt)=>{const sn=.2126*Zt(qt)+.7152*Zt(nn)+.0722*Zt(Xt);return Math.round(sn)===rn?bt:Gt}}}if(this.ctx.fillStyle=this.backgroundColor||Wt,this.ctx.fillRect(0,0,$t,Bt),this.ctx.restore(),Ot){const Gt=this.cachedCanvases.getCanvas("transparent",$t,Bt);this.compositeCtx=this.ctx,this.transparentCanvas=Gt.canvas,this.ctx=Gt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),vt(this.ctx,this.foregroundColor),Et&&(this.ctx.transform(...Et),this.outputScaleX=Et[0],this.outputScaleY=Et[0]),this.ctx.transform(...Ct.transform),this.viewportScale=Ct.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx),this.imageLayer&&((0,a.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(Et,Ct,Ot,Ut){const $t=Et.argsArray,Bt=Et.fnArray;let Wt=Ct||0;const Gt=$t.length;if(Gt===Wt)return Wt;const bt=Gt-Wt>st&&typeof Ot=="function",wt=bt?Date.now()+it:0;let kt=0;const jt=this.commonObjs,Ht=this.objs;let Kt;for(;;){if(Ut!==void 0&&Wt===Ut.nextBreakPoint)return Ut.breakIt(Wt,Ot),Wt;if(Kt=Bt[Wt],Kt!==$.OPS.dependency)this[Kt].apply(this,$t[Wt]);else for(const Zt of $t[Wt]){const rn=Zt.startsWith("g_")?jt:Ht;if(!rn.has(Zt))return rn.get(Zt,Ot),Wt}if(Wt++,Wt===Gt)return Wt;if(bt&&++kt>st){if(Date.now()>wt)return Ot(),Wt;kt=0}}}endDrawing(){hn(this,Nt,yr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Et of this._cachedBitmapsMap.values()){for(const Ct of Et.values())typeof HTMLCanvasElement<"u"&&Ct instanceof HTMLCanvasElement&&(Ct.width=Ct.height=0);Et.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(Et,Ct){const Ot=Et.width,Ut=Et.height;let $t=Math.max(Math.hypot(Ct[0],Ct[1]),1),Bt=Math.max(Math.hypot(Ct[2],Ct[3]),1),Wt=Ot,Gt=Ut,bt="prescale1",wt,kt;for(;$t>2&&Wt>1||Bt>2&&Gt>1;){let jt=Wt,Ht=Gt;$t>2&&Wt>1&&(jt=Math.ceil(Wt/2),$t/=Wt/jt),Bt>2&&Gt>1&&(Ht=Math.ceil(Gt/2),Bt/=Gt/Ht),wt=this.cachedCanvases.getCanvas(bt,jt,Ht),kt=wt.context,kt.clearRect(0,0,jt,Ht),kt.drawImage(Et,0,0,Wt,Gt,0,0,jt,Ht),Et=wt.canvas,Wt=jt,Gt=Ht,bt=bt==="prescale1"?"prescale2":"prescale1"}return{img:Et,paintWidth:Wt,paintHeight:Gt}}_createMaskCanvas(Et){const Ct=this.ctx,{width:Ot,height:Ut}=Et,$t=this.current.fillColor,Bt=this.current.patternFill,Wt=(0,a.getCurrentTransform)(Ct);let Gt,bt,wt,kt;if((Et.bitmap||Et.data)&&Et.count>1){const cn=Et.bitmap||Et.data.buffer,xn=Wt.slice(0,4);bt=JSON.stringify(Bt?xn:[xn,$t]),Gt=this._cachedBitmapsMap.get(cn),Gt||(Gt=new Map,this._cachedBitmapsMap.set(cn,Gt));const Cn=Gt.get(bt);if(Cn&&!Bt){const an=Math.round(Math.min(Wt[0],Wt[2])+Wt[4]),tn=Math.round(Math.min(Wt[1],Wt[3])+Wt[5]);return{canvas:Cn,offsetX:an,offsetY:tn}}wt=Cn}wt||(kt=this.cachedCanvases.getCanvas("maskCanvas",Ot,Ut),xt(kt.context,Et));let jt=$.Util.transform(Wt,[1/Ot,0,0,-1/Ut,0,0]);jt=$.Util.transform(jt,[1,0,0,1,0,-Ut]);const Ht=$.Util.applyTransform([0,0],jt),Kt=$.Util.applyTransform([Ot,Ut],jt),Zt=$.Util.normalizeRect([Ht[0],Ht[1],Kt[0],Kt[1]]),rn=Math.round(Zt[2]-Zt[0])||1,qt=Math.round(Zt[3]-Zt[1])||1,nn=this.cachedCanvases.getCanvas("fillCanvas",rn,qt),Xt=nn.context,sn=Math.min(Ht[0],Kt[0]),ln=Math.min(Ht[1],Kt[1]);Xt.translate(-sn,-ln),Xt.transform(...jt),wt||(wt=this._scaleImage(kt.canvas,(0,a.getCurrentTransformInverse)(Xt)),wt=wt.img,Gt&&Bt&&Gt.set(bt,wt)),Xt.imageSmoothingEnabled=Ft((0,a.getCurrentTransform)(Xt),Et.interpolate),ct(Xt,wt,0,0,wt.width,wt.height,0,0,Ot,Ut),Xt.globalCompositeOperation="source-in";const Vt=$.Util.transform((0,a.getCurrentTransformInverse)(Xt),[1,0,0,1,-sn,-ln]);return Xt.fillStyle=Bt?$t.getPattern(Ct,this,Vt,j.PathType.FILL):$t,Xt.fillRect(0,0,Ot,Ut),Gt&&!Bt&&(this.cachedCanvases.delete("fillCanvas"),Gt.set(bt,nn.canvas)),{canvas:nn.canvas,offsetX:Math.round(sn),offsetY:Math.round(ln)}}setLineWidth(Et){Et!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Et,this.ctx.lineWidth=Et}setLineCap(Et){this.ctx.lineCap=Tt[Et]}setLineJoin(Et){this.ctx.lineJoin=Dt[Et]}setMiterLimit(Et){this.ctx.miterLimit=Et}setDash(Et,Ct){const Ot=this.ctx;Ot.setLineDash!==void 0&&(Ot.setLineDash(Et),Ot.lineDashOffset=Ct)}setRenderingIntent(Et){}setFlatness(Et){}setGState(Et){for(let Ct=0,Ot=Et.length;Ct<Ot;Ct++){const Ut=Et[Ct],$t=Ut[0],Bt=Ut[1];switch($t){case"LW":this.setLineWidth(Bt);break;case"LC":this.setLineCap(Bt);break;case"LJ":this.setLineJoin(Bt);break;case"ML":this.setMiterLimit(Bt);break;case"D":this.setDash(Bt[0],Bt[1]);break;case"RI":this.setRenderingIntent(Bt);break;case"FL":this.setFlatness(Bt);break;case"Font":this.setFont(Bt[0],Bt[1]);break;case"CA":this.current.strokeAlpha=Ut[1];break;case"ca":this.current.fillAlpha=Ut[1],this.ctx.globalAlpha=Ut[1];break;case"BM":this.ctx.globalCompositeOperation=Bt;break;case"SMask":this.current.activeSMask=Bt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Bt}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Et=this.inSMaskMode;this.current.activeSMask&&!Et?this.beginSMaskMode():!this.current.activeSMask&&Et&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Et=this.ctx.canvas.width,Ct=this.ctx.canvas.height,Ot="smaskGroupAt"+this.groupLevel,Ut=this.cachedCanvases.getCanvas(Ot,Et,Ct);this.suspendedCtx=this.ctx,this.ctx=Ut.context;const $t=this.ctx;$t.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),gt(this.suspendedCtx,$t),rt($t,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Et){if(!this.current.activeSMask)return;Et?(Et[0]=Math.floor(Et[0]),Et[1]=Math.floor(Et[1]),Et[2]=Math.ceil(Et[2]),Et[3]=Math.ceil(Et[3])):Et=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ct=this.current.activeSMask,Ot=this.suspendedCtx;At(Ot,Ct,this.ctx,Et),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(gt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Et=this.current;this.stateStack.push(Et),this.current=Et.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),gt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Et,Ct,Ot,Ut,$t,Bt){this.ctx.transform(Et,Ct,Ot,Ut,$t,Bt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Et,Ct,Ot){const Ut=this.ctx,$t=this.current;let Bt=$t.x,Wt=$t.y,Gt,bt;const wt=(0,a.getCurrentTransform)(Ut),kt=wt[0]===0&&wt[3]===0||wt[1]===0&&wt[2]===0,jt=kt?Ot.slice(0):null;for(let Ht=0,Kt=0,Zt=Et.length;Ht<Zt;Ht++)switch(Et[Ht]|0){case $.OPS.rectangle:Bt=Ct[Kt++],Wt=Ct[Kt++];const rn=Ct[Kt++],qt=Ct[Kt++],nn=Bt+rn,Xt=Wt+qt;Ut.moveTo(Bt,Wt),rn===0||qt===0?Ut.lineTo(nn,Xt):(Ut.lineTo(nn,Wt),Ut.lineTo(nn,Xt),Ut.lineTo(Bt,Xt)),kt||$t.updateRectMinMax(wt,[Bt,Wt,nn,Xt]),Ut.closePath();break;case $.OPS.moveTo:Bt=Ct[Kt++],Wt=Ct[Kt++],Ut.moveTo(Bt,Wt),kt||$t.updatePathMinMax(wt,Bt,Wt);break;case $.OPS.lineTo:Bt=Ct[Kt++],Wt=Ct[Kt++],Ut.lineTo(Bt,Wt),kt||$t.updatePathMinMax(wt,Bt,Wt);break;case $.OPS.curveTo:Gt=Bt,bt=Wt,Bt=Ct[Kt+4],Wt=Ct[Kt+5],Ut.bezierCurveTo(Ct[Kt],Ct[Kt+1],Ct[Kt+2],Ct[Kt+3],Bt,Wt),$t.updateCurvePathMinMax(wt,Gt,bt,Ct[Kt],Ct[Kt+1],Ct[Kt+2],Ct[Kt+3],Bt,Wt,jt),Kt+=6;break;case $.OPS.curveTo2:Gt=Bt,bt=Wt,Ut.bezierCurveTo(Bt,Wt,Ct[Kt],Ct[Kt+1],Ct[Kt+2],Ct[Kt+3]),$t.updateCurvePathMinMax(wt,Gt,bt,Bt,Wt,Ct[Kt],Ct[Kt+1],Ct[Kt+2],Ct[Kt+3],jt),Bt=Ct[Kt+2],Wt=Ct[Kt+3],Kt+=4;break;case $.OPS.curveTo3:Gt=Bt,bt=Wt,Bt=Ct[Kt+2],Wt=Ct[Kt+3],Ut.bezierCurveTo(Ct[Kt],Ct[Kt+1],Bt,Wt,Bt,Wt),$t.updateCurvePathMinMax(wt,Gt,bt,Ct[Kt],Ct[Kt+1],Bt,Wt,Bt,Wt,jt),Kt+=4;break;case $.OPS.closePath:Ut.closePath();break}kt&&$t.updateScalingPathMinMax(wt,jt),$t.setCurrentPoint(Bt,Wt)}closePath(){this.ctx.closePath()}stroke(Et){Et=typeof Et<"u"?Et:!0;const Ct=this.ctx,Ot=this.current.strokeColor;Ct.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Ot=="object"&&(Ot!=null&&Ot.getPattern)?(Ct.save(),Ct.strokeStyle=Ot.getPattern(Ct,this,(0,a.getCurrentTransformInverse)(Ct),j.PathType.STROKE),this.rescaleAndStroke(!1),Ct.restore()):this.rescaleAndStroke(!0)),Et&&this.consumePath(this.current.getClippedPathBoundingBox()),Ct.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Et){Et=typeof Et<"u"?Et:!0;const Ct=this.ctx,Ot=this.current.fillColor,Ut=this.current.patternFill;let $t=!1;Ut&&(Ct.save(),Ct.fillStyle=Ot.getPattern(Ct,this,(0,a.getCurrentTransformInverse)(Ct),j.PathType.FILL),$t=!0);const Bt=this.current.getClippedPathBoundingBox();this.contentVisible&&Bt!==null&&(this.pendingEOFill?(Ct.fill("evenodd"),this.pendingEOFill=!1):Ct.fill()),$t&&Ct.restore(),Et&&this.consumePath(Bt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=It}eoClip(){this.pendingClip=Rt}beginText(){this.current.textMatrix=$.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Et=this.pendingTextPaths,Ct=this.ctx;if(Et===void 0){Ct.beginPath();return}Ct.save(),Ct.beginPath();for(const Ot of Et)Ct.setTransform(...Ot.transform),Ct.translate(Ot.x,Ot.y),Ot.addToPath(Ct,Ot.fontSize);Ct.restore(),Ct.clip(),Ct.beginPath(),delete this.pendingTextPaths}setCharSpacing(Et){this.current.charSpacing=Et}setWordSpacing(Et){this.current.wordSpacing=Et}setHScale(Et){this.current.textHScale=Et/100}setLeading(Et){this.current.leading=-Et}setFont(Et,Ct){const Ot=this.commonObjs.get(Et),Ut=this.current;if(!Ot)throw new Error(`Can't find font for ${Et}`);if(Ut.fontMatrix=Ot.fontMatrix||$.FONT_IDENTITY_MATRIX,(Ut.fontMatrix[0]===0||Ut.fontMatrix[3]===0)&&(0,$.warn)("Invalid font matrix for font "+Et),Ct<0?(Ct=-Ct,Ut.fontDirection=-1):Ut.fontDirection=1,this.current.font=Ot,this.current.fontSize=Ct,Ot.isType3Font)return;const $t=Ot.loadedName||"sans-serif";let Bt="normal";Ot.black?Bt="900":Ot.bold&&(Bt="bold");const Wt=Ot.italic?"italic":"normal",Gt=`"${$t}", ${Ot.fallbackName}`;let bt=Ct;Ct<tt?bt=tt:Ct>nt&&(bt=nt),this.current.fontSizeScale=Ct/bt,this.ctx.font=`${Wt} ${Bt} ${bt}px ${Gt}`}setTextRenderingMode(Et){this.current.textRenderingMode=Et}setTextRise(Et){this.current.textRise=Et}moveText(Et,Ct){this.current.x=this.current.lineX+=Et,this.current.y=this.current.lineY+=Ct}setLeadingMoveText(Et,Ct){this.setLeading(-Ct),this.moveText(Et,Ct)}setTextMatrix(Et,Ct,Ot,Ut,$t,Bt){this.current.textMatrix=[Et,Ct,Ot,Ut,$t,Bt],this.current.textMatrixScale=Math.hypot(Et,Ct),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Et,Ct,Ot,Ut){const $t=this.ctx,Bt=this.current,Wt=Bt.font,Gt=Bt.textRenderingMode,bt=Bt.fontSize/Bt.fontSizeScale,wt=Gt&$.TextRenderingMode.FILL_STROKE_MASK,kt=!!(Gt&$.TextRenderingMode.ADD_TO_PATH_FLAG),jt=Bt.patternFill&&!Wt.missingFile;let Ht;(Wt.disableFontFace||kt||jt)&&(Ht=Wt.getPathGenerator(this.commonObjs,Et)),Wt.disableFontFace||jt?($t.save(),$t.translate(Ct,Ot),$t.beginPath(),Ht($t,bt),Ut&&$t.setTransform(...Ut),(wt===$.TextRenderingMode.FILL||wt===$.TextRenderingMode.FILL_STROKE)&&$t.fill(),(wt===$.TextRenderingMode.STROKE||wt===$.TextRenderingMode.FILL_STROKE)&&$t.stroke(),$t.restore()):((wt===$.TextRenderingMode.FILL||wt===$.TextRenderingMode.FILL_STROKE)&&$t.fillText(Et,Ct,Ot),(wt===$.TextRenderingMode.STROKE||wt===$.TextRenderingMode.FILL_STROKE)&&$t.strokeText(Et,Ct,Ot)),kt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)($t),x:Ct,y:Ot,fontSize:bt,addToPath:Ht})}get isFontSubpixelAAEnabled(){const{context:Et}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Et.scale(1.5,1),Et.fillText("I",0,10);const Ct=Et.getImageData(0,0,10,10).data;let Ot=!1;for(let Ut=3;Ut<Ct.length;Ut+=4)if(Ct[Ut]>0&&Ct[Ut]<255){Ot=!0;break}return(0,$.shadow)(this,"isFontSubpixelAAEnabled",Ot)}showText(Et){const Ct=this.current,Ot=Ct.font;if(Ot.isType3Font)return this.showType3Text(Et);const Ut=Ct.fontSize;if(Ut===0)return;const $t=this.ctx,Bt=Ct.fontSizeScale,Wt=Ct.charSpacing,Gt=Ct.wordSpacing,bt=Ct.fontDirection,wt=Ct.textHScale*bt,kt=Et.length,jt=Ot.vertical,Ht=jt?1:-1,Kt=Ot.defaultVMetrics,Zt=Ut*Ct.fontMatrix[0],rn=Ct.textRenderingMode===$.TextRenderingMode.FILL&&!Ot.disableFontFace&&!Ct.patternFill;$t.save(),$t.transform(...Ct.textMatrix),$t.translate(Ct.x,Ct.y+Ct.textRise),bt>0?$t.scale(wt,-1):$t.scale(wt,1);let qt;if(Ct.patternFill){$t.save();const Vt=Ct.fillColor.getPattern($t,this,(0,a.getCurrentTransformInverse)($t),j.PathType.FILL);qt=(0,a.getCurrentTransform)($t),$t.restore(),$t.fillStyle=Vt}let nn=Ct.lineWidth;const Xt=Ct.textMatrixScale;if(Xt===0||nn===0){const Vt=Ct.textRenderingMode&$.TextRenderingMode.FILL_STROKE_MASK;(Vt===$.TextRenderingMode.STROKE||Vt===$.TextRenderingMode.FILL_STROKE)&&(nn=this.getSinglePixelWidth())}else nn/=Xt;Bt!==1&&($t.scale(Bt,Bt),nn/=Bt),$t.lineWidth=nn;let sn=0,ln;for(ln=0;ln<kt;++ln){const Vt=Et[ln];if(typeof Vt=="number"){sn+=Ht*Vt*Ut/1e3;continue}let cn=!1;const xn=(Vt.isSpace?Gt:0)+Wt,Cn=Vt.fontChar,an=Vt.accent;let tn,bn,En=Vt.width;if(jt){const vn=Vt.vmetric||Kt,wn=-(Vt.vmetric?vn[1]:En*.5)*Zt,An=vn[2]*Zt;En=vn?-vn[0]:En,tn=wn/Bt,bn=(sn+An)/Bt}else tn=sn/Bt,bn=0;if(Ot.remeasure&&En>0){const vn=$t.measureText(Cn).width*1e3/Ut*Bt;if(En<vn&&this.isFontSubpixelAAEnabled){const wn=En/vn;cn=!0,$t.save(),$t.scale(wn,1),tn/=wn}else En!==vn&&(tn+=(En-vn)/2e3*Ut/Bt)}if(this.contentVisible&&(Vt.isInFont||Ot.missingFile)){if(rn&&!an)$t.fillText(Cn,tn,bn);else if(this.paintChar(Cn,tn,bn,qt),an){const vn=tn+Ut*an.offset.x/Bt,wn=bn-Ut*an.offset.y/Bt;this.paintChar(an.fontChar,vn,wn,qt)}}let pn;jt?pn=En*Zt-xn*bt:pn=En*Zt+xn*bt,sn+=pn,cn&&$t.restore()}jt?Ct.y-=sn:Ct.x+=sn*wt,$t.restore(),this.compose()}showType3Text(Et){const Ct=this.ctx,Ot=this.current,Ut=Ot.font,$t=Ot.fontSize,Bt=Ot.fontDirection,Wt=Ut.vertical?1:-1,Gt=Ot.charSpacing,bt=Ot.wordSpacing,wt=Ot.textHScale*Bt,kt=Ot.fontMatrix||$.FONT_IDENTITY_MATRIX,jt=Et.length,Ht=Ot.textRenderingMode===$.TextRenderingMode.INVISIBLE;let Kt,Zt,rn,qt;if(!(Ht||$t===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Ct.save(),Ct.transform(...Ot.textMatrix),Ct.translate(Ot.x,Ot.y),Ct.scale(wt,Bt),Kt=0;Kt<jt;++Kt){if(Zt=Et[Kt],typeof Zt=="number"){qt=Wt*Zt*$t/1e3,this.ctx.translate(qt,0),Ot.x+=qt*wt;continue}const nn=(Zt.isSpace?bt:0)+Gt,Xt=Ut.charProcOperatorList[Zt.operatorListId];if(!Xt){(0,$.warn)(`Type3 character "${Zt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Zt,this.save(),Ct.scale($t,$t),Ct.transform(...kt),this.executeOperatorList(Xt),this.restore()),rn=$.Util.applyTransform([Zt.width,0],kt)[0]*$t+nn,Ct.translate(rn,0),Ot.x+=rn*wt}Ct.restore(),this.processingType3=null}}setCharWidth(Et,Ct){}setCharWidthAndBounds(Et,Ct,Ot,Ut,$t,Bt){this.ctx.rect(Ot,Ut,$t-Ot,Bt-Ut),this.ctx.clip(),this.endPath()}getColorN_Pattern(Et){let Ct;if(Et[0]==="TilingPattern"){const Ot=Et[1],Ut=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),$t={createCanvasGraphics:Bt=>new zt(Bt,this.commonObjs,this.objs,this.canvasFactory)};Ct=new j.TilingPattern(Et,Ot,this.ctx,$t,Ut)}else Ct=this._getPattern(Et[1],Et[2]);return Ct}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Et,Ct,Ot){var $t;const Ut=(($t=this.selectColor)==null?void 0:$t.call(this,Et,Ct,Ot))||$.Util.makeHexColor(Et,Ct,Ot);this.ctx.strokeStyle=Ut,this.current.strokeColor=Ut}setFillRGBColor(Et,Ct,Ot){var $t;const Ut=(($t=this.selectColor)==null?void 0:$t.call(this,Et,Ct,Ot))||$.Util.makeHexColor(Et,Ct,Ot);this.ctx.fillStyle=Ut,this.current.fillColor=Ut,this.current.patternFill=!1}_getPattern(Et,Ct=null){let Ot;return this.cachedPatterns.has(Et)?Ot=this.cachedPatterns.get(Et):(Ot=(0,j.getShadingPattern)(this.objs.get(Et)),this.cachedPatterns.set(Et,Ot)),Ct&&(Ot.matrix=Ct),Ot}shadingFill(Et){if(!this.contentVisible)return;const Ct=this.ctx;this.save();const Ot=this._getPattern(Et);Ct.fillStyle=Ot.getPattern(Ct,this,(0,a.getCurrentTransformInverse)(Ct),j.PathType.SHADING);const Ut=(0,a.getCurrentTransformInverse)(Ct);if(Ut){const $t=Ct.canvas,Bt=$t.width,Wt=$t.height,Gt=$.Util.applyTransform([0,0],Ut),bt=$.Util.applyTransform([0,Wt],Ut),wt=$.Util.applyTransform([Bt,0],Ut),kt=$.Util.applyTransform([Bt,Wt],Ut),jt=Math.min(Gt[0],bt[0],wt[0],kt[0]),Ht=Math.min(Gt[1],bt[1],wt[1],kt[1]),Kt=Math.max(Gt[0],bt[0],wt[0],kt[0]),Zt=Math.max(Gt[1],bt[1],wt[1],kt[1]);this.ctx.fillRect(jt,Ht,Kt-jt,Zt-Ht)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,$.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,$.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Et,Ct){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Et)&&Et.length===6&&this.transform(...Et),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),Ct)){const Ot=Ct[2]-Ct[0],Ut=Ct[3]-Ct[1];this.ctx.rect(Ct[0],Ct[1],Ot,Ut),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),Ct),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Et){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ct=this.ctx;Et.isolated||(0,$.info)("TODO: Support non-isolated groups."),Et.knockout&&(0,$.warn)("Knockout groups not supported.");const Ot=(0,a.getCurrentTransform)(Ct);if(Et.matrix&&Ct.transform(...Et.matrix),!Et.bbox)throw new Error("Bounding box is required.");let Ut=$.Util.getAxialAlignedBoundingBox(Et.bbox,(0,a.getCurrentTransform)(Ct));const $t=[0,0,Ct.canvas.width,Ct.canvas.height];Ut=$.Util.intersect(Ut,$t)||[0,0,0,0];const Bt=Math.floor(Ut[0]),Wt=Math.floor(Ut[1]);let Gt=Math.max(Math.ceil(Ut[2])-Bt,1),bt=Math.max(Math.ceil(Ut[3])-Wt,1),wt=1,kt=1;Gt>ot&&(wt=Gt/ot,Gt=ot),bt>ot&&(kt=bt/ot,bt=ot),this.current.startNewPathAndClipBox([0,0,Gt,bt]);let jt="groupAt"+this.groupLevel;Et.smask&&(jt+="_smask_"+this.smaskCounter++%2);const Ht=this.cachedCanvases.getCanvas(jt,Gt,bt),Kt=Ht.context;Kt.scale(1/wt,1/kt),Kt.translate(-Bt,-Wt),Kt.transform(...Ot),Et.smask?this.smaskStack.push({canvas:Ht.canvas,context:Kt,offsetX:Bt,offsetY:Wt,scaleX:wt,scaleY:kt,subtype:Et.smask.subtype,backdrop:Et.smask.backdrop,transferMap:Et.smask.transferMap||null,startTransformInverse:null}):(Ct.setTransform(1,0,0,1,0,0),Ct.translate(Bt,Wt),Ct.scale(wt,kt),Ct.save()),gt(Ct,Kt),this.ctx=Kt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ct),this.groupLevel++}endGroup(Et){if(!this.contentVisible)return;this.groupLevel--;const Ct=this.ctx,Ot=this.groupStack.pop();if(this.ctx=Ot,this.ctx.imageSmoothingEnabled=!1,Et.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ut=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ut);const $t=$.Util.getAxialAlignedBoundingBox([0,0,Ct.canvas.width,Ct.canvas.height],Ut);this.ctx.drawImage(Ct.canvas,0,0),this.ctx.restore(),this.compose($t)}}beginAnnotation(Et,Ct,Ot,Ut,$t){if(hn(this,Nt,yr).call(this),vt(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Ct)&&Ct.length===4){const Bt=Ct[2]-Ct[0],Wt=Ct[3]-Ct[1];if($t&&this.annotationCanvasMap){Ot=Ot.slice(),Ot[4]-=Ct[0],Ot[5]-=Ct[1],Ct=Ct.slice(),Ct[0]=Ct[1]=0,Ct[2]=Bt,Ct[3]=Wt;const[Gt,bt]=$.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:wt}=this,kt=Math.ceil(Bt*this.outputScaleX*wt),jt=Math.ceil(Wt*this.outputScaleY*wt);this.annotationCanvas=this.canvasFactory.create(kt,jt);const{canvas:Ht,context:Kt}=this.annotationCanvas;this.annotationCanvasMap.set(Et,Ht),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Kt,this.ctx.setTransform(Gt,0,0,-bt,0,Wt*bt),vt(this.ctx,this.foregroundColor)}else vt(this.ctx,this.foregroundColor),this.ctx.rect(Ct[0],Ct[1],Bt,Wt),this.ctx.clip(),this.endPath()}this.current=new at(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Ot),this.transform(...Ut)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Et){if(!this.contentVisible)return;const Ct=Et.count;Et=this.getObject(Et.data,Et),Et.count=Ct;const Ot=this.ctx,Ut=this.processingType3;if(Ut&&(Ut.compiled===void 0&&(Ut.compiled=pt(Et)),Ut.compiled)){Ut.compiled(Ot);return}const $t=this._createMaskCanvas(Et),Bt=$t.canvas;Ot.save(),Ot.setTransform(1,0,0,1,0,0),Ot.drawImage(Bt,$t.offsetX,$t.offsetY),Ot.restore(),this.compose()}paintImageMaskXObjectRepeat(Et,Ct,Ot=0,Ut=0,$t,Bt){if(!this.contentVisible)return;Et=this.getObject(Et.data,Et);const Wt=this.ctx;Wt.save();const Gt=(0,a.getCurrentTransform)(Wt);Wt.transform(Ct,Ot,Ut,$t,0,0);const bt=this._createMaskCanvas(Et);Wt.setTransform(1,0,0,1,0,0);for(let wt=0,kt=Bt.length;wt<kt;wt+=2){const jt=$.Util.transform(Gt,[Ct,Ot,Ut,$t,Bt[wt],Bt[wt+1]]),[Ht,Kt]=$.Util.applyTransform([0,0],jt);Wt.drawImage(bt.canvas,Ht,Kt)}Wt.restore(),this.compose()}paintImageMaskXObjectGroup(Et){if(!this.contentVisible)return;const Ct=this.ctx,Ot=this.current.fillColor,Ut=this.current.patternFill;for(const $t of Et){const{data:Bt,width:Wt,height:Gt,transform:bt}=$t,wt=this.cachedCanvases.getCanvas("maskCanvas",Wt,Gt),kt=wt.context;kt.save();const jt=this.getObject(Bt,$t);xt(kt,jt),kt.globalCompositeOperation="source-in",kt.fillStyle=Ut?Ot.getPattern(kt,this,(0,a.getCurrentTransformInverse)(Ct),j.PathType.FILL):Ot,kt.fillRect(0,0,Wt,Gt),kt.restore(),Ct.save(),Ct.transform(...bt),Ct.scale(1,-1),ct(Ct,wt.canvas,0,0,Wt,Gt,0,-1,1,1),Ct.restore()}this.compose()}paintImageXObject(Et){if(!this.contentVisible)return;const Ct=this.getObject(Et);if(!Ct){(0,$.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Ct)}paintImageXObjectRepeat(Et,Ct,Ot,Ut){if(!this.contentVisible)return;const $t=this.getObject(Et);if(!$t){(0,$.warn)("Dependent image isn't ready yet");return}const Bt=$t.width,Wt=$t.height,Gt=[];for(let bt=0,wt=Ut.length;bt<wt;bt+=2)Gt.push({transform:[Ct,0,0,Ot,Ut[bt],Ut[bt+1]],x:0,y:0,w:Bt,h:Wt});this.paintInlineImageXObjectGroup($t,Gt)}paintInlineImageXObject(Et){if(!this.contentVisible)return;const Ct=Et.width,Ot=Et.height,Ut=this.ctx;this.save(),Ut.scale(1/Ct,-1/Ot);let $t;if(typeof HTMLElement=="function"&&Et instanceof HTMLElement||!Et.data)$t=Et;else{const bt=this.cachedCanvases.getCanvas("inlineImage",Ct,Ot),wt=bt.context;ht(wt,Et,this.current.transferMaps),$t=bt.canvas}const Bt=this._scaleImage($t,(0,a.getCurrentTransformInverse)(Ut));Ut.imageSmoothingEnabled=Ft((0,a.getCurrentTransform)(Ut),Et.interpolate);const[Wt,Gt]=ct(Ut,Bt.img,0,0,Bt.paintWidth,Bt.paintHeight,0,-Ot,Ct,Ot);if(this.imageLayer){const[bt,wt]=$.Util.applyTransform([0,-Ot],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:Et,left:bt,top:wt,width:Wt,height:Gt})}this.compose(),this.restore()}paintInlineImageXObjectGroup(Et,Ct){if(!this.contentVisible)return;const Ot=this.ctx,Ut=Et.width,$t=Et.height,Bt=this.cachedCanvases.getCanvas("inlineImage",Ut,$t),Wt=Bt.context;ht(Wt,Et,this.current.transferMaps);for(const Gt of Ct){if(Ot.save(),Ot.transform(...Gt.transform),Ot.scale(1,-1),ct(Ot,Bt.canvas,Gt.x,Gt.y,Gt.w,Gt.h,0,-1,1,1),this.imageLayer){const[bt,wt]=$.Util.applyTransform([Gt.x,Gt.y],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:Et,left:bt,top:wt,width:Ut,height:$t})}Ot.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Et){}markPointProps(Et,Ct){}beginMarkedContent(Et){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Et,Ct){Et==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ct)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Et){const Ct=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Et);const Ot=this.ctx;this.pendingClip&&(Ct||(this.pendingClip===Rt?Ot.clip("evenodd"):Ot.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Ot.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Et=(0,a.getCurrentTransform)(this.ctx);if(Et[1]===0&&Et[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Et[0]),Math.abs(Et[3]));else{const Ct=Math.abs(Et[0]*Et[3]-Et[2]*Et[1]),Ot=Math.hypot(Et[0],Et[2]),Ut=Math.hypot(Et[1],Et[3]);this._cachedGetSinglePixelWidth=Math.max(Ot,Ut)/Ct}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Et}=this.current,Ct=(0,a.getCurrentTransform)(this.ctx);let Ot,Ut;if(Ct[1]===0&&Ct[2]===0){const $t=Math.abs(Ct[0]),Bt=Math.abs(Ct[3]);if(Et===0)Ot=1/$t,Ut=1/Bt;else{const Wt=$t*Et,Gt=Bt*Et;Ot=Wt<1?1/Wt:1,Ut=Gt<1?1/Gt:1}}else{const $t=Math.abs(Ct[0]*Ct[3]-Ct[2]*Ct[1]),Bt=Math.hypot(Ct[0],Ct[1]),Wt=Math.hypot(Ct[2],Ct[3]);if(Et===0)Ot=Wt/$t,Ut=Bt/$t;else{const Gt=Et*$t;Ot=Wt>Gt?Wt/Gt:1,Ut=Bt>Gt?Bt/Gt:1}}this._cachedScaleForStroking=[Ot,Ut]}return this._cachedScaleForStroking}rescaleAndStroke(Et){const{ctx:Ct}=this,{lineWidth:Ot}=this.current,[Ut,$t]=this.getScaleForStroking();if(Ct.lineWidth=Ot||1,Ut===1&&$t===1){Ct.stroke();return}let Bt,Wt,Gt;Et&&(Bt=(0,a.getCurrentTransform)(Ct),Wt=Ct.getLineDash().slice(),Gt=Ct.lineDashOffset),Ct.scale(Ut,$t);const bt=Math.max(Ut,$t);Ct.setLineDash(Ct.getLineDash().map(wt=>wt/bt)),Ct.lineDashOffset/=bt,Ct.stroke(),Et&&(Ct.setTransform(...Bt),Ct.setLineDash(Wt),Ct.lineDashOffset=Gt)}isContentVisible(){for(let Et=this.markedContentStack.length-1;Et>=0;Et--)if(!this.markedContentStack[Et].visible)return!1;return!0}};let Pt=zt;Nt=new WeakSet,yr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},o.CanvasGraphics=Pt;for(const Mt in $.OPS)Pt.prototype[Mt]!==void 0&&(Pt.prototype[$.OPS[Mt]]=Pt.prototype[Mt])},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TilingPattern=o.PathType=void 0,o.getShadingPattern=lt;var a=i(1),$=i(8),j=i(3);const _e={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};o.PathType=_e;function et(ct,pt){if(!pt||j.isNodeJS)return;const at=pt[2]-pt[0],ht=pt[3]-pt[1],xt=new Path2D;xt.rect(pt[0],pt[1],at,ht),ct.clip(xt)}class tt{constructor(){this.constructor===tt&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class nt extends tt{constructor(pt){super(),this._type=pt[1],this._bbox=pt[2],this._colorStops=pt[3],this._p0=pt[4],this._p1=pt[5],this._r0=pt[6],this._r1=pt[7],this.matrix=null}_createGradient(pt){let at;this._type==="axial"?at=pt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(at=pt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ht of this._colorStops)at.addColorStop(ht[0],ht[1]);return at}getPattern(pt,at,ht,xt){let gt;if(xt===_e.STROKE||xt===_e.FILL){const vt=at.current.getClippedPathBoundingBox(xt,(0,$.getCurrentTransform)(pt))||[0,0,0,0],ft=Math.ceil(vt[2]-vt[0])||1,yt=Math.ceil(vt[3]-vt[1])||1,mt=at.cachedCanvases.getCanvas("pattern",ft,yt,!0),St=mt.context;St.clearRect(0,0,St.canvas.width,St.canvas.height),St.beginPath(),St.rect(0,0,St.canvas.width,St.canvas.height),St.translate(-vt[0],-vt[1]),ht=a.Util.transform(ht,[1,0,0,1,vt[0],vt[1]]),St.transform(...at.baseTransform),this.matrix&&St.transform(...this.matrix),et(St,this._bbox),St.fillStyle=this._createGradient(St),St.fill(),gt=pt.createPattern(mt.canvas,"no-repeat");const At=new DOMMatrix(ht);try{gt.setTransform(At)}catch(Ft){(0,a.warn)(`RadialAxialShadingPattern.getPattern: "${Ft==null?void 0:Ft.message}".`)}}else et(pt,this._bbox),gt=this._createGradient(pt);return gt}}function ot(ct,pt,at,ht,xt,gt,vt,ft){const yt=pt.coords,mt=pt.colors,St=ct.data,At=ct.width*4;let Ft;yt[at+1]>yt[ht+1]&&(Ft=at,at=ht,ht=Ft,Ft=gt,gt=vt,vt=Ft),yt[ht+1]>yt[xt+1]&&(Ft=ht,ht=xt,xt=Ft,Ft=vt,vt=ft,ft=Ft),yt[at+1]>yt[ht+1]&&(Ft=at,at=ht,ht=Ft,Ft=gt,gt=vt,vt=Ft);const Tt=(yt[at]+pt.offsetX)*pt.scaleX,Dt=(yt[at+1]+pt.offsetY)*pt.scaleY,It=(yt[ht]+pt.offsetX)*pt.scaleX,Rt=(yt[ht+1]+pt.offsetY)*pt.scaleY,Pt=(yt[xt]+pt.offsetX)*pt.scaleX,Nt=(yt[xt+1]+pt.offsetY)*pt.scaleY;if(Dt>=Nt)return;const Lt=mt[gt],zt=mt[gt+1],Mt=mt[gt+2],Et=mt[vt],Ct=mt[vt+1],Ot=mt[vt+2],Ut=mt[ft],$t=mt[ft+1],Bt=mt[ft+2],Wt=Math.round(Dt),Gt=Math.round(Nt);let bt,wt,kt,jt,Ht,Kt,Zt,rn;for(let qt=Wt;qt<=Gt;qt++){if(qt<Rt){let Vt;qt<Dt?Vt=0:Vt=(Dt-qt)/(Dt-Rt),bt=Tt-(Tt-It)*Vt,wt=Lt-(Lt-Et)*Vt,kt=zt-(zt-Ct)*Vt,jt=Mt-(Mt-Ot)*Vt}else{let Vt;qt>Nt?Vt=1:Rt===Nt?Vt=0:Vt=(Rt-qt)/(Rt-Nt),bt=It-(It-Pt)*Vt,wt=Et-(Et-Ut)*Vt,kt=Ct-(Ct-$t)*Vt,jt=Ot-(Ot-Bt)*Vt}let nn;qt<Dt?nn=0:qt>Nt?nn=1:nn=(Dt-qt)/(Dt-Nt),Ht=Tt-(Tt-Pt)*nn,Kt=Lt-(Lt-Ut)*nn,Zt=zt-(zt-$t)*nn,rn=Mt-(Mt-Bt)*nn;const Xt=Math.round(Math.min(bt,Ht)),sn=Math.round(Math.max(bt,Ht));let ln=At*qt+Xt*4;for(let Vt=Xt;Vt<=sn;Vt++)nn=(bt-Vt)/(bt-Ht),nn<0?nn=0:nn>1&&(nn=1),St[ln++]=wt-(wt-Kt)*nn|0,St[ln++]=kt-(kt-Zt)*nn|0,St[ln++]=jt-(jt-rn)*nn|0,St[ln++]=255}}function it(ct,pt,at){const ht=pt.coords,xt=pt.colors;let gt,vt;switch(pt.type){case"lattice":const ft=pt.verticesPerRow,yt=Math.floor(ht.length/ft)-1,mt=ft-1;for(gt=0;gt<yt;gt++){let St=gt*ft;for(let At=0;At<mt;At++,St++)ot(ct,at,ht[St],ht[St+1],ht[St+ft],xt[St],xt[St+1],xt[St+ft]),ot(ct,at,ht[St+ft+1],ht[St+1],ht[St+ft],xt[St+ft+1],xt[St+1],xt[St+ft])}break;case"triangles":for(gt=0,vt=ht.length;gt<vt;gt+=3)ot(ct,at,ht[gt],ht[gt+1],ht[gt+2],xt[gt],xt[gt+1],xt[gt+2]);break;default:throw new Error("illegal figure")}}class st extends tt{constructor(pt){super(),this._coords=pt[2],this._colors=pt[3],this._figures=pt[4],this._bounds=pt[5],this._bbox=pt[7],this._background=pt[8],this.matrix=null}_createMeshCanvas(pt,at,ht){const ft=Math.floor(this._bounds[0]),yt=Math.floor(this._bounds[1]),mt=Math.ceil(this._bounds[2])-ft,St=Math.ceil(this._bounds[3])-yt,At=Math.min(Math.ceil(Math.abs(mt*pt[0]*1.1)),3e3),Ft=Math.min(Math.ceil(Math.abs(St*pt[1]*1.1)),3e3),Tt=mt/At,Dt=St/Ft,It={coords:this._coords,colors:this._colors,offsetX:-ft,offsetY:-yt,scaleX:1/Tt,scaleY:1/Dt},Rt=At+2*2,Pt=Ft+2*2,Nt=ht.getCanvas("mesh",Rt,Pt,!1),Lt=Nt.context,zt=Lt.createImageData(At,Ft);if(at){const Et=zt.data;for(let Ct=0,Ot=Et.length;Ct<Ot;Ct+=4)Et[Ct]=at[0],Et[Ct+1]=at[1],Et[Ct+2]=at[2],Et[Ct+3]=255}for(const Et of this._figures)it(zt,Et,It);return Lt.putImageData(zt,2,2),{canvas:Nt.canvas,offsetX:ft-2*Tt,offsetY:yt-2*Dt,scaleX:Tt,scaleY:Dt}}getPattern(pt,at,ht,xt){et(pt,this._bbox);let gt;if(xt===_e.SHADING)gt=a.Util.singularValueDecompose2dScale((0,$.getCurrentTransform)(pt));else if(gt=a.Util.singularValueDecompose2dScale(at.baseTransform),this.matrix){const ft=a.Util.singularValueDecompose2dScale(this.matrix);gt=[gt[0]*ft[0],gt[1]*ft[1]]}const vt=this._createMeshCanvas(gt,xt===_e.SHADING?null:this._background,at.cachedCanvases);return xt!==_e.SHADING&&(pt.setTransform(...at.baseTransform),this.matrix&&pt.transform(...this.matrix)),pt.translate(vt.offsetX,vt.offsetY),pt.scale(vt.scaleX,vt.scaleY),pt.createPattern(vt.canvas,"no-repeat")}}class ut extends tt{getPattern(){return"hotpink"}}function lt(ct){switch(ct[0]){case"RadialAxial":return new nt(ct);case"Mesh":return new st(ct);case"Dummy":return new ut}throw new Error(`Unknown IR type: ${ct[0]}`)}const rt={COLORED:1,UNCOLORED:2};class dt{static get MAX_PATTERN_SIZE(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(pt,at,ht,xt,gt){this.operatorList=pt[2],this.matrix=pt[3]||[1,0,0,1,0,0],this.bbox=pt[4],this.xstep=pt[5],this.ystep=pt[6],this.paintType=pt[7],this.tilingType=pt[8],this.color=at,this.ctx=ht,this.canvasGraphicsFactory=xt,this.baseTransform=gt}createPatternCanvas(pt){const at=this.operatorList,ht=this.bbox,xt=this.xstep,gt=this.ystep,vt=this.paintType,ft=this.tilingType,yt=this.color,mt=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+ft);const St=ht[0],At=ht[1],Ft=ht[2],Tt=ht[3],Dt=a.Util.singularValueDecompose2dScale(this.matrix),It=a.Util.singularValueDecompose2dScale(this.baseTransform),Rt=[Dt[0]*It[0],Dt[1]*It[1]],Pt=this.getSizeAndScale(xt,this.ctx.canvas.width,Rt[0]),Nt=this.getSizeAndScale(gt,this.ctx.canvas.height,Rt[1]),Lt=pt.cachedCanvases.getCanvas("pattern",Pt.size,Nt.size,!0),zt=Lt.context,Mt=mt.createCanvasGraphics(zt);Mt.groupLevel=pt.groupLevel,this.setFillAndStrokeStyleToContext(Mt,vt,yt);let Et=St,Ct=At,Ot=Ft,Ut=Tt;return St<0&&(Et=0,Ot+=Math.abs(St)),At<0&&(Ct=0,Ut+=Math.abs(At)),zt.translate(-(Pt.scale*Et),-(Nt.scale*Ct)),Mt.transform(Pt.scale,0,0,Nt.scale,0,0),zt.save(),this.clipBbox(Mt,Et,Ct,Ot,Ut),Mt.baseTransform=(0,$.getCurrentTransform)(Mt.ctx),Mt.executeOperatorList(at),Mt.endDrawing(),{canvas:Lt.canvas,scaleX:Pt.scale,scaleY:Nt.scale,offsetX:Et,offsetY:Ct}}getSizeAndScale(pt,at,ht){pt=Math.abs(pt);const xt=Math.max(dt.MAX_PATTERN_SIZE,at);let gt=Math.ceil(pt*ht);return gt>=xt?gt=xt:ht=gt/pt,{scale:ht,size:gt}}clipBbox(pt,at,ht,xt,gt){const vt=xt-at,ft=gt-ht;pt.ctx.rect(at,ht,vt,ft),pt.current.updateRectMinMax((0,$.getCurrentTransform)(pt.ctx),[at,ht,xt,gt]),pt.clip(),pt.endPath()}setFillAndStrokeStyleToContext(pt,at,ht){const xt=pt.ctx,gt=pt.current;switch(at){case rt.COLORED:const vt=this.ctx;xt.fillStyle=vt.fillStyle,xt.strokeStyle=vt.strokeStyle,gt.fillColor=vt.fillStyle,gt.strokeColor=vt.strokeStyle;break;case rt.UNCOLORED:const ft=a.Util.makeHexColor(ht[0],ht[1],ht[2]);xt.fillStyle=ft,xt.strokeStyle=ft,gt.fillColor=ft,gt.strokeColor=ft;break;default:throw new a.FormatError(`Unsupported paint type: ${at}`)}}getPattern(pt,at,ht,xt){let gt=ht;xt!==_e.SHADING&&(gt=a.Util.transform(gt,at.baseTransform),this.matrix&&(gt=a.Util.transform(gt,this.matrix)));const vt=this.createPatternCanvas(at);let ft=new DOMMatrix(gt);ft=ft.translate(vt.offsetX,vt.offsetY),ft=ft.scale(1/vt.scaleX,1/vt.scaleY);const yt=pt.createPattern(vt.canvas,"repeat");try{yt.setTransform(ft)}catch(mt){(0,a.warn)(`TilingPattern.getPattern: "${mt==null?void 0:mt.message}".`)}return yt}}o.TilingPattern=dt},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.applyMaskImageData=$;var a=i(1);function $({src:j,srcPos:_e=0,dest:et,destPos:tt=0,width:nt,height:ot,inverseDecode:it=!1}){const st=a.FeatureTest.isLittleEndian?4278190080:255,[ut,lt]=it?[0,st]:[st,0],rt=nt>>3,dt=nt&7,ct=j.length;et=new Uint32Array(et.buffer);for(let pt=0;pt<ot;pt++){for(const ht=_e+rt;_e<ht;_e++){const xt=_e<ct?j[_e]:255;et[tt++]=xt&128?lt:ut,et[tt++]=xt&64?lt:ut,et[tt++]=xt&32?lt:ut,et[tt++]=xt&16?lt:ut,et[tt++]=xt&8?lt:ut,et[tt++]=xt&4?lt:ut,et[tt++]=xt&2?lt:ut,et[tt++]=xt&1?lt:ut}if(dt===0)continue;const at=_e<ct?j[_e++]:255;for(let ht=0;ht<dt;ht++)et[tt++]=at&1<<7-ht?lt:ut}return{srcPos:_e,destPos:tt}}},(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalWorkerOptions=void 0;const i=Object.create(null);o.GlobalWorkerOptions=i,i.workerPort=i.workerPort===void 0?null:i.workerPort,i.workerSrc=i.workerSrc===void 0?"":i.workerSrc},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MessageHandler=void 0;var a=i(1);const $={UNKNOWN:0,DATA:1,ERROR:2},j={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _e(tt){switch(tt instanceof Error||typeof tt=="object"&&tt!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),tt.name){case"AbortException":return new a.AbortException(tt.message);case"MissingPDFException":return new a.MissingPDFException(tt.message);case"PasswordException":return new a.PasswordException(tt.message,tt.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(tt.message,tt.status);case"UnknownErrorException":return new a.UnknownErrorException(tt.message,tt.details);default:return new a.UnknownErrorException(tt.message,tt.toString())}}class et{constructor(nt,ot,it){this.sourceName=nt,this.targetName=ot,this.comObj=it,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=st=>{const ut=st.data;if(ut.targetName!==this.sourceName)return;if(ut.stream){this._processStreamMessage(ut);return}if(ut.callback){const rt=ut.callbackId,dt=this.callbackCapabilities[rt];if(!dt)throw new Error(`Cannot resolve callback ${rt}`);if(delete this.callbackCapabilities[rt],ut.callback===$.DATA)dt.resolve(ut.data);else if(ut.callback===$.ERROR)dt.reject(_e(ut.reason));else throw new Error("Unexpected callback case");return}const lt=this.actionHandler[ut.action];if(!lt)throw new Error(`Unknown action from worker: ${ut.action}`);if(ut.callbackId){const rt=this.sourceName,dt=ut.sourceName;new Promise(function(ct){ct(lt(ut.data))}).then(function(ct){it.postMessage({sourceName:rt,targetName:dt,callback:$.DATA,callbackId:ut.callbackId,data:ct})},function(ct){it.postMessage({sourceName:rt,targetName:dt,callback:$.ERROR,callbackId:ut.callbackId,reason:_e(ct)})});return}if(ut.streamId){this._createStreamSink(ut);return}lt(ut.data)},it.addEventListener("message",this._onComObjOnMessage)}on(nt,ot){const it=this.actionHandler;if(it[nt])throw new Error(`There is already an actionName called "${nt}"`);it[nt]=ot}send(nt,ot,it){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,data:ot},it)}sendWithPromise(nt,ot,it){const st=this.callbackId++,ut=(0,a.createPromiseCapability)();this.callbackCapabilities[st]=ut;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:nt,callbackId:st,data:ot},it)}catch(lt){ut.reject(lt)}return ut.promise}sendWithStream(nt,ot,it,st){const ut=this.streamId++,lt=this.sourceName,rt=this.targetName,dt=this.comObj;return new ReadableStream({start:ct=>{const pt=(0,a.createPromiseCapability)();return this.streamControllers[ut]={controller:ct,startCall:pt,pullCall:null,cancelCall:null,isClosed:!1},dt.postMessage({sourceName:lt,targetName:rt,action:nt,streamId:ut,data:ot,desiredSize:ct.desiredSize},st),pt.promise},pull:ct=>{const pt=(0,a.createPromiseCapability)();return this.streamControllers[ut].pullCall=pt,dt.postMessage({sourceName:lt,targetName:rt,stream:j.PULL,streamId:ut,desiredSize:ct.desiredSize}),pt.promise},cancel:ct=>{(0,a.assert)(ct instanceof Error,"cancel must have a valid reason");const pt=(0,a.createPromiseCapability)();return this.streamControllers[ut].cancelCall=pt,this.streamControllers[ut].isClosed=!0,dt.postMessage({sourceName:lt,targetName:rt,stream:j.CANCEL,streamId:ut,reason:_e(ct)}),pt.promise}},it)}_createStreamSink(nt){const ot=nt.streamId,it=this.sourceName,st=nt.sourceName,ut=this.comObj,lt=this,rt=this.actionHandler[nt.action],dt={enqueue(ct,pt=1,at){if(this.isCancelled)return;const ht=this.desiredSize;this.desiredSize-=pt,ht>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),ut.postMessage({sourceName:it,targetName:st,stream:j.ENQUEUE,streamId:ot,chunk:ct},at)},close(){this.isCancelled||(this.isCancelled=!0,ut.postMessage({sourceName:it,targetName:st,stream:j.CLOSE,streamId:ot}),delete lt.streamSinks[ot])},error(ct){(0,a.assert)(ct instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ut.postMessage({sourceName:it,targetName:st,stream:j.ERROR,streamId:ot,reason:_e(ct)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:nt.desiredSize,ready:null};dt.sinkCapability.resolve(),dt.ready=dt.sinkCapability.promise,this.streamSinks[ot]=dt,new Promise(function(ct){ct(rt(nt.data,dt))}).then(function(){ut.postMessage({sourceName:it,targetName:st,stream:j.START_COMPLETE,streamId:ot,success:!0})},function(ct){ut.postMessage({sourceName:it,targetName:st,stream:j.START_COMPLETE,streamId:ot,reason:_e(ct)})})}_processStreamMessage(nt){const ot=nt.streamId,it=this.sourceName,st=nt.sourceName,ut=this.comObj,lt=this.streamControllers[ot],rt=this.streamSinks[ot];switch(nt.stream){case j.START_COMPLETE:nt.success?lt.startCall.resolve():lt.startCall.reject(_e(nt.reason));break;case j.PULL_COMPLETE:nt.success?lt.pullCall.resolve():lt.pullCall.reject(_e(nt.reason));break;case j.PULL:if(!rt){ut.postMessage({sourceName:it,targetName:st,stream:j.PULL_COMPLETE,streamId:ot,success:!0});break}rt.desiredSize<=0&&nt.desiredSize>0&&rt.sinkCapability.resolve(),rt.desiredSize=nt.desiredSize,new Promise(function(dt){dt(rt.onPull&&rt.onPull())}).then(function(){ut.postMessage({sourceName:it,targetName:st,stream:j.PULL_COMPLETE,streamId:ot,success:!0})},function(dt){ut.postMessage({sourceName:it,targetName:st,stream:j.PULL_COMPLETE,streamId:ot,reason:_e(dt)})});break;case j.ENQUEUE:if((0,a.assert)(lt,"enqueue should have stream controller"),lt.isClosed)break;lt.controller.enqueue(nt.chunk);break;case j.CLOSE:if((0,a.assert)(lt,"close should have stream controller"),lt.isClosed)break;lt.isClosed=!0,lt.controller.close(),this._deleteStreamController(lt,ot);break;case j.ERROR:(0,a.assert)(lt,"error should have stream controller"),lt.controller.error(_e(nt.reason)),this._deleteStreamController(lt,ot);break;case j.CANCEL_COMPLETE:nt.success?lt.cancelCall.resolve():lt.cancelCall.reject(_e(nt.reason)),this._deleteStreamController(lt,ot);break;case j.CANCEL:if(!rt)break;new Promise(function(dt){dt(rt.onCancel&&rt.onCancel(_e(nt.reason)))}).then(function(){ut.postMessage({sourceName:it,targetName:st,stream:j.CANCEL_COMPLETE,streamId:ot,success:!0})},function(dt){ut.postMessage({sourceName:it,targetName:st,stream:j.CANCEL_COMPLETE,streamId:ot,reason:_e(dt)})}),rt.sinkCapability.reject(_e(nt.reason)),rt.isCancelled=!0,delete this.streamSinks[ot];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(nt,ot){await Promise.allSettled([nt.startCall&&nt.startCall.promise,nt.pullCall&&nt.pullCall.promise,nt.cancelCall&&nt.cancelCall.promise]),delete this.streamControllers[ot]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}o.MessageHandler=et},(s,o,i)=>{var j,_e;Object.defineProperty(o,"__esModule",{value:!0}),o.Metadata=void 0;var a=i(1);class ${constructor({parsedData:tt,rawData:nt}){un(this,j,void 0);un(this,_e,void 0);_n(this,j,tt),_n(this,_e,nt)}getRaw(){return Yt(this,_e)}get(tt){return Yt(this,j).get(tt)??null}getAll(){return(0,a.objectFromMap)(Yt(this,j))}has(tt){return Yt(this,j).has(tt)}}j=new WeakMap,_e=new WeakMap,o.Metadata=$},(s,o,i)=>{var et,tt,nt,ot,it,st,vr;Object.defineProperty(o,"__esModule",{value:!0}),o.OptionalContentConfig=void 0;var a=i(1);const $=Symbol("INTERNAL");class j{constructor(rt,dt){un(this,et,!0);this.name=rt,this.intent=dt}get visible(){return Yt(this,et)}_setVisible(rt,dt){rt!==$&&(0,a.unreachable)("Internal method `_setVisible` called."),_n(this,et,dt)}}et=new WeakMap;class _e{constructor(rt){un(this,st);un(this,tt,!0);un(this,nt,new Map);un(this,ot,null);un(this,it,null);if(this.name=null,this.creator=null,rt!==null){this.name=rt.name,this.creator=rt.creator,_n(this,it,rt.order);for(const dt of rt.groups)Yt(this,nt).set(dt.id,new j(dt.name,dt.intent));if(rt.baseState==="OFF")for(const dt of Yt(this,nt).values())dt._setVisible($,!1);for(const dt of rt.on)Yt(this,nt).get(dt)._setVisible($,!0);for(const dt of rt.off)Yt(this,nt).get(dt)._setVisible($,!1);_n(this,ot,new Map);for(const[dt,ct]of Yt(this,nt))Yt(this,ot).set(dt,ct.visible)}}isVisible(rt){if(Yt(this,nt).size===0)return!0;if(!rt)return(0,a.warn)("Optional content group not defined."),!0;if(rt.type==="OCG")return Yt(this,nt).has(rt.id)?Yt(this,nt).get(rt.id).visible:((0,a.warn)(`Optional content group not found: ${rt.id}`),!0);if(rt.type==="OCMD"){if(rt.expression)return hn(this,st,vr).call(this,rt.expression);if(!rt.policy||rt.policy==="AnyOn"){for(const dt of rt.ids){if(!Yt(this,nt).has(dt))return(0,a.warn)(`Optional content group not found: ${dt}`),!0;if(Yt(this,nt).get(dt).visible)return!0}return!1}else if(rt.policy==="AllOn"){for(const dt of rt.ids){if(!Yt(this,nt).has(dt))return(0,a.warn)(`Optional content group not found: ${dt}`),!0;if(!Yt(this,nt).get(dt).visible)return!1}return!0}else if(rt.policy==="AnyOff"){for(const dt of rt.ids){if(!Yt(this,nt).has(dt))return(0,a.warn)(`Optional content group not found: ${dt}`),!0;if(!Yt(this,nt).get(dt).visible)return!0}return!1}else if(rt.policy==="AllOff"){for(const dt of rt.ids){if(!Yt(this,nt).has(dt))return(0,a.warn)(`Optional content group not found: ${dt}`),!0;if(Yt(this,nt).get(dt).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${rt.policy}.`),!0}return(0,a.warn)(`Unknown group type ${rt.type}.`),!0}setVisibility(rt,dt=!0){if(!Yt(this,nt).has(rt)){(0,a.warn)(`Optional content group not found: ${rt}`);return}Yt(this,nt).get(rt)._setVisible($,!!dt),_n(this,tt,null)}get hasInitialVisibility(){if(Yt(this,tt)!==null)return Yt(this,tt);for(const[rt,dt]of Yt(this,nt)){const ct=Yt(this,ot).get(rt);if(dt.visible!==ct)return _n(this,tt,!1)}return _n(this,tt,!0)}getOrder(){return Yt(this,nt).size?Yt(this,it)?Yt(this,it).slice():[...Yt(this,nt).keys()]:null}getGroups(){return Yt(this,nt).size>0?(0,a.objectFromMap)(Yt(this,nt)):null}getGroup(rt){return Yt(this,nt).get(rt)||null}}tt=new WeakMap,nt=new WeakMap,ot=new WeakMap,it=new WeakMap,st=new WeakSet,vr=function(rt){const dt=rt.length;if(dt<2)return!0;const ct=rt[0];for(let pt=1;pt<dt;pt++){const at=rt[pt];let ht;if(Array.isArray(at))ht=hn(this,st,vr).call(this,at);else if(Yt(this,nt).has(at))ht=Yt(this,nt).get(at).visible;else return(0,a.warn)(`Optional content group not found: ${at}`),!0;switch(ct){case"And":if(!ht)return!1;break;case"Or":if(ht)return!0;break;case"Not":return!ht;default:return!0}}return ct==="And"},o.OptionalContentConfig=_e},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFDataTransportStream=void 0;var a=i(1),$=i(8);class j{constructor(nt,ot){(0,a.assert)(ot,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=nt.progressiveDone||!1,this._contentDispositionFilename=nt.contentDispositionFilename||null;const it=nt.initialData;if((it==null?void 0:it.length)>0){const st=new Uint8Array(it).buffer;this._queuedChunks.push(st)}this._pdfDataRangeTransport=ot,this._isStreamingSupported=!nt.disableStream,this._isRangeSupported=!nt.disableRange,this._contentLength=nt.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((st,ut)=>{this._onReceiveData({begin:st,chunk:ut})}),this._pdfDataRangeTransport.addProgressListener((st,ut)=>{this._onProgress({loaded:st,total:ut})}),this._pdfDataRangeTransport.addProgressiveReadListener(st=>{this._onReceiveData({chunk:st})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(nt){const ot=new Uint8Array(nt.chunk).buffer;if(nt.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ot):this._queuedChunks.push(ot);else{const it=this._rangeReaders.some(function(st){return st._begin!==nt.begin?!1:(st._enqueue(ot),!0)});(0,a.assert)(it,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var nt;return((nt=this._fullRequestReader)==null?void 0:nt._loaded)??0}_onProgress(nt){if(nt.total===void 0){const ot=this._rangeReaders[0];ot!=null&&ot.onProgress&&ot.onProgress({loaded:nt.loaded})}else{const ot=this._fullRequestReader;ot!=null&&ot.onProgress&&ot.onProgress({loaded:nt.loaded,total:nt.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(nt){const ot=this._rangeReaders.indexOf(nt);ot>=0&&this._rangeReaders.splice(ot,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const nt=this._queuedChunks;return this._queuedChunks=null,new _e(this,nt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(nt,ot){if(ot<=this._progressiveDataLength)return null;const it=new et(this,nt,ot);return this._pdfDataRangeTransport.requestDataRange(nt,ot),this._rangeReaders.push(it),it}cancelAllRequests(nt){this._fullRequestReader&&this._fullRequestReader.cancel(nt);for(const ot of this._rangeReaders.slice(0))ot.cancel(nt);this._pdfDataRangeTransport.abort()}}o.PDFDataTransportStream=j;class _e{constructor(nt,ot,it=!1,st=null){this._stream=nt,this._done=it||!1,this._filename=(0,$.isPdfFile)(st)?st:null,this._queuedChunks=ot||[],this._loaded=0;for(const ut of this._queuedChunks)this._loaded+=ut.byteLength;this._requests=[],this._headersReady=Promise.resolve(),nt._fullRequestReader=this,this.onProgress=null}_enqueue(nt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:nt,done:!1}):this._queuedChunks.push(nt),this._loaded+=nt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const nt=(0,a.createPromiseCapability)();return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0;for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class et{constructor(nt,ot,it){this._stream=nt,this._begin=ot,this._end=it,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(nt){if(!this._done){if(this._requests.length===0)this._queuedChunk=nt;else{this._requests.shift().resolve({value:nt,done:!1});for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ot=this._queuedChunk;return this._queuedChunk=null,{value:ot,done:!1}}if(this._done)return{value:void 0,done:!0};const nt=(0,a.createPromiseCapability)();return this._requests.push(nt),nt.promise}cancel(nt){this._done=!0;for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaText=void 0;class i{static textContent($){const j=[],_e={items:j,styles:Object.create(null)};function et(tt){var it;if(!tt)return;let nt=null;const ot=tt.name;if(ot==="#text")nt=tt.value;else if(i.shouldBuildText(ot))(it=tt==null?void 0:tt.attributes)!=null&&it.textContent?nt=tt.attributes.textContent:tt.value&&(nt=tt.value);else return;if(nt!==null&&j.push({str:nt}),!!tt.children)for(const st of tt.children)et(st)}return et($),_e}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}o.XfaText=i},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NodeStandardFontDataFactory=o.NodeCanvasFactory=o.NodeCMapReaderFactory=void 0;var a=i(9);const $=function(tt){return new Promise((nt,ot)=>{require$$5.readFile(tt,(st,ut)=>{if(st||!ut){ot(new Error(st));return}nt(new Uint8Array(ut))})})};class j extends a.BaseCanvasFactory{_createCanvas(nt,ot){return require$$5.createCanvas(nt,ot)}}o.NodeCanvasFactory=j;class _e extends a.BaseCMapReaderFactory{_fetchData(nt,ot){return $(nt).then(it=>({cMapData:it,compressionType:ot}))}}o.NodeCMapReaderFactory=_e;class et extends a.BaseStandardFontDataFactory{_fetchData(nt){return $(nt)}}o.NodeStandardFontDataFactory=et},(s,o,i)=>{var tt,nt,ot,it,st,ut,lt,rt,dt,xr,pt,Or,ht,br,gt,Fr;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayer=void 0;var a=i(7),$=i(1),j=i(23),_e=i(24);const ft=class{constructor(mt){un(this,dt);un(this,pt);un(this,ht);un(this,gt);un(this,tt,void 0);un(this,nt,!1);un(this,ot,this.pointerup.bind(this));un(this,it,this.pointerdown.bind(this));un(this,st,new Map);un(this,ut,!1);un(this,lt,!1);un(this,rt,void 0);ft._initialized||(ft._initialized=!0,j.FreeTextEditor.initialize(mt.l10n),_e.InkEditor.initialize(mt.l10n),mt.uiManager.registerEditorTypes([j.FreeTextEditor,_e.InkEditor])),_n(this,rt,mt.uiManager),this.annotationStorage=mt.annotationStorage,this.pageIndex=mt.pageIndex,this.div=mt.div,_n(this,tt,mt.accessibilityManager),Yt(this,rt).addLayer(this)}updateToolbar(mt){Yt(this,rt).updateToolbar(mt)}updateMode(mt=Yt(this,rt).getMode()){hn(this,gt,Fr).call(this),mt===$.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Yt(this,rt).unselectAll()}addInkEditorIfNeeded(mt){if(!mt&&Yt(this,rt).getMode()!==$.AnnotationEditorType.INK)return;if(!mt){for(const At of Yt(this,st).values())if(At.isEmpty()){At.setInBackground();return}}hn(this,ht,br).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(mt){Yt(this,rt).setEditingState(mt)}addCommands(mt){Yt(this,rt).addCommands(mt)}enable(){this.div.style.pointerEvents="auto";for(const mt of Yt(this,st).values())mt.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const mt of Yt(this,st).values())mt.disableEditing()}setActiveEditor(mt){Yt(this,rt).getActive()!==mt&&Yt(this,rt).setActiveEditor(mt)}enableClick(){this.div.addEventListener("pointerdown",Yt(this,it)),this.div.addEventListener("pointerup",Yt(this,ot))}disableClick(){this.div.removeEventListener("pointerdown",Yt(this,it)),this.div.removeEventListener("pointerup",Yt(this,ot))}attach(mt){Yt(this,st).set(mt.id,mt)}detach(mt){var St;Yt(this,st).delete(mt.id),(St=Yt(this,tt))==null||St.removePointerInTextLayer(mt.contentDiv)}remove(mt){Yt(this,rt).removeEditor(mt),this.detach(mt),this.annotationStorage.remove(mt.id),mt.div.style.display="none",setTimeout(()=>{mt.div.style.display="",mt.div.remove(),mt.isAttachedToDOM=!1,document.activeElement===document.body&&Yt(this,rt).focusMainContainer()},0),Yt(this,lt)||this.addInkEditorIfNeeded(!1)}add(mt){if(hn(this,dt,xr).call(this,mt),Yt(this,rt).addEditor(mt),this.attach(mt),!mt.isAttachedToDOM){const St=mt.render();this.div.append(St),mt.isAttachedToDOM=!0}this.moveEditorInDOM(mt),mt.onceAdded(),this.addToAnnotationStorage(mt)}moveEditorInDOM(mt){var St;(St=Yt(this,tt))==null||St.moveElementInDOM(this.div,mt.div,mt.contentDiv,!0)}addToAnnotationStorage(mt){!mt.isEmpty()&&!this.annotationStorage.has(mt.id)&&this.annotationStorage.setValue(mt.id,mt)}addOrRebuild(mt){mt.needsToBeRebuilt()?mt.rebuild():this.add(mt)}addANewEditor(mt){const St=()=>{this.addOrRebuild(mt)},At=()=>{mt.remove()};this.addCommands({cmd:St,undo:At,mustExec:!0})}addUndoableEditor(mt){const St=()=>{this.addOrRebuild(mt)},At=()=>{mt.remove()};this.addCommands({cmd:St,undo:At,mustExec:!1})}getNextId(){return Yt(this,rt).getId()}deserialize(mt){switch(mt.annotationType){case $.AnnotationEditorType.FREETEXT:return j.FreeTextEditor.deserialize(mt,this);case $.AnnotationEditorType.INK:return _e.InkEditor.deserialize(mt,this)}return null}setSelected(mt){Yt(this,rt).setSelected(mt)}toggleSelected(mt){Yt(this,rt).toggleSelected(mt)}isSelected(mt){return Yt(this,rt).isSelected(mt)}unselect(mt){Yt(this,rt).unselect(mt)}pointerup(mt){const St=a.KeyboardManager.platform.isMac;if(!(mt.button!==0||mt.ctrlKey&&St)&&mt.target===this.div&&Yt(this,ut)){if(_n(this,ut,!1),!Yt(this,nt)){_n(this,nt,!0);return}hn(this,ht,br).call(this,mt)}}pointerdown(mt){const St=a.KeyboardManager.platform.isMac;if(mt.button!==0||mt.ctrlKey&&St||mt.target!==this.div)return;_n(this,ut,!0);const At=Yt(this,rt).getActive();_n(this,nt,!At||At.isEmpty())}drop(mt){const St=mt.dataTransfer.getData("text/plain"),At=Yt(this,rt).getEditor(St);if(!At)return;mt.preventDefault(),mt.dataTransfer.dropEffect="move",hn(this,dt,xr).call(this,At);const Ft=this.div.getBoundingClientRect(),Tt=mt.clientX-Ft.x,Dt=mt.clientY-Ft.y;At.translate(Tt-At.startX,Dt-At.startY),this.moveEditorInDOM(At),At.div.focus()}dragover(mt){mt.preventDefault()}destroy(){var mt,St;((mt=Yt(this,rt).getActive())==null?void 0:mt.parent)===this&&Yt(this,rt).setActiveEditor(null);for(const At of Yt(this,st).values())(St=Yt(this,tt))==null||St.removePointerInTextLayer(At.contentDiv),At.isAttachedToDOM=!1,At.div.remove(),At.parent=null;this.div=null,Yt(this,st).clear(),Yt(this,rt).removeLayer(this)}render(mt){this.viewport=mt.viewport,(0,a.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const St of Yt(this,rt).getEditors(this.pageIndex))this.add(St);this.updateMode()}update(mt){this.viewport=mt.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[mt,St,At,Ft]=this.viewport.viewBox,Tt=At-mt,Dt=Ft-St;return[Tt,Dt]}get viewportBaseDimensions(){const{width:mt,height:St,rotation:At}=this.viewport;return At%180===0?[mt,St]:[St,mt]}setDimensions(){const{width:mt,height:St,rotation:At}=this.viewport,Ft=At%180!==0,Tt=Math.floor(mt)+"px",Dt=Math.floor(St)+"px";this.div.style.width=Ft?Dt:Tt,this.div.style.height=Ft?Tt:Dt,this.div.setAttribute("data-main-rotation",At)}};let et=ft;tt=new WeakMap,nt=new WeakMap,ot=new WeakMap,it=new WeakMap,st=new WeakMap,ut=new WeakMap,lt=new WeakMap,rt=new WeakMap,dt=new WeakSet,xr=function(mt){var St;mt.parent!==this&&(this.attach(mt),mt.pageIndex=this.pageIndex,(St=mt.parent)==null||St.detach(mt),mt.parent=this,mt.div&&mt.isAttachedToDOM&&(mt.div.remove(),this.div.append(mt.div)))},pt=new WeakSet,Or=function(mt){switch(Yt(this,rt).getMode()){case $.AnnotationEditorType.FREETEXT:return new j.FreeTextEditor(mt);case $.AnnotationEditorType.INK:return new _e.InkEditor(mt)}return null},ht=new WeakSet,br=function(mt){const St=this.getNextId(),At=hn(this,pt,Or).call(this,{parent:this,id:St,x:mt.offsetX,y:mt.offsetY});return At&&this.add(At),At},gt=new WeakSet,Fr=function(){_n(this,lt,!0);for(const mt of Yt(this,st).values())mt.isEmpty()&&mt.remove();_n(this,lt,!1)},Wn(et,"_initialized",!1),o.AnnotationEditorLayer=et},(s,o,i)=>{var et,tt,nt,ot,it,st,ut,lt,jr,dt,Lr,pt,Br,ht,_r;Object.defineProperty(o,"__esModule",{value:!0}),o.FreeTextEditor=void 0;var a=i(1),$=i(7),j=i(6);const gt=class extends j.AnnotationEditor{constructor(yt){super({...yt,name:"freeTextEditor"});un(this,lt);un(this,dt);un(this,pt);un(this,ht);un(this,et,this.editorDivBlur.bind(this));un(this,tt,this.editorDivFocus.bind(this));un(this,nt,this.editorDivKeydown.bind(this));un(this,ot,void 0);un(this,it,"");un(this,st,!1);un(this,ut,void 0);_n(this,ot,yt.color||gt._defaultColor||j.AnnotationEditor._defaultLineColor),_n(this,ut,yt.fontSize||gt._defaultFontSize)}static initialize(yt){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(St=>[St,yt.get(St)]));const mt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(mt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(yt,mt){switch(yt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:gt._defaultFontSize=mt;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:gt._defaultColor=mt;break}}updateParams(yt,mt){switch(yt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:hn(this,lt,jr).call(this,mt);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:hn(this,dt,Lr).call(this,mt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,gt._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,gt._defaultColor||j.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,Yt(this,ut)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,Yt(this,ot)]]}getInitialTranslation(){return[-gt._internalPadding*this.parent.scaleFactor,-(gt._internalPadding+Yt(this,ut))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",Yt(this,nt)),this.editorDiv.addEventListener("focus",Yt(this,tt)),this.editorDiv.addEventListener("blur",Yt(this,et)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",Yt(this,nt)),this.editorDiv.removeEventListener("focus",Yt(this,tt)),this.editorDiv.removeEventListener("blur",Yt(this,et)),this.div.focus(),this.isEditing=!1)}focusin(yt){super.focusin(yt),yt.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),Yt(this,st)||(_n(this,st,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_n(this,it,hn(this,pt,Br).call(this).trimEnd()),hn(this,ht,_r).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(yt){this.enableEditMode(),this.editorDiv.focus()}keydown(yt){yt.target===this.div&&yt.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(yt){gt._keyboardManager.exec(this,yt)}editorDivFocus(yt){this.isEditing=!0}editorDivBlur(yt){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let yt,mt;this.width&&(yt=this.x,mt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),gt._l10nPromise.get("editor_free_text_aria_label").then(At=>{var Ft;return(Ft=this.editorDiv)==null?void 0:Ft.setAttribute("aria-label",At)}),gt._l10nPromise.get("free_text_default_content").then(At=>{var Ft;return(Ft=this.editorDiv)==null?void 0:Ft.setAttribute("default-content",At)}),this.editorDiv.contentEditable=!0;const{style:St}=this.editorDiv;if(St.fontSize=`calc(${Yt(this,ut)}px * var(--scale-factor))`,St.color=Yt(this,ot),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,$.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[At,Ft]=this.parent.viewportBaseDimensions;this.setAt(yt*At,mt*Ft,this.width*At,this.height*Ft);for(const Tt of Yt(this,it).split(`
`)){const Dt=document.createElement("div");Dt.append(Tt?document.createTextNode(Tt):document.createElement("br")),this.editorDiv.append(Dt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(yt,mt){const St=super.deserialize(yt,mt);return _n(St,ut,yt.fontSize),_n(St,ot,a.Util.makeHexColor(...yt.color)),_n(St,it,yt.value),St}serialize(){if(this.isEmpty())return null;const yt=gt._internalPadding*this.parent.scaleFactor,mt=this.getRect(yt,yt),St=j.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:a.AnnotationEditorType.FREETEXT,color:St,fontSize:Yt(this,ut),value:Yt(this,it),pageIndex:this.parent.pageIndex,rect:mt,rotation:this.rotation}}};let _e=gt;et=new WeakMap,tt=new WeakMap,nt=new WeakMap,ot=new WeakMap,it=new WeakMap,st=new WeakMap,ut=new WeakMap,lt=new WeakSet,jr=function(yt){const mt=At=>{this.editorDiv.style.fontSize=`calc(${At}px * var(--scale-factor))`,this.translate(0,-(At-Yt(this,ut))*this.parent.scaleFactor),_n(this,ut,At),hn(this,ht,_r).call(this)},St=Yt(this,ut);this.parent.addCommands({cmd:()=>{mt(yt)},undo:()=>{mt(St)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},dt=new WeakSet,Lr=function(yt){const mt=Yt(this,ot);this.parent.addCommands({cmd:()=>{_n(this,ot,yt),this.editorDiv.style.color=yt},undo:()=>{_n(this,ot,mt),this.editorDiv.style.color=mt},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},pt=new WeakSet,Br=function(){const yt=this.editorDiv.getElementsByTagName("div");if(yt.length===0)return this.editorDiv.innerText;const mt=[];for(let St=0,At=yt.length;St<At;St++){const Tt=yt[St].firstChild;(Tt==null?void 0:Tt.nodeName)==="#text"?mt.push(Tt.data):mt.push("")}return mt.join(`
`)},ht=new WeakSet,_r=function(){const[yt,mt]=this.parent.viewportBaseDimensions,St=this.div.getBoundingClientRect();this.width=St.width/yt,this.height=St.height/mt},Wn(_e,"_freeTextDefaultContent",""),Wn(_e,"_l10nPromise"),Wn(_e,"_internalPadding",0),Wn(_e,"_defaultColor",null),Wn(_e,"_defaultFontSize",10),Wn(_e,"_keyboardManager",new $.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],gt.prototype.commitOrRemove]])),Wn(_e,"_type","freetext"),o.FreeTextEditor=_e},(s,o,i)=>{var nt,ot,it,st,ut,lt,rt,dt,ct,pt,at,ht,xt,gt,vt,Ur,yt,Wr,St,Hr,Ft,zr,Dt,Cr,Rt,Vr,Nt,Yr,zt,Gr,Et,Qn,Ot,Er,$t,or,Wt,ir,bt,Zn,kt,Sr,Ht,ar,Zt,Tr,qt,Kr,Xt,qr,ln,Xr,cn,wr,Cn,lr,tn,er,En,kr;Object.defineProperty(o,"__esModule",{value:!0}),o.InkEditor=void 0,Object.defineProperty(o,"fitCurve",{enumerable:!0,get:function(){return j.fitCurve}});var a=i(1),$=i(6),j=i(25),_e=i(7);const et=16,vn=class extends $.AnnotationEditor{constructor(on){super({...on,name:"inkEditor"});un(this,vt);un(this,yt);un(this,St);un(this,Ft);un(this,Dt);un(this,Rt);un(this,Nt);un(this,zt);un(this,Et);un(this,Ot);un(this,$t);un(this,Wt);un(this,bt);un(this,kt);un(this,Ht);un(this,qt);un(this,Xt);un(this,ln);un(this,cn);un(this,Cn);un(this,tn);un(this,En);un(this,nt,0);un(this,ot,0);un(this,it,0);un(this,st,this.canvasPointermove.bind(this));un(this,ut,this.canvasPointerleave.bind(this));un(this,lt,this.canvasPointerup.bind(this));un(this,rt,this.canvasPointerdown.bind(this));un(this,dt,!1);un(this,ct,!1);un(this,pt,null);un(this,at,null);un(this,ht,0);un(this,xt,0);un(this,gt,null);this.color=on.color||null,this.thickness=on.thickness||null,this.opacity=on.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(on){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(dn=>[dn,on.get(dn)]))}static updateDefaultParams(on,dn){switch(on){case a.AnnotationEditorParamsType.INK_THICKNESS:vn._defaultThickness=dn;break;case a.AnnotationEditorParamsType.INK_COLOR:vn._defaultColor=dn;break;case a.AnnotationEditorParamsType.INK_OPACITY:vn._defaultOpacity=dn/100;break}}updateParams(on,dn){switch(on){case a.AnnotationEditorParamsType.INK_THICKNESS:hn(this,vt,Ur).call(this,dn);break;case a.AnnotationEditorParamsType.INK_COLOR:hn(this,yt,Wr).call(this,dn);break;case a.AnnotationEditorParamsType.INK_OPACITY:hn(this,St,Hr).call(this,dn);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,vn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,vn._defaultColor||$.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(vn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||vn._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||vn._defaultColor||$.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??vn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(hn(this,$t,or).call(this),hn(this,Wt,ir).call(this)),this.isAttachedToDOM||(this.parent.add(this),hn(this,bt,Zn).call(this)),hn(this,tn,er).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Yt(this,at).disconnect(),_n(this,at,null),super.remove())}enableEditMode(){Yt(this,dt)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",Yt(this,rt)),this.canvas.addEventListener("pointerup",Yt(this,lt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Yt(this,rt)),this.canvas.removeEventListener("pointerup",Yt(this,lt)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Yt(this,dt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_n(this,dt,!0),this.div.classList.add("disabled"),hn(this,tn,er).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(on){super.focusin(on),this.enableEditMode()}canvasPointerdown(on){on.button!==0||!this.isInEditMode()||Yt(this,dt)||(this.setInForeground(),on.type!=="mouse"&&this.div.focus(),on.stopPropagation(),this.canvas.addEventListener("pointerleave",Yt(this,ut)),this.canvas.addEventListener("pointermove",Yt(this,st)),hn(this,Rt,Vr).call(this,on.offsetX,on.offsetY))}canvasPointermove(on){on.stopPropagation(),hn(this,Nt,Yr).call(this,on.offsetX,on.offsetY)}canvasPointerup(on){on.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(on.stopPropagation(),hn(this,Ot,Er).call(this,on),this.setInBackground())}canvasPointerleave(on){hn(this,Ot,Er).call(this,on),this.setInBackground()}render(){if(this.div)return this.div;let on,dn;this.width&&(on=this.x,dn=this.y),super.render(),vn._l10nPromise.get("editor_ink_aria_label").then(mn=>{var Sn;return(Sn=this.div)==null?void 0:Sn.setAttribute("aria-label",mn)});const[en,Qt,Jt,fn]=hn(this,Ft,zr).call(this);if(this.setAt(en,Qt,0,0),this.setDims(Jt,fn),hn(this,$t,or).call(this),this.width){const[mn,Sn]=this.parent.viewportBaseDimensions;this.setAt(on*mn,dn*Sn,this.width*mn,this.height*Sn),_n(this,ct,!0),hn(this,bt,Zn).call(this),this.setDims(this.width*mn,this.height*Sn),hn(this,Et,Qn).call(this),hn(this,En,kr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return hn(this,Wt,ir).call(this),this.div}setDimensions(on,dn){const en=Math.round(on),Qt=Math.round(dn);if(Yt(this,ht)===en&&Yt(this,xt)===Qt)return;_n(this,ht,en),_n(this,xt,Qt),this.canvas.style.visibility="hidden",Yt(this,nt)&&Math.abs(Yt(this,nt)-on/dn)>.01&&(dn=Math.ceil(on/Yt(this,nt)),this.setDims(on,dn));const[Jt,fn]=this.parent.viewportBaseDimensions;this.width=on/Jt,this.height=dn/fn,Yt(this,dt)&&hn(this,kt,Sr).call(this,on,dn),hn(this,bt,Zn).call(this),hn(this,Et,Qn).call(this),this.canvas.style.visibility="visible"}static deserialize(on,dn){var Fn,Nn;const en=super.deserialize(on,dn);en.thickness=on.thickness,en.color=a.Util.makeHexColor(...on.color),en.opacity=on.opacity;const[Qt,Jt]=dn.pageDimensions,fn=en.width*Qt,mn=en.height*Jt,Sn=dn.scaleFactor,kn=on.thickness/2;_n(en,nt,fn/mn),_n(en,dt,!0),_n(en,ht,Math.round(fn)),_n(en,xt,Math.round(mn));for(const{bezier:Rn}of on.paths){const Ln=[];en.paths.push(Ln);let jn=Sn*(Rn[0]-kn),Hn=Sn*(mn-Rn[1]-kn);for(let Bn=2,Vn=Rn.length;Bn<Vn;Bn+=6){const Kn=Sn*(Rn[Bn]-kn),gn=Sn*(mn-Rn[Bn+1]-kn),Dn=Sn*(Rn[Bn+2]-kn),In=Sn*(mn-Rn[Bn+3]-kn),$n=Sn*(Rn[Bn+4]-kn),Yn=Sn*(mn-Rn[Bn+5]-kn);Ln.push([[jn,Hn],[Kn,gn],[Dn,In],[$n,Yn]]),jn=$n,Hn=Yn}const On=hn(this,Zt,Tr).call(this,Ln);en.bezierPath2D.push(On)}const Mn=hn(Fn=en,cn,wr).call(Fn);return _n(en,it,Math.max(et,Mn[2]-Mn[0])),_n(en,ot,Math.max(et,Mn[3]-Mn[1])),hn(Nn=en,kt,Sr).call(Nn,fn,mn),en}serialize(){if(this.isEmpty())return null;const on=this.getRect(0,0),dn=this.rotation%180===0?on[3]-on[1]:on[2]-on[0],en=$.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:en,thickness:this.thickness,opacity:this.opacity,paths:hn(this,qt,Kr).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,dn),pageIndex:this.parent.pageIndex,rect:on,rotation:this.rotation}}};let tt=vn;nt=new WeakMap,ot=new WeakMap,it=new WeakMap,st=new WeakMap,ut=new WeakMap,lt=new WeakMap,rt=new WeakMap,dt=new WeakMap,ct=new WeakMap,pt=new WeakMap,at=new WeakMap,ht=new WeakMap,xt=new WeakMap,gt=new WeakMap,vt=new WeakSet,Ur=function(on){const dn=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=on,hn(this,tn,er).call(this)},undo:()=>{this.thickness=dn,hn(this,tn,er).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},yt=new WeakSet,Wr=function(on){const dn=this.color;this.parent.addCommands({cmd:()=>{this.color=on,hn(this,Et,Qn).call(this)},undo:()=>{this.color=dn,hn(this,Et,Qn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},St=new WeakSet,Hr=function(on){on/=100;const dn=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=on,hn(this,Et,Qn).call(this)},undo:()=>{this.opacity=dn,hn(this,Et,Qn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ft=new WeakSet,zr=function(){const{width:on,height:dn,rotation:en}=this.parent.viewport;switch(en){case 90:return[0,on,on,dn];case 180:return[on,dn,on,dn];case 270:return[dn,0,on,dn];default:return[0,0,on,dn]}},Dt=new WeakSet,Cr=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,_e.opacityToHex)(this.opacity)}`},Rt=new WeakSet,Vr=function(on,dn){this.isEditing=!0,Yt(this,ct)||(_n(this,ct,!0),hn(this,bt,Zn).call(this),this.thickness||(this.thickness=vn._defaultThickness),this.color||(this.color=vn._defaultColor||$.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=vn._defaultOpacity)),this.currentPath.push([on,dn]),_n(this,pt,null),hn(this,Dt,Cr).call(this),this.ctx.beginPath(),this.ctx.moveTo(on,dn),_n(this,gt,()=>{Yt(this,gt)&&(Yt(this,pt)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):hn(this,Et,Qn).call(this),this.ctx.lineTo(...Yt(this,pt)),_n(this,pt,null),this.ctx.stroke()),window.requestAnimationFrame(Yt(this,gt)))}),window.requestAnimationFrame(Yt(this,gt))},Nt=new WeakSet,Yr=function(on,dn){const[en,Qt]=this.currentPath.at(-1);on===en&&dn===Qt||(this.currentPath.push([on,dn]),_n(this,pt,[on,dn]))},zt=new WeakSet,Gr=function(on,dn){var kn;this.ctx.closePath(),_n(this,gt,null),on=Math.min(Math.max(on,0),this.canvas.width),dn=Math.min(Math.max(dn,0),this.canvas.height);const[en,Qt]=this.currentPath.at(-1);(on!==en||dn!==Qt)&&this.currentPath.push([on,dn]);let Jt;if(this.currentPath.length!==1)Jt=(0,j.fitCurve)(this.currentPath,30,null);else{const Mn=[on,dn];Jt=[[Mn,Mn.slice(),Mn.slice(),Mn]]}const fn=hn(kn=vn,Zt,Tr).call(kn,Jt);this.currentPath.length=0;const mn=()=>{this.paths.push(Jt),this.bezierPath2D.push(fn),this.rebuild()},Sn=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(hn(this,$t,or).call(this),hn(this,Wt,ir).call(this)),hn(this,tn,er).call(this))};this.parent.addCommands({cmd:mn,undo:Sn,mustExec:!0})},Et=new WeakSet,Qn=function(){if(this.isEmpty()){hn(this,Ht,ar).call(this);return}hn(this,Dt,Cr).call(this);const{canvas:on,ctx:dn}=this;dn.setTransform(1,0,0,1,0,0),dn.clearRect(0,0,on.width,on.height),hn(this,Ht,ar).call(this);for(const en of this.bezierPath2D)dn.stroke(en)},Ot=new WeakSet,Er=function(on){hn(this,zt,Gr).call(this,on.offsetX,on.offsetY),this.canvas.removeEventListener("pointerleave",Yt(this,ut)),this.canvas.removeEventListener("pointermove",Yt(this,st)),this.parent.addToAnnotationStorage(this)},$t=new WeakSet,or=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",vn._l10nPromise.get("editor_ink_canvas_aria_label").then(on=>{var dn;return(dn=this.canvas)==null?void 0:dn.setAttribute("aria-label",on)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Wt=new WeakSet,ir=function(){_n(this,at,new ResizeObserver(on=>{const dn=on[0].contentRect;dn.width&&dn.height&&this.setDimensions(dn.width,dn.height)})),Yt(this,at).observe(this.div)},bt=new WeakSet,Zn=function(){if(!Yt(this,ct))return;const[on,dn]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*on),this.canvas.height=Math.ceil(this.height*dn),hn(this,Ht,ar).call(this)},kt=new WeakSet,Sr=function(on,dn){const en=hn(this,Cn,lr).call(this),Qt=(on-en)/Yt(this,it),Jt=(dn-en)/Yt(this,ot);this.scaleFactor=Math.min(Qt,Jt)},Ht=new WeakSet,ar=function(){const on=hn(this,Cn,lr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+on,this.translationY*this.scaleFactor+on)},Zt=new WeakSet,Tr=function(on){const dn=new Path2D;for(let en=0,Qt=on.length;en<Qt;en++){const[Jt,fn,mn,Sn]=on[en];en===0&&dn.moveTo(...Jt),dn.bezierCurveTo(fn[0],fn[1],mn[0],mn[1],Sn[0],Sn[1])}return dn},qt=new WeakSet,Kr=function(on,dn,en,Qt){const fn=[],mn=this.thickness/2;let Sn,kn;for(const Mn of this.paths){Sn=[],kn=[];for(let Fn=0,Nn=Mn.length;Fn<Nn;Fn++){const[Rn,Ln,jn,Hn]=Mn[Fn],On=on*(Rn[0]+dn)+mn,Bn=Qt-on*(Rn[1]+en)-mn,Vn=on*(Ln[0]+dn)+mn,Kn=Qt-on*(Ln[1]+en)-mn,gn=on*(jn[0]+dn)+mn,Dn=Qt-on*(jn[1]+en)-mn,In=on*(Hn[0]+dn)+mn,$n=Qt-on*(Hn[1]+en)-mn;Fn===0&&(Sn.push(On,Bn),kn.push(On,Bn)),Sn.push(Vn,Kn,gn,Dn,In,$n),hn(this,Xt,qr).call(this,On,Bn,Vn,Kn,gn,Dn,In,$n,4,kn)}fn.push({bezier:Sn,points:kn})}return fn},Xt=new WeakSet,qr=function(on,dn,en,Qt,Jt,fn,mn,Sn,kn,Mn){if(hn(this,ln,Xr).call(this,on,dn,en,Qt,Jt,fn,mn,Sn)){Mn.push(mn,Sn);return}for(let Fn=1;Fn<kn-1;Fn++){const Nn=Fn/kn,Rn=1-Nn;let Ln=Nn*on+Rn*en,jn=Nn*dn+Rn*Qt,Hn=Nn*en+Rn*Jt,On=Nn*Qt+Rn*fn;const Bn=Nn*Jt+Rn*mn,Vn=Nn*fn+Rn*Sn;Ln=Nn*Ln+Rn*Hn,jn=Nn*jn+Rn*On,Hn=Nn*Hn+Rn*Bn,On=Nn*On+Rn*Vn,Ln=Nn*Ln+Rn*Hn,jn=Nn*jn+Rn*On,Mn.push(Ln,jn)}Mn.push(mn,Sn)},ln=new WeakSet,Xr=function(on,dn,en,Qt,Jt,fn,mn,Sn){const Mn=(3*en-2*on-mn)**2,Fn=(3*Qt-2*dn-Sn)**2,Nn=(3*Jt-on-2*mn)**2,Rn=(3*fn-dn-2*Sn)**2;return Math.max(Mn,Nn)+Math.max(Fn,Rn)<=10},cn=new WeakSet,wr=function(){let on=1/0,dn=-1/0,en=1/0,Qt=-1/0;for(const Jt of this.paths)for(const[fn,mn,Sn,kn]of Jt){const Mn=a.Util.bezierBoundingBox(...fn,...mn,...Sn,...kn);on=Math.min(on,Mn[0]),en=Math.min(en,Mn[1]),dn=Math.max(dn,Mn[2]),Qt=Math.max(Qt,Mn[3])}return[on,en,dn,Qt]},Cn=new WeakSet,lr=function(){return Yt(this,dt)?Math.ceil(this.thickness*this.parent.scaleFactor):0},tn=new WeakSet,er=function(on=!1){if(this.isEmpty())return;if(!Yt(this,dt)){hn(this,Et,Qn).call(this);return}const dn=hn(this,cn,wr).call(this),en=hn(this,Cn,lr).call(this);_n(this,it,Math.max(et,dn[2]-dn[0])),_n(this,ot,Math.max(et,dn[3]-dn[1]));const Qt=Math.ceil(en+Yt(this,it)*this.scaleFactor),Jt=Math.ceil(en+Yt(this,ot)*this.scaleFactor),[fn,mn]=this.parent.viewportBaseDimensions;this.width=Qt/fn,this.height=Jt/mn,_n(this,nt,Qt/Jt),hn(this,En,kr).call(this);const Sn=this.translationX,kn=this.translationY;this.translationX=-dn[0],this.translationY=-dn[1],hn(this,bt,Zn).call(this),hn(this,Et,Qn).call(this),_n(this,ht,Qt),_n(this,xt,Jt),this.setDims(Qt,Jt);const Mn=on?en/this.scaleFactor/2:0;this.translate(Sn-this.translationX-Mn,kn-this.translationY-Mn)},En=new WeakSet,kr=function(){const{style:on}=this.div;Yt(this,nt)>=1?(on.minHeight=`${et}px`,on.minWidth=`${Math.round(Yt(this,nt)*et)}px`):(on.minWidth=`${et}px`,on.minHeight=`${Math.round(et/Yt(this,nt))}px`)},un(tt,Zt),Wn(tt,"_defaultColor",null),Wn(tt,"_defaultOpacity",1),Wn(tt,"_defaultThickness",1),Wn(tt,"_l10nPromise"),Wn(tt,"_type","ink"),o.InkEditor=tt},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.fitCurve=void 0;const a=i(26);o.fitCurve=a},s=>{function o(lt,rt,dt){if(!Array.isArray(lt))throw new TypeError("First argument should be an array");if(lt.forEach(ht=>{if(!Array.isArray(ht)||ht.some(xt=>typeof xt!="number")||ht.length!==lt[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),lt=lt.filter((ht,xt)=>xt===0||!ht.every((gt,vt)=>gt===lt[xt-1][vt])),lt.length<2)return[];const ct=lt.length,pt=it(lt[1],lt[0]),at=it(lt[ct-2],lt[ct-1]);return i(lt,pt,at,rt,dt)}function i(lt,rt,dt,ct,pt){var ht,xt,gt,vt,ft,yt,mt,St,At,Ft,Tt,Dt,It;if(lt.length===2)return Dt=st.vectorLen(st.subtract(lt[0],lt[1]))/3,ht=[lt[0],st.addArrays(lt[0],st.mulItems(rt,Dt)),st.addArrays(lt[1],st.mulItems(dt,Dt)),lt[1]],[ht];if(xt=et(lt),[ht,vt,yt]=a(lt,xt,xt,rt,dt,pt),vt===0||vt<ct)return[ht];if(vt<ct*ct)for(gt=xt,ft=vt,mt=yt,It=0;It<20;It++){if(gt=j(ht,lt,gt),[ht,vt,yt]=a(lt,xt,gt,rt,dt,pt),vt<ct)return[ht];if(yt===mt){let Rt=vt/ft;if(Rt>.9999&&Rt<1.0001)break}ft=vt,mt=yt}return Tt=[],St=st.subtract(lt[yt-1],lt[yt+1]),St.every(Rt=>Rt===0)&&(St=st.subtract(lt[yt-1],lt[yt]),[St[0],St[1]]=[-St[1],St[0]]),At=st.normalize(St),Ft=st.mulItems(At,-1),Tt=Tt.concat(i(lt.slice(0,yt+1),rt,At,ct,pt)),Tt=Tt.concat(i(lt.slice(yt),Ft,dt,ct,pt)),Tt}function a(lt,rt,dt,ct,pt,at){var ht,xt,gt;return ht=$(lt,dt,ct,pt),[xt,gt]=tt(lt,ht,rt),at&&at({bez:ht,points:lt,params:rt,maxErr:xt,maxPoint:gt}),[ht,xt,gt]}function $(lt,rt,dt,ct){var pt,at,ht,xt,gt,vt,ft,yt,mt,St,At,Ft,Tt,Dt,It,Rt,Pt,Nt=lt[0],Lt=lt[lt.length-1];for(pt=[Nt,null,null,Lt],at=st.zeros_Xx2x2(rt.length),Tt=0,Dt=rt.length;Tt<Dt;Tt++)Rt=rt[Tt],Pt=1-Rt,ht=at[Tt],ht[0]=st.mulItems(dt,3*Rt*(Pt*Pt)),ht[1]=st.mulItems(ct,3*Pt*(Rt*Rt));for(xt=[[0,0],[0,0]],gt=[0,0],Tt=0,Dt=lt.length;Tt<Dt;Tt++)Rt=rt[Tt],ht=at[Tt],xt[0][0]+=st.dot(ht[0],ht[0]),xt[0][1]+=st.dot(ht[0],ht[1]),xt[1][0]+=st.dot(ht[0],ht[1]),xt[1][1]+=st.dot(ht[1],ht[1]),It=st.subtract(lt[Tt],ut.q([Nt,Nt,Lt,Lt],Rt)),gt[0]+=st.dot(ht[0],It),gt[1]+=st.dot(ht[1],It);return vt=xt[0][0]*xt[1][1]-xt[1][0]*xt[0][1],ft=xt[0][0]*gt[1]-xt[1][0]*gt[0],yt=gt[0]*xt[1][1]-gt[1]*xt[0][1],mt=vt===0?0:yt/vt,St=vt===0?0:ft/vt,Ft=st.vectorLen(st.subtract(Nt,Lt)),At=1e-6*Ft,mt<At||St<At?(pt[1]=st.addArrays(Nt,st.mulItems(dt,Ft/3)),pt[2]=st.addArrays(Lt,st.mulItems(ct,Ft/3))):(pt[1]=st.addArrays(Nt,st.mulItems(dt,mt)),pt[2]=st.addArrays(Lt,st.mulItems(ct,St))),pt}function j(lt,rt,dt){return dt.map((ct,pt)=>_e(lt,rt[pt],ct))}function _e(lt,rt,dt){var ct=st.subtract(ut.q(lt,dt),rt),pt=ut.qprime(lt,dt),at=st.mulMatrix(ct,pt),ht=st.sum(st.squareItems(pt))+2*st.mulMatrix(ct,ut.qprimeprime(lt,dt));return ht===0?dt:dt-at/ht}function et(lt){var rt=[],dt,ct,pt;return lt.forEach((at,ht)=>{dt=ht?ct+st.vectorLen(st.subtract(at,pt)):0,rt.push(dt),ct=dt,pt=at}),rt=rt.map(at=>at/ct),rt}function tt(lt,rt,dt){var ct,pt,at,ht,xt,gt,vt,ft;pt=0,at=Math.floor(lt.length/2);const yt=nt(rt,10);for(xt=0,gt=lt.length;xt<gt;xt++)vt=lt[xt],ft=ot(rt,dt[xt],yt,10),ht=st.subtract(ut.q(rt,ft),vt),ct=ht[0]*ht[0]+ht[1]*ht[1],ct>pt&&(pt=ct,at=xt);return[pt,at]}var nt=function(lt,rt){for(var dt,ct=[0],pt=lt[0],at=0,ht=1;ht<=rt;ht++)dt=ut.q(lt,ht/rt),at+=st.vectorLen(st.subtract(dt,pt)),ct.push(at),pt=dt;return ct=ct.map(xt=>xt/at),ct};function ot(lt,rt,dt,ct){if(rt<0)return 0;if(rt>1)return 1;for(var pt,at,ht,xt,gt,vt=1;vt<=ct;vt++)if(rt<=dt[vt]){xt=(vt-1)/ct,ht=vt/ct,at=dt[vt-1],pt=dt[vt],gt=(rt-at)/(pt-at)*(ht-xt)+xt;break}return gt}function it(lt,rt){return st.normalize(st.subtract(lt,rt))}class st{static zeros_Xx2x2(rt){for(var dt=[];rt--;)dt.push([0,0]);return dt}static mulItems(rt,dt){return rt.map(ct=>ct*dt)}static mulMatrix(rt,dt){return rt.reduce((ct,pt,at)=>ct+pt*dt[at],0)}static subtract(rt,dt){return rt.map((ct,pt)=>ct-dt[pt])}static addArrays(rt,dt){return rt.map((ct,pt)=>ct+dt[pt])}static addItems(rt,dt){return rt.map(ct=>ct+dt)}static sum(rt){return rt.reduce((dt,ct)=>dt+ct)}static dot(rt,dt){return st.mulMatrix(rt,dt)}static vectorLen(rt){return Math.hypot(...rt)}static divItems(rt,dt){return rt.map(ct=>ct/dt)}static squareItems(rt){return rt.map(dt=>dt*dt)}static normalize(rt){return this.divItems(rt,this.vectorLen(rt))}}class ut{static q(rt,dt){var ct=1-dt,pt=st.mulItems(rt[0],ct*ct*ct),at=st.mulItems(rt[1],3*ct*ct*dt),ht=st.mulItems(rt[2],3*ct*dt*dt),xt=st.mulItems(rt[3],dt*dt*dt);return st.addArrays(st.addArrays(pt,at),st.addArrays(ht,xt))}static qprime(rt,dt){var ct=1-dt,pt=st.mulItems(st.subtract(rt[1],rt[0]),3*ct*ct),at=st.mulItems(st.subtract(rt[2],rt[1]),6*ct*dt),ht=st.mulItems(st.subtract(rt[3],rt[2]),3*dt*dt);return st.addArrays(st.addArrays(pt,at),ht)}static qprimeprime(rt,dt){return st.addArrays(st.mulItems(st.addArrays(st.subtract(rt[2],st.mulItems(rt[1],2)),rt[0]),6*(1-dt)),st.mulItems(st.addArrays(st.subtract(rt[3],st.mulItems(rt[2],2)),rt[1]),6*dt))}}s.exports=o,s.exports.fitCubic=i,s.exports.createTangent=it},(s,o,i)=>{var Et,Pr,Ot,Ar,$t,Rr;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayer=void 0;var a=i(1),$=i(8),j=i(5),_e=i(28),et=i(29);const tt=1e3,nt=9,ot=new WeakSet;function it(Gt){return{width:Gt[2]-Gt[0],height:Gt[3]-Gt[1]}}class st{static create(bt){switch(bt.data.annotationType){case a.AnnotationType.LINK:return new lt(bt);case a.AnnotationType.TEXT:return new rt(bt);case a.AnnotationType.WIDGET:switch(bt.data.fieldType){case"Tx":return new ct(bt);case"Btn":return bt.data.radioButton?new at(bt):bt.data.checkBox?new pt(bt):new ht(bt);case"Ch":return new xt(bt)}return new dt(bt);case a.AnnotationType.POPUP:return new gt(bt);case a.AnnotationType.FREETEXT:return new ft(bt);case a.AnnotationType.LINE:return new yt(bt);case a.AnnotationType.SQUARE:return new mt(bt);case a.AnnotationType.CIRCLE:return new St(bt);case a.AnnotationType.POLYLINE:return new At(bt);case a.AnnotationType.CARET:return new Tt(bt);case a.AnnotationType.INK:return new Dt(bt);case a.AnnotationType.POLYGON:return new Ft(bt);case a.AnnotationType.HIGHLIGHT:return new It(bt);case a.AnnotationType.UNDERLINE:return new Rt(bt);case a.AnnotationType.SQUIGGLY:return new Pt(bt);case a.AnnotationType.STRIKEOUT:return new Nt(bt);case a.AnnotationType.STAMP:return new Lt(bt);case a.AnnotationType.FILEATTACHMENT:return new zt(bt);default:return new ut(bt)}}}class ut{constructor(bt,{isRenderable:wt=!1,ignoreBorder:kt=!1,createQuadrilaterals:jt=!1}={}){this.isRenderable=wt,this.data=bt.data,this.layer=bt.layer,this.page=bt.page,this.viewport=bt.viewport,this.linkService=bt.linkService,this.downloadManager=bt.downloadManager,this.imageResourcesPath=bt.imageResourcesPath,this.renderForms=bt.renderForms,this.svgFactory=bt.svgFactory,this.annotationStorage=bt.annotationStorage,this.enableScripting=bt.enableScripting,this.hasJSActions=bt.hasJSActions,this._fieldObjects=bt.fieldObjects,this._mouseState=bt.mouseState,wt&&(this.container=this._createContainer(kt)),jt&&(this.quadrilaterals=this._createQuadrilaterals(kt))}_createContainer(bt=!1){const wt=this.data,kt=this.page,jt=this.viewport,Ht=document.createElement("section"),{width:Kt,height:Zt}=it(wt.rect),[rn,qt,nn,Xt]=jt.viewBox,sn=nn-rn,ln=Xt-qt;Ht.setAttribute("data-annotation-id",wt.id);const Vt=a.Util.normalizeRect([wt.rect[0],kt.view[3]-wt.rect[1]+kt.view[1],wt.rect[2],kt.view[3]-wt.rect[3]+kt.view[1]]);if(!bt&&wt.borderStyle.width>0){Ht.style.borderWidth=`${wt.borderStyle.width}px`;const xn=wt.borderStyle.horizontalCornerRadius,Cn=wt.borderStyle.verticalCornerRadius;if(xn>0||Cn>0){const tn=`calc(${xn}px * var(--scale-factor)) / calc(${Cn}px * var(--scale-factor))`;Ht.style.borderRadius=tn}else if(this instanceof at){const tn=`calc(${Kt}px * var(--scale-factor)) / calc(${Zt}px * var(--scale-factor))`;Ht.style.borderRadius=tn}switch(wt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:Ht.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:Ht.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:Ht.style.borderBottomStyle="solid";break}const an=wt.borderColor||null;an?Ht.style.borderColor=a.Util.makeHexColor(an[0]|0,an[1]|0,an[2]|0):Ht.style.borderWidth=0}Ht.style.left=`${100*(Vt[0]-rn)/sn}%`,Ht.style.top=`${100*(Vt[1]-qt)/ln}%`;const{rotation:cn}=wt;return wt.hasOwnCanvas||cn===0?(Ht.style.width=`${100*Kt/sn}%`,Ht.style.height=`${100*Zt/ln}%`):this.setRotation(cn,Ht),Ht}setRotation(bt,wt=this.container){const[kt,jt,Ht,Kt]=this.viewport.viewBox,Zt=Ht-kt,rn=Kt-jt,{width:qt,height:nn}=it(this.data.rect);let Xt,sn;bt%180===0?(Xt=100*qt/Zt,sn=100*nn/rn):(Xt=100*nn/Zt,sn=100*qt/rn),wt.style.width=`${Xt}%`,wt.style.height=`${sn}%`,wt.setAttribute("data-main-rotation",(360-bt)%360)}get _commonActions(){const bt=(wt,kt,jt)=>{const Ht=jt.detail[wt];jt.target.style[kt]=_e.ColorConverters[`${Ht[0]}_HTML`](Ht.slice(1))};return(0,a.shadow)(this,"_commonActions",{display:wt=>{const kt=wt.detail.display%2===1;this.container.style.visibility=kt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:kt,print:wt.detail.display===0||wt.detail.display===3})},print:wt=>{this.annotationStorage.setValue(this.data.id,{print:wt.detail.print})},hidden:wt=>{this.container.style.visibility=wt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:wt.detail.hidden})},focus:wt=>{setTimeout(()=>wt.target.focus({preventScroll:!1}),0)},userName:wt=>{wt.target.title=wt.detail.userName},readonly:wt=>{wt.detail.readonly?wt.target.setAttribute("readonly",""):wt.target.removeAttribute("readonly")},required:wt=>{this._setRequired(wt.target,wt.detail.required)},bgColor:wt=>{bt("bgColor","backgroundColor",wt)},fillColor:wt=>{bt("fillColor","backgroundColor",wt)},fgColor:wt=>{bt("fgColor","color",wt)},textColor:wt=>{bt("textColor","color",wt)},borderColor:wt=>{bt("borderColor","borderColor",wt)},strokeColor:wt=>{bt("strokeColor","borderColor",wt)},rotation:wt=>{const kt=wt.detail.rotation;this.setRotation(kt),this.annotationStorage.setValue(this.data.id,{rotation:kt})}})}_dispatchEventFromSandbox(bt,wt){const kt=this._commonActions;for(const jt of Object.keys(wt.detail)){const Ht=bt[jt]||kt[jt];Ht&&Ht(wt)}}_setDefaultPropertiesFromJS(bt){if(!this.enableScripting)return;const wt=this.annotationStorage.getRawValue(this.data.id);if(!wt)return;const kt=this._commonActions;for(const[jt,Ht]of Object.entries(wt)){const Kt=kt[jt];if(Kt){const Zt={detail:{[jt]:Ht},target:bt};Kt(Zt),delete wt[jt]}}}_createQuadrilaterals(bt=!1){if(!this.data.quadPoints)return null;const wt=[],kt=this.data.rect;for(const jt of this.data.quadPoints)this.data.rect=[jt[2].x,jt[2].y,jt[1].x,jt[1].y],wt.push(this._createContainer(bt));return this.data.rect=kt,wt}_createPopup(bt,wt){let kt=this.container;this.quadrilaterals&&(bt=bt||this.quadrilaterals,kt=this.quadrilaterals[0]),bt||(bt=document.createElement("div"),bt.className="popupTriggerArea",kt.append(bt));const Ht=new vt({container:kt,trigger:bt,color:wt.color,titleObj:wt.titleObj,modificationDate:wt.modificationDate,contentsObj:wt.contentsObj,richText:wt.richText,hideWrapper:!0}).render();Ht.style.left="100%",kt.append(Ht)}_renderQuadrilaterals(bt){for(const wt of this.quadrilaterals)wt.className=bt;return this.quadrilaterals}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(bt,wt=null){const kt=[];if(this._fieldObjects){const jt=this._fieldObjects[bt];if(jt)for(const{page:Ht,id:Kt,exportValues:Zt}of jt){if(Ht===-1||Kt===wt)continue;const rn=typeof Zt=="string"?Zt:null,qt=document.querySelector(`[data-element-id="${Kt}"]`);if(qt&&!ot.has(qt)){(0,a.warn)(`_getElementsByName - element not allowed: ${Kt}`);continue}kt.push({id:Kt,exportValue:rn,domElement:qt})}return kt}for(const jt of document.getElementsByName(bt)){const{id:Ht,exportValue:Kt}=jt;Ht!==wt&&ot.has(jt)&&kt.push({id:Ht,exportValue:Kt,domElement:jt})}return kt}static get platform(){const bt=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:bt.includes("Win"),isMac:bt.includes("Mac")})}}class lt extends ut{constructor(bt,wt=null){super(bt,{isRenderable:!0,ignoreBorder:!!(wt!=null&&wt.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=bt.data.isTooltipOnly}render(){const{data:bt,linkService:wt}=this,kt=document.createElement("a");kt.setAttribute("data-element-id",bt.id);let jt=!1;return bt.url?(wt.addLinkAttributes(kt,bt.url,bt.newWindow),jt=!0):bt.action?(this._bindNamedAction(kt,bt.action),jt=!0):bt.dest?(this._bindLink(kt,bt.dest),jt=!0):(bt.actions&&(bt.actions.Action||bt.actions["Mouse Up"]||bt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(kt,bt),jt=!0),bt.resetForm?(this._bindResetFormAction(kt,bt.resetForm),jt=!0):this.isTooltipOnly&&!jt&&(this._bindLink(kt,""),jt=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Ht,Kt)=>{const Zt=Kt===0?kt:kt.cloneNode();return Ht.append(Zt),Ht}):(this.container.className="linkAnnotation",jt&&this.container.append(kt),this.container)}_bindLink(bt,wt){bt.href=this.linkService.getDestinationHash(wt),bt.onclick=()=>(wt&&this.linkService.goToDestination(wt),!1),(wt||wt==="")&&(bt.className="internalLink")}_bindNamedAction(bt,wt){bt.href=this.linkService.getAnchorUrl(""),bt.onclick=()=>(this.linkService.executeNamedAction(wt),!1),bt.className="internalLink"}_bindJSAction(bt,wt){bt.href=this.linkService.getAnchorUrl("");const kt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const jt of Object.keys(wt.actions)){const Ht=kt.get(jt);Ht&&(bt[Ht]=()=>{var Kt;return(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt.id,name:jt}}),!1})}bt.onclick||(bt.onclick=()=>!1),bt.className="internalLink"}_bindResetFormAction(bt,wt){const kt=bt.onclick;if(kt||(bt.href=this.linkService.getAnchorUrl("")),bt.className="internalLink",!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),kt||(bt.onclick=()=>!1);return}bt.onclick=()=>{var nn;kt&&kt();const{fields:jt,refs:Ht,include:Kt}=wt,Zt=[];if(jt.length!==0||Ht.length!==0){const Xt=new Set(Ht);for(const sn of jt){const ln=this._fieldObjects[sn]||[];for(const{id:Vt}of ln)Xt.add(Vt)}for(const sn of Object.values(this._fieldObjects))for(const ln of sn)Xt.has(ln.id)===Kt&&Zt.push(ln)}else for(const Xt of Object.values(this._fieldObjects))Zt.push(...Xt);const rn=this.annotationStorage,qt=[];for(const Xt of Zt){const{id:sn}=Xt;switch(qt.push(sn),Xt.type){case"text":{const Vt=Xt.defaultValue||"";rn.setValue(sn,{value:Vt});break}case"checkbox":case"radiobutton":{const Vt=Xt.defaultValue===Xt.exportValues;rn.setValue(sn,{value:Vt});break}case"combobox":case"listbox":{const Vt=Xt.defaultValue||"";rn.setValue(sn,{value:Vt});break}default:continue}const ln=document.querySelector(`[data-element-id="${sn}"]`);if(ln){if(!ot.has(ln)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${sn}`);continue}}else continue;ln.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:qt,name:"ResetForm"}})),!1}}}class rt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt})}render(){this.container.className="textAnnotation";const bt=document.createElement("img");return bt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",bt.alt="[{{type}} Annotation]",bt.dataset.l10nId="text_annotation_type",bt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(bt,this.data),this.container.append(bt),this.container}}class dt extends ut{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(bt){const{isWin:wt,isMac:kt}=ut.platform;return wt&&bt.ctrlKey||kt&&bt.metaKey}_setEventListener(bt,wt,kt,jt){wt.includes("mouse")?bt.addEventListener(wt,Ht=>{var Kt;(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:kt,value:jt(Ht),shift:Ht.shiftKey,modifier:this._getKeyModifier(Ht)}})}):bt.addEventListener(wt,Ht=>{var Kt;(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:kt,value:jt(Ht)}})})}_setEventListeners(bt,wt,kt){var jt;for(const[Ht,Kt]of wt)(Kt==="Action"||(jt=this.data.actions)!=null&&jt[Kt])&&this._setEventListener(bt,Ht,Kt,kt)}_setBackgroundColor(bt){const wt=this.data.backgroundColor||null;bt.style.backgroundColor=wt===null?"transparent":a.Util.makeHexColor(wt[0],wt[1],wt[2])}_setTextStyle(bt){const wt=["left","center","right"],{fontColor:kt}=this.data.defaultAppearanceData,jt=this.data.defaultAppearanceData.fontSize||nt,Ht=bt.style;let Kt;if(this.data.multiLine){const Zt=Math.abs(this.data.rect[3]-this.data.rect[1]),rn=Math.round(Zt/(a.LINE_FACTOR*jt))||1,qt=Zt/rn;Kt=Math.min(jt,Math.round(qt/a.LINE_FACTOR))}else{const Zt=Math.abs(this.data.rect[3]-this.data.rect[1]);Kt=Math.min(jt,Math.round(Zt/a.LINE_FACTOR))}Ht.fontSize=`calc(${Kt}px * var(--scale-factor))`,Ht.color=a.Util.makeHexColor(kt[0],kt[1],kt[2]),this.data.textAlignment!==null&&(Ht.textAlign=wt[this.data.textAlignment])}_setRequired(bt,wt){wt?bt.setAttribute("required",!0):bt.removeAttribute("required"),bt.setAttribute("aria-required",wt)}}class ct extends dt{constructor(bt){const wt=bt.renderForms||!bt.data.hasAppearance&&!!bt.data.fieldValue;super(bt,{isRenderable:wt})}setPropertyOnSiblings(bt,wt,kt,jt){const Ht=this.annotationStorage;for(const Kt of this._getElementsByName(bt.name,bt.id))Kt.domElement&&(Kt.domElement[wt]=kt),Ht.setValue(Kt.id,{[jt]:kt})}render(){var jt;const bt=this.annotationStorage,wt=this.data.id;this.container.className="textWidgetAnnotation";let kt=null;if(this.renderForms){const Ht=bt.getValue(wt,{value:this.data.fieldValue});let Kt=Ht.formattedValue||Ht.value||"";const Zt=bt.getValue(wt,{charLimit:this.data.maxLen}).charLimit;Zt&&Kt.length>Zt&&(Kt=Kt.slice(0,Zt));const rn={userValue:Kt,formattedValue:null,valueOnFocus:""};this.data.multiLine?(kt=document.createElement("textarea"),kt.textContent=Kt,this.data.doNotScroll&&(kt.style.overflowY="hidden")):(kt=document.createElement("input"),kt.type="text",kt.setAttribute("value",Kt),this.data.doNotScroll&&(kt.style.overflowX="hidden")),ot.add(kt),kt.setAttribute("data-element-id",wt),kt.disabled=this.data.readOnly,kt.name=this.data.fieldName,kt.tabIndex=tt,this._setRequired(kt,this.data.required),Zt&&(kt.maxLength=Zt),kt.addEventListener("input",nn=>{bt.setValue(wt,{value:nn.target.value}),this.setPropertyOnSiblings(kt,"value",nn.target.value,"value")}),kt.addEventListener("resetform",nn=>{const Xt=this.data.defaultFieldValue??"";kt.value=rn.userValue=Xt,rn.formattedValue=null});let qt=nn=>{const{formattedValue:Xt}=rn;Xt!=null&&(nn.target.value=Xt),nn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){kt.addEventListener("focus",Xt=>{rn.userValue&&(Xt.target.value=rn.userValue),rn.valueOnFocus=Xt.target.value}),kt.addEventListener("updatefromsandbox",Xt=>{const sn={value(ln){rn.userValue=ln.detail.value??"",bt.setValue(wt,{value:rn.userValue.toString()}),ln.target.value=rn.userValue},formattedValue(ln){const{formattedValue:Vt}=ln.detail;rn.formattedValue=Vt,Vt!=null&&ln.target!==document.activeElement&&(ln.target.value=Vt),bt.setValue(wt,{formattedValue:Vt})},selRange(ln){ln.target.setSelectionRange(...ln.detail.selRange)},charLimit:ln=>{var Cn;const{charLimit:Vt}=ln.detail,{target:cn}=ln;if(Vt===0){cn.removeAttribute("maxLength");return}cn.setAttribute("maxLength",Vt);let xn=rn.userValue;!xn||xn.length<=Vt||(xn=xn.slice(0,Vt),cn.value=rn.userValue=xn,bt.setValue(wt,{value:xn}),(Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:xn,willCommit:!0,commitKey:1,selStart:cn.selectionStart,selEnd:cn.selectionEnd}}))}};this._dispatchEventFromSandbox(sn,Xt)}),kt.addEventListener("keydown",Xt=>{var Vt;let sn=-1;if(Xt.key==="Escape"?sn=0:Xt.key==="Enter"?sn=2:Xt.key==="Tab"&&(sn=3),sn===-1)return;const{value:ln}=Xt.target;rn.valueOnFocus!==ln&&(rn.userValue=ln,(Vt=this.linkService.eventBus)==null||Vt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:ln,willCommit:!0,commitKey:sn,selStart:Xt.target.selectionStart,selEnd:Xt.target.selectionEnd}}))});const nn=qt;qt=null,kt.addEventListener("blur",Xt=>{var ln;const{value:sn}=Xt.target;rn.userValue=sn,this._mouseState.isDown&&rn.valueOnFocus!==sn&&((ln=this.linkService.eventBus)==null||ln.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:sn,willCommit:!0,commitKey:1,selStart:Xt.target.selectionStart,selEnd:Xt.target.selectionEnd}})),nn(Xt)}),(jt=this.data.actions)!=null&&jt.Keystroke&&kt.addEventListener("beforeinput",Xt=>{var tn;const{data:sn,target:ln}=Xt,{value:Vt,selectionStart:cn,selectionEnd:xn}=ln;let Cn=cn,an=xn;switch(Xt.inputType){case"deleteWordBackward":{const bn=Vt.substring(0,cn).match(/\w*[^\w]*$/);bn&&(Cn-=bn[0].length);break}case"deleteWordForward":{const bn=Vt.substring(cn).match(/^[^\w]*\w*/);bn&&(an+=bn[0].length);break}case"deleteContentBackward":cn===xn&&(Cn-=1);break;case"deleteContentForward":cn===xn&&(an+=1);break}Xt.preventDefault(),(tn=this.linkService.eventBus)==null||tn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Vt,change:sn||"",willCommit:!1,selStart:Cn,selEnd:an}})}),this._setEventListeners(kt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Xt=>Xt.target.value)}if(qt&&kt.addEventListener("blur",qt),this.data.comb){const Xt=(this.data.rect[2]-this.data.rect[0])/Zt;kt.classList.add("comb"),kt.style.letterSpacing=`calc(${Xt}px * var(--scale-factor) - 1ch)`}}else kt=document.createElement("div"),kt.textContent=this.data.fieldValue,kt.style.verticalAlign="middle",kt.style.display="table-cell";return this._setTextStyle(kt),this._setBackgroundColor(kt),this._setDefaultPropertiesFromJS(kt),this.container.append(kt),this.container}}class pt extends dt{constructor(bt){super(bt,{isRenderable:bt.renderForms})}render(){const bt=this.annotationStorage,wt=this.data,kt=wt.id;let jt=bt.getValue(kt,{value:wt.exportValue===wt.fieldValue}).value;typeof jt=="string"&&(jt=jt!=="Off",bt.setValue(kt,{value:jt})),this.container.className="buttonWidgetAnnotation checkBox";const Ht=document.createElement("input");return ot.add(Ht),Ht.setAttribute("data-element-id",kt),Ht.disabled=wt.readOnly,this._setRequired(Ht,this.data.required),Ht.type="checkbox",Ht.name=wt.fieldName,jt&&Ht.setAttribute("checked",!0),Ht.setAttribute("exportValue",wt.exportValue),Ht.tabIndex=tt,Ht.addEventListener("change",Kt=>{const{name:Zt,checked:rn}=Kt.target;for(const qt of this._getElementsByName(Zt,kt)){const nn=rn&&qt.exportValue===wt.exportValue;qt.domElement&&(qt.domElement.checked=nn),bt.setValue(qt.id,{value:nn})}bt.setValue(kt,{value:rn})}),Ht.addEventListener("resetform",Kt=>{const Zt=wt.defaultFieldValue||"Off";Kt.target.checked=Zt===wt.exportValue}),this.enableScripting&&this.hasJSActions&&(Ht.addEventListener("updatefromsandbox",Kt=>{const Zt={value(rn){rn.target.checked=rn.detail.value!=="Off",bt.setValue(kt,{value:rn.target.checked})}};this._dispatchEventFromSandbox(Zt,Kt)}),this._setEventListeners(Ht,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Kt=>Kt.target.checked)),this._setBackgroundColor(Ht),this._setDefaultPropertiesFromJS(Ht),this.container.append(Ht),this.container}}class at extends dt{constructor(bt){super(bt,{isRenderable:bt.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const bt=this.annotationStorage,wt=this.data,kt=wt.id;let jt=bt.getValue(kt,{value:wt.fieldValue===wt.buttonValue}).value;typeof jt=="string"&&(jt=jt!==wt.buttonValue,bt.setValue(kt,{value:jt}));const Ht=document.createElement("input");if(ot.add(Ht),Ht.setAttribute("data-element-id",kt),Ht.disabled=wt.readOnly,this._setRequired(Ht,this.data.required),Ht.type="radio",Ht.name=wt.fieldName,jt&&Ht.setAttribute("checked",!0),Ht.tabIndex=tt,Ht.addEventListener("change",Kt=>{const{name:Zt,checked:rn}=Kt.target;for(const qt of this._getElementsByName(Zt,kt))bt.setValue(qt.id,{value:!1});bt.setValue(kt,{value:rn})}),Ht.addEventListener("resetform",Kt=>{const Zt=wt.defaultFieldValue;Kt.target.checked=Zt!=null&&Zt===wt.buttonValue}),this.enableScripting&&this.hasJSActions){const Kt=wt.buttonValue;Ht.addEventListener("updatefromsandbox",Zt=>{const rn={value:qt=>{const nn=Kt===qt.detail.value;for(const Xt of this._getElementsByName(qt.target.name)){const sn=nn&&Xt.id===kt;Xt.domElement&&(Xt.domElement.checked=sn),bt.setValue(Xt.id,{value:sn})}}};this._dispatchEventFromSandbox(rn,Zt)}),this._setEventListeners(Ht,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Zt=>Zt.target.checked)}return this._setBackgroundColor(Ht),this._setDefaultPropertiesFromJS(Ht),this.container.append(Ht),this.container}}class ht extends lt{constructor(bt){super(bt,{ignoreBorder:bt.data.hasAppearance})}render(){const bt=super.render();bt.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(bt.title=this.data.alternativeText);const wt=bt.lastChild;return this.enableScripting&&this.hasJSActions&&wt&&(this._setDefaultPropertiesFromJS(wt),wt.addEventListener("updatefromsandbox",kt=>{this._dispatchEventFromSandbox({},kt)})),bt}}class xt extends dt{constructor(bt){super(bt,{isRenderable:bt.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const bt=this.annotationStorage,wt=this.data.id,kt=bt.getValue(wt,{value:this.data.fieldValue}),jt=document.createElement("select");ot.add(jt),jt.setAttribute("data-element-id",wt),jt.disabled=this.data.readOnly,this._setRequired(jt,this.data.required),jt.name=this.data.fieldName,jt.tabIndex=tt;let Ht=this.data.combo&&this.data.options.length>0;this.data.combo||(jt.size=this.data.options.length,this.data.multiSelect&&(jt.multiple=!0)),jt.addEventListener("resetform",qt=>{const nn=this.data.defaultFieldValue;for(const Xt of jt.options)Xt.selected=Xt.value===nn});for(const qt of this.data.options){const nn=document.createElement("option");nn.textContent=qt.displayValue,nn.value=qt.exportValue,kt.value.includes(qt.exportValue)&&(nn.setAttribute("selected",!0),Ht=!1),jt.append(nn)}let Kt=null;if(Ht){const qt=document.createElement("option");qt.value=" ",qt.setAttribute("hidden",!0),qt.setAttribute("selected",!0),jt.prepend(qt),Kt=()=>{qt.remove(),jt.removeEventListener("input",Kt),Kt=null},jt.addEventListener("input",Kt)}const Zt=(qt,nn)=>{const Xt=nn?"value":"textContent",sn=qt.target.options;return qt.target.multiple?Array.prototype.filter.call(sn,ln=>ln.selected).map(ln=>ln[Xt]):sn.selectedIndex===-1?null:sn[sn.selectedIndex][Xt]},rn=qt=>{const nn=qt.target.options;return Array.prototype.map.call(nn,Xt=>({displayValue:Xt.textContent,exportValue:Xt.value}))};return this.enableScripting&&this.hasJSActions?(jt.addEventListener("updatefromsandbox",qt=>{const nn={value(Xt){Kt==null||Kt();const sn=Xt.detail.value,ln=new Set(Array.isArray(sn)?sn:[sn]);for(const Vt of jt.options)Vt.selected=ln.has(Vt.value);bt.setValue(wt,{value:Zt(Xt,!0)})},multipleSelection(Xt){jt.multiple=!0},remove(Xt){const sn=jt.options,ln=Xt.detail.remove;sn[ln].selected=!1,jt.remove(ln),sn.length>0&&Array.prototype.findIndex.call(sn,cn=>cn.selected)===-1&&(sn[0].selected=!0),bt.setValue(wt,{value:Zt(Xt,!0),items:rn(Xt)})},clear(Xt){for(;jt.length!==0;)jt.remove(0);bt.setValue(wt,{value:null,items:[]})},insert(Xt){const{index:sn,displayValue:ln,exportValue:Vt}=Xt.detail.insert,cn=jt.children[sn],xn=document.createElement("option");xn.textContent=ln,xn.value=Vt,cn?cn.before(xn):jt.append(xn),bt.setValue(wt,{value:Zt(Xt,!0),items:rn(Xt)})},items(Xt){const{items:sn}=Xt.detail;for(;jt.length!==0;)jt.remove(0);for(const ln of sn){const{displayValue:Vt,exportValue:cn}=ln,xn=document.createElement("option");xn.textContent=Vt,xn.value=cn,jt.append(xn)}jt.options.length>0&&(jt.options[0].selected=!0),bt.setValue(wt,{value:Zt(Xt,!0),items:rn(Xt)})},indices(Xt){const sn=new Set(Xt.detail.indices);for(const ln of Xt.target.options)ln.selected=sn.has(ln.index);bt.setValue(wt,{value:Zt(Xt,!0)})},editable(Xt){Xt.target.disabled=!Xt.detail.editable}};this._dispatchEventFromSandbox(nn,qt)}),jt.addEventListener("input",qt=>{var sn;const nn=Zt(qt,!0),Xt=Zt(qt,!1);bt.setValue(wt,{value:nn}),(sn=this.linkService.eventBus)==null||sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wt,name:"Keystroke",value:Xt,changeEx:nn,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(jt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],qt=>qt.target.checked)):jt.addEventListener("input",function(qt){bt.setValue(wt,{value:Zt(qt,!0)})}),this.data.combo&&this._setTextStyle(jt),this._setBackgroundColor(jt),this._setDefaultPropertiesFromJS(jt),this.container.append(jt),this.container}}class gt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!((kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt})}render(){const bt=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",bt.includes(this.data.parentType))return this.container;const wt=`[data-annotation-id="${this.data.parentId}"]`,kt=this.layer.querySelectorAll(wt);if(kt.length===0)return this.container;const jt=new vt({container:this.container,trigger:Array.from(kt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Ht=this.page,Kt=a.Util.normalizeRect([this.data.parentRect[0],Ht.view[3]-this.data.parentRect[1]+Ht.view[1],this.data.parentRect[2],Ht.view[3]-this.data.parentRect[3]+Ht.view[1]]),Zt=Kt[0]+this.data.parentRect[2]-this.data.parentRect[0],rn=Kt[1],[qt,nn,Xt,sn]=this.viewport.viewBox,ln=Xt-qt,Vt=sn-nn;return this.container.style.left=`${100*(Zt-qt)/ln}%`,this.container.style.top=`${100*(rn-nn)/Vt}%`,this.container.append(jt.render()),this.container}}class vt{constructor(bt){this.container=bt.container,this.trigger=bt.trigger,this.color=bt.color,this.titleObj=bt.titleObj,this.modificationDate=bt.modificationDate,this.contentsObj=bt.contentsObj,this.richText=bt.richText,this.hideWrapper=bt.hideWrapper||!1,this.pinned=!1}render(){var Zt,rn;const wt=document.createElement("div");wt.className="popupWrapper",this.hideElement=this.hideWrapper?wt:this.container,this.hideElement.hidden=!0;const kt=document.createElement("div");kt.className="popup";const jt=this.color;if(jt){const qt=.7*(255-jt[0])+jt[0],nn=.7*(255-jt[1])+jt[1],Xt=.7*(255-jt[2])+jt[2];kt.style.backgroundColor=a.Util.makeHexColor(qt|0,nn|0,Xt|0)}const Ht=document.createElement("h1");Ht.dir=this.titleObj.dir,Ht.textContent=this.titleObj.str,kt.append(Ht);const Kt=$.PDFDateString.toDateObject(this.modificationDate);if(Kt){const qt=document.createElement("span");qt.className="popupDate",qt.textContent="{{date}}, {{time}}",qt.dataset.l10nId="annotation_date_string",qt.dataset.l10nArgs=JSON.stringify({date:Kt.toLocaleDateString(),time:Kt.toLocaleTimeString()}),kt.append(qt)}if((Zt=this.richText)!=null&&Zt.str&&(!((rn=this.contentsObj)!=null&&rn.str)||this.contentsObj.str===this.richText.str))et.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:kt}),kt.lastChild.className="richText popupContent";else{const qt=this._formatContents(this.contentsObj);kt.append(qt)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const qt of this.trigger)qt.addEventListener("click",this._toggle.bind(this)),qt.addEventListener("mouseover",this._show.bind(this,!1)),qt.addEventListener("mouseout",this._hide.bind(this,!1));return kt.addEventListener("click",this._hide.bind(this,!0)),wt.append(kt),wt}_formatContents({str:bt,dir:wt}){const kt=document.createElement("p");kt.className="popupContent",kt.dir=wt;const jt=bt.split(/(?:\r\n?|\n)/);for(let Ht=0,Kt=jt.length;Ht<Kt;++Ht){const Zt=jt[Ht];kt.append(document.createTextNode(Zt)),Ht<Kt-1&&kt.append(document.createElement("br"))}return kt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(bt=!1){bt&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(bt=!0){bt&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class ft extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0}),this.textContent=bt.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const bt=document.createElement("div");bt.className="annotationTextContent",bt.setAttribute("role","comment");for(const wt of this.textContent){const kt=document.createElement("span");kt.textContent=wt,bt.append(kt)}this.container.append(bt)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class yt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const bt=this.data,{width:wt,height:kt}=it(bt.rect),jt=this.svgFactory.create(wt,kt,!0),Ht=this.svgFactory.createElement("svg:line");return Ht.setAttribute("x1",bt.rect[2]-bt.lineCoordinates[0]),Ht.setAttribute("y1",bt.rect[3]-bt.lineCoordinates[1]),Ht.setAttribute("x2",bt.rect[2]-bt.lineCoordinates[2]),Ht.setAttribute("y2",bt.rect[3]-bt.lineCoordinates[3]),Ht.setAttribute("stroke-width",bt.borderStyle.width||1),Ht.setAttribute("stroke","transparent"),Ht.setAttribute("fill","transparent"),jt.append(Ht),this.container.append(jt),this._createPopup(Ht,bt),this.container}}class mt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const bt=this.data,{width:wt,height:kt}=it(bt.rect),jt=this.svgFactory.create(wt,kt,!0),Ht=bt.borderStyle.width,Kt=this.svgFactory.createElement("svg:rect");return Kt.setAttribute("x",Ht/2),Kt.setAttribute("y",Ht/2),Kt.setAttribute("width",wt-Ht),Kt.setAttribute("height",kt-Ht),Kt.setAttribute("stroke-width",Ht||1),Kt.setAttribute("stroke","transparent"),Kt.setAttribute("fill","transparent"),jt.append(Kt),this.container.append(jt),this._createPopup(Kt,bt),this.container}}class St extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const bt=this.data,{width:wt,height:kt}=it(bt.rect),jt=this.svgFactory.create(wt,kt,!0),Ht=bt.borderStyle.width,Kt=this.svgFactory.createElement("svg:ellipse");return Kt.setAttribute("cx",wt/2),Kt.setAttribute("cy",kt/2),Kt.setAttribute("rx",wt/2-Ht/2),Kt.setAttribute("ry",kt/2-Ht/2),Kt.setAttribute("stroke-width",Ht||1),Kt.setAttribute("stroke","transparent"),Kt.setAttribute("fill","transparent"),jt.append(Kt),this.container.append(jt),this._createPopup(Kt,bt),this.container}}class At extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const bt=this.data,{width:wt,height:kt}=it(bt.rect),jt=this.svgFactory.create(wt,kt,!0);let Ht=[];for(const Zt of bt.vertices){const rn=Zt.x-bt.rect[0],qt=bt.rect[3]-Zt.y;Ht.push(rn+","+qt)}Ht=Ht.join(" ");const Kt=this.svgFactory.createElement(this.svgElementName);return Kt.setAttribute("points",Ht),Kt.setAttribute("stroke-width",bt.borderStyle.width||1),Kt.setAttribute("stroke","transparent"),Kt.setAttribute("fill","transparent"),jt.append(Kt),this.container.append(jt),this._createPopup(Kt,bt),this.container}}class Ft extends At{constructor(bt){super(bt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Tt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Dt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const bt=this.data,{width:wt,height:kt}=it(bt.rect),jt=this.svgFactory.create(wt,kt,!0);for(const Ht of bt.inkLists){let Kt=[];for(const rn of Ht){const qt=rn.x-bt.rect[0],nn=bt.rect[3]-rn.y;Kt.push(`${qt},${nn}`)}Kt=Kt.join(" ");const Zt=this.svgFactory.createElement(this.svgElementName);Zt.setAttribute("points",Kt),Zt.setAttribute("stroke-width",bt.borderStyle.width||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),this._createPopup(Zt,bt),jt.append(Zt)}return this.container.append(jt),this.container}}class It extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Rt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Pt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Nt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Lt extends ut{constructor(bt){var kt,jt,Ht;const wt=!!(bt.data.hasPopup||(kt=bt.data.titleObj)!=null&&kt.str||(jt=bt.data.contentsObj)!=null&&jt.str||(Ht=bt.data.richText)!=null&&Ht.str);super(bt,{isRenderable:wt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class zt extends ut{constructor(bt){var jt;super(bt,{isRenderable:!0});const{filename:wt,content:kt}=this.data.file;this.filename=(0,$.getFilenameFromUrl)(wt),this.content=kt,(jt=this.linkService.eventBus)==null||jt.dispatch("fileattachmentannotation",{source:this,filename:wt,content:kt})}render(){var wt,kt;this.container.className="fileAttachmentAnnotation";const bt=document.createElement("div");return bt.className="popupTriggerArea",bt.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((wt=this.data.titleObj)!=null&&wt.str||(kt=this.data.contentsObj)!=null&&kt.str||this.data.richText)&&this._createPopup(bt,this.data),this.container.append(bt),this.container}_download(){var bt;(bt=this.downloadManager)==null||bt.openOrDownloadData(this.container,this.content,this.filename)}}const Wt=class{static render(bt){var Zt,rn;const{annotations:wt,div:kt,viewport:jt,accessibilityManager:Ht}=bt;hn(this,Ot,Ar).call(this,kt,jt);let Kt=0;for(const qt of wt){if(qt.annotationType!==a.AnnotationType.POPUP){const{width:Xt,height:sn}=it(qt.rect);if(Xt<=0||sn<=0)continue}const nn=st.create({data:qt,layer:kt,page:bt.page,viewport:jt,linkService:bt.linkService,downloadManager:bt.downloadManager,imageResourcesPath:bt.imageResourcesPath||"",renderForms:bt.renderForms!==!1,svgFactory:new $.DOMSVGFactory,annotationStorage:bt.annotationStorage||new j.AnnotationStorage,enableScripting:bt.enableScripting,hasJSActions:bt.hasJSActions,fieldObjects:bt.fieldObjects,mouseState:bt.mouseState||{isDown:!1}});if(nn.isRenderable){const Xt=nn.render();if(qt.hidden&&(Xt.style.visibility="hidden"),Array.isArray(Xt))for(const sn of Xt)sn.style.zIndex=Kt++,hn(Zt=Wt,Et,Pr).call(Zt,sn,qt.id,kt,Ht);else Xt.style.zIndex=Kt++,nn instanceof gt?kt.prepend(Xt):hn(rn=Wt,Et,Pr).call(rn,Xt,qt.id,kt,Ht)}}hn(this,$t,Rr).call(this,kt,bt.annotationCanvasMap)}static update(bt){const{annotationCanvasMap:wt,div:kt,viewport:jt}=bt;hn(this,Ot,Ar).call(this,kt,jt),hn(this,$t,Rr).call(this,kt,wt),kt.hidden=!1}};let Mt=Wt;Et=new WeakSet,Pr=function(bt,wt,kt,jt){const Ht=bt.firstChild||bt;Ht.id=`${$.AnnotationPrefix}${wt}`,kt.append(bt),jt==null||jt.moveElementInDOM(kt,bt,Ht,!1)},Ot=new WeakSet,Ar=function(bt,{width:wt,height:kt,rotation:jt}){const{style:Ht}=bt,Kt=jt%180!==0,Zt=Math.floor(wt)+"px",rn=Math.floor(kt)+"px";Ht.width=Kt?rn:Zt,Ht.height=Kt?Zt:rn,bt.setAttribute("data-main-rotation",jt)},$t=new WeakSet,Rr=function(bt,wt){if(wt){for(const[kt,jt]of wt){const Ht=bt.querySelector(`[data-annotation-id="${kt}"]`);if(!Ht)continue;const{firstChild:Kt}=Ht;Kt?Kt.nodeName==="CANVAS"?Kt.replaceWith(jt):Kt.before(jt):Ht.append(jt)}wt.clear()}},un(Mt,Et),un(Mt,Ot),un(Mt,$t),o.AnnotationLayer=Mt},(s,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorConverters=void 0;function i($){return Math.floor(Math.max(0,Math.min(1,$))*255).toString(16).padStart(2,"0")}class a{static CMYK_G([j,_e,et,tt]){return["G",1-Math.min(1,.3*j+.59*et+.11*_e+tt)]}static G_CMYK([j]){return["CMYK",0,0,0,1-j]}static G_RGB([j]){return["RGB",j,j,j]}static G_HTML([j]){const _e=i(j);return`#${_e}${_e}${_e}`}static RGB_G([j,_e,et]){return["G",.3*j+.59*_e+.11*et]}static RGB_HTML([j,_e,et]){const tt=i(j),nt=i(_e),ot=i(et);return`#${tt}${nt}${ot}`}static T_HTML(){return"#00000000"}static CMYK_RGB([j,_e,et,tt]){return["RGB",1-Math.min(1,j+tt),1-Math.min(1,et+tt),1-Math.min(1,_e+tt)]}static CMYK_HTML(j){const _e=this.CMYK_RGB(j).slice(1);return this.RGB_HTML(_e)}static RGB_CMYK([j,_e,et]){const tt=1-j,nt=1-_e,ot=1-et,it=Math.min(tt,nt,ot);return["CMYK",tt,nt,ot,it]}}o.ColorConverters=a},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayer=void 0;var a=i(20);class ${static setupStorage(_e,et,tt,nt,ot){const it=nt.getValue(et,{value:null});switch(tt.name){case"textarea":if(it.value!==null&&(_e.textContent=it.value),ot==="print")break;_e.addEventListener("input",st=>{nt.setValue(et,{value:st.target.value})});break;case"input":if(tt.attributes.type==="radio"||tt.attributes.type==="checkbox"){if(it.value===tt.attributes.xfaOn?_e.setAttribute("checked",!0):it.value===tt.attributes.xfaOff&&_e.removeAttribute("checked"),ot==="print")break;_e.addEventListener("change",st=>{nt.setValue(et,{value:st.target.checked?st.target.getAttribute("xfaOn"):st.target.getAttribute("xfaOff")})})}else{if(it.value!==null&&_e.setAttribute("value",it.value),ot==="print")break;_e.addEventListener("input",st=>{nt.setValue(et,{value:st.target.value})})}break;case"select":if(it.value!==null)for(const st of tt.children)st.attributes.value===it.value&&(st.attributes.selected=!0);_e.addEventListener("input",st=>{const ut=st.target.options,lt=ut.selectedIndex===-1?"":ut[ut.selectedIndex].value;nt.setValue(et,{value:lt})});break}}static setAttributes({html:_e,element:et,storage:tt=null,intent:nt,linkService:ot}){const{attributes:it}=et,st=_e instanceof HTMLAnchorElement;it.type==="radio"&&(it.name=`${it.name}-${nt}`);for(const[ut,lt]of Object.entries(it))if(lt!=null)switch(ut){case"class":lt.length&&_e.setAttribute(ut,lt.join(" "));break;case"dataId":break;case"id":_e.setAttribute("data-element-id",lt);break;case"style":Object.assign(_e.style,lt);break;case"textContent":_e.textContent=lt;break;default:(!st||ut!=="href"&&ut!=="newWindow")&&_e.setAttribute(ut,lt)}st&&ot.addLinkAttributes(_e,it.href,it.newWindow),tt&&it.dataId&&this.setupStorage(_e,it.dataId,et,tt)}static render(_e){var rt;const et=_e.annotationStorage,tt=_e.linkService,nt=_e.xfaHtml,ot=_e.intent||"display",it=document.createElement(nt.name);nt.attributes&&this.setAttributes({html:it,element:nt,intent:ot,linkService:tt});const st=[[nt,-1,it]],ut=_e.div;if(ut.append(it),_e.viewport){const dt=`matrix(${_e.viewport.transform.join(",")})`;ut.style.transform=dt}ot!=="richText"&&ut.setAttribute("class","xfaLayer xfaFont");const lt=[];for(;st.length>0;){const[dt,ct,pt]=st.at(-1);if(ct+1===dt.children.length){st.pop();continue}const at=dt.children[++st.at(-1)[1]];if(at===null)continue;const{name:ht}=at;if(ht==="#text"){const gt=document.createTextNode(at.value);lt.push(gt),pt.append(gt);continue}let xt;if((rt=at==null?void 0:at.attributes)!=null&&rt.xmlns?xt=document.createElementNS(at.attributes.xmlns,ht):xt=document.createElement(ht),pt.append(xt),at.attributes&&this.setAttributes({html:xt,element:at,storage:et,intent:ot,linkService:tt}),at.children&&at.children.length>0)st.push([at,-1,xt]);else if(at.value){const gt=document.createTextNode(at.value);a.XfaText.shouldBuildText(ht)&&lt.push(gt),xt.append(gt)}}for(const dt of ut.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))dt.setAttribute("readOnly",!0);return{textDivs:lt}}static update(_e){const et=`matrix(${_e.viewport.transform.join(",")})`;_e.div.style.transform=et,_e.div.hidden=!1}}o.XfaLayer=$},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerRenderTask=void 0,o.renderTextLayer=pt;var a=i(1),$=i(8);const j=1e5,_e=30,et=.8,tt=new Map,nt=/^\s+$/g;function ot(at,ht){const xt=tt.get(at);if(xt)return xt;ht.save(),ht.font=`${_e}px ${at}`;const gt=ht.measureText("");let vt=gt.fontBoundingBoxAscent,ft=Math.abs(gt.fontBoundingBoxDescent);if(vt){ht.restore();const mt=vt/(vt+ft);return tt.set(at,mt),mt}ht.strokeStyle="red",ht.clearRect(0,0,_e,_e),ht.strokeText("g",0,0);let yt=ht.getImageData(0,0,_e,_e).data;ft=0;for(let mt=yt.length-1-3;mt>=0;mt-=4)if(yt[mt]>0){ft=Math.ceil(mt/4/_e);break}ht.clearRect(0,0,_e,_e),ht.strokeText("A",0,_e),yt=ht.getImageData(0,0,_e,_e).data,vt=0;for(let mt=0,St=yt.length;mt<St;mt+=4)if(yt[mt]>0){vt=_e-Math.floor(mt/4/_e);break}if(ht.restore(),vt){const mt=vt/(vt+ft);return tt.set(at,mt),mt}return tt.set(at,et),et}function it(at,ht,xt,gt){const vt=document.createElement("span"),ft=at._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:ht.str!=="",hasEOL:ht.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:ht.str!=="",hasEOL:ht.hasEOL,fontSize:0};at._textDivs.push(vt);const yt=a.Util.transform(at._viewport.transform,ht.transform);let mt=Math.atan2(yt[1],yt[0]);const St=xt[ht.fontName];St.vertical&&(mt+=Math.PI/2);const At=Math.hypot(yt[2],yt[3]),Ft=At*ot(St.fontFamily,gt);let Tt,Dt;mt===0?(Tt=yt[4],Dt=yt[5]-Ft):(Tt=yt[4]+Ft*Math.sin(mt),Dt=yt[5]-Ft*Math.cos(mt)),vt.style.left=`${Tt}px`,vt.style.top=`${Dt}px`,vt.style.fontSize=`${At}px`,vt.style.fontFamily=St.fontFamily,ft.fontSize=At,vt.setAttribute("role","presentation"),vt.textContent=ht.str,vt.dir=ht.dir,at._fontInspectorEnabled&&(vt.dataset.fontName=ht.fontName),mt!==0&&(ft.angle=mt*(180/Math.PI));let It=!1;if(ht.str.length>1||at._enhanceTextSelection&&nt.test(ht.str))It=!0;else if(ht.str!==" "&&ht.transform[0]!==ht.transform[3]){const Rt=Math.abs(ht.transform[0]),Pt=Math.abs(ht.transform[3]);Rt!==Pt&&Math.max(Rt,Pt)/Math.min(Rt,Pt)>1.5&&(It=!0)}if(It&&(St.vertical?ft.canvasWidth=ht.height*at._viewport.scale:ft.canvasWidth=ht.width*at._viewport.scale),at._textDivProperties.set(vt,ft),at._textContentStream&&at._layoutText(vt),at._enhanceTextSelection&&ft.hasText){let Rt=1,Pt=0;mt!==0&&(Rt=Math.cos(mt),Pt=Math.sin(mt));const Nt=(St.vertical?ht.height:ht.width)*at._viewport.scale,Lt=At;let zt,Mt;mt!==0?(zt=[Rt,Pt,-Pt,Rt,Tt,Dt],Mt=a.Util.getAxialAlignedBoundingBox([0,0,Nt,Lt],zt)):Mt=[Tt,Dt,Tt+Nt,Dt+Lt],at._bounds.push({left:Mt[0],top:Mt[1],right:Mt[2],bottom:Mt[3],div:vt,size:[Nt,Lt],m:zt})}}function st(at){if(at._canceled)return;const ht=at._textDivs,xt=at._capability,gt=ht.length;if(gt>j){at._renderingDone=!0,xt.resolve();return}if(!at._textContentStream)for(let vt=0;vt<gt;vt++)at._layoutText(ht[vt]);at._renderingDone=!0,xt.resolve()}function ut(at,ht,xt){let gt=0;for(let vt=0;vt<xt;vt++){const ft=at[ht++];ft>0&&(gt=gt?Math.min(ft,gt):ft)}return gt}function lt(at){const ht=at._bounds,xt=at._viewport,gt=rt(xt.width,xt.height,ht);for(let vt=0;vt<gt.length;vt++){const ft=ht[vt].div,yt=at._textDivProperties.get(ft);if(yt.angle===0){yt.paddingLeft=ht[vt].left-gt[vt].left,yt.paddingTop=ht[vt].top-gt[vt].top,yt.paddingRight=gt[vt].right-ht[vt].right,yt.paddingBottom=gt[vt].bottom-ht[vt].bottom,at._textDivProperties.set(ft,yt);continue}const mt=gt[vt],St=ht[vt],At=St.m,Ft=At[0],Tt=At[1],Dt=[[0,0],[0,St.size[1]],[St.size[0],0],St.size],It=new Float64Array(64);for(let Pt=0,Nt=Dt.length;Pt<Nt;Pt++){const Lt=a.Util.applyTransform(Dt[Pt],At);It[Pt+0]=Ft&&(mt.left-Lt[0])/Ft,It[Pt+4]=Tt&&(mt.top-Lt[1])/Tt,It[Pt+8]=Ft&&(mt.right-Lt[0])/Ft,It[Pt+12]=Tt&&(mt.bottom-Lt[1])/Tt,It[Pt+16]=Tt&&(mt.left-Lt[0])/-Tt,It[Pt+20]=Ft&&(mt.top-Lt[1])/Ft,It[Pt+24]=Tt&&(mt.right-Lt[0])/-Tt,It[Pt+28]=Ft&&(mt.bottom-Lt[1])/Ft,It[Pt+32]=Ft&&(mt.left-Lt[0])/-Ft,It[Pt+36]=Tt&&(mt.top-Lt[1])/-Tt,It[Pt+40]=Ft&&(mt.right-Lt[0])/-Ft,It[Pt+44]=Tt&&(mt.bottom-Lt[1])/-Tt,It[Pt+48]=Tt&&(mt.left-Lt[0])/Tt,It[Pt+52]=Ft&&(mt.top-Lt[1])/-Ft,It[Pt+56]=Tt&&(mt.right-Lt[0])/Tt,It[Pt+60]=Ft&&(mt.bottom-Lt[1])/-Ft}const Rt=1+Math.min(Math.abs(Ft),Math.abs(Tt));yt.paddingLeft=ut(It,32,16)/Rt,yt.paddingTop=ut(It,48,16)/Rt,yt.paddingRight=ut(It,0,16)/Rt,yt.paddingBottom=ut(It,16,16)/Rt,at._textDivProperties.set(ft,yt)}}function rt(at,ht,xt){const gt=xt.map(function(ft,yt){return{x1:ft.left,y1:ft.top,x2:ft.right,y2:ft.bottom,index:yt,x1New:void 0,x2New:void 0}});dt(at,gt);const vt=new Array(xt.length);for(const ft of gt){const yt=ft.index;vt[yt]={left:ft.x1New,top:0,right:ft.x2New,bottom:0}}xt.map(function(ft,yt){const mt=vt[yt],St=gt[yt];St.x1=ft.top,St.y1=at-mt.right,St.x2=ft.bottom,St.y2=at-mt.left,St.index=yt,St.x1New=void 0,St.x2New=void 0}),dt(ht,gt);for(const ft of gt){const yt=ft.index;vt[yt].top=ft.x1New,vt[yt].bottom=ft.x2New}return vt}function dt(at,ht){ht.sort(function(vt,ft){return vt.x1-ft.x1||vt.index-ft.index});const gt=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const vt of ht){let ft=0;for(;ft<gt.length&&gt[ft].end<=vt.y1;)ft++;let yt=gt.length-1;for(;yt>=0&&gt[yt].start>=vt.y2;)yt--;let mt,St,At,Ft,Tt=-1/0;for(At=ft;At<=yt;At++){mt=gt[At],St=mt.boundary;let Rt;St.x2>vt.x1?Rt=St.index>vt.index?St.x1New:vt.x1:St.x2New===void 0?Rt=(St.x2+vt.x1)/2:Rt=St.x2New,Rt>Tt&&(Tt=Rt)}for(vt.x1New=Tt,At=ft;At<=yt;At++)mt=gt[At],St=mt.boundary,St.x2New===void 0?St.x2>vt.x1?St.index>vt.index&&(St.x2New=St.x2):St.x2New=Tt:St.x2New>Tt&&(St.x2New=Math.max(Tt,St.x2));const Dt=[];let It=null;for(At=ft;At<=yt;At++){mt=gt[At],St=mt.boundary;const Rt=St.x2>vt.x2?St:vt;It===Rt?Dt.at(-1).end=mt.end:(Dt.push({start:mt.start,end:mt.end,boundary:Rt}),It=Rt)}for(gt[ft].start<vt.y1&&(Dt[0].start=vt.y1,Dt.unshift({start:gt[ft].start,end:vt.y1,boundary:gt[ft].boundary})),vt.y2<gt[yt].end&&(Dt.at(-1).end=vt.y2,Dt.push({start:vt.y2,end:gt[yt].end,boundary:gt[yt].boundary})),At=ft;At<=yt;At++){if(mt=gt[At],St=mt.boundary,St.x2New!==void 0)continue;let Rt=!1;for(Ft=ft-1;!Rt&&Ft>=0&&gt[Ft].start>=St.y1;Ft--)Rt=gt[Ft].boundary===St;for(Ft=yt+1;!Rt&&Ft<gt.length&&gt[Ft].end<=St.y2;Ft++)Rt=gt[Ft].boundary===St;for(Ft=0;!Rt&&Ft<Dt.length;Ft++)Rt=Dt[Ft].boundary===St;Rt||(St.x2New=Tt)}Array.prototype.splice.apply(gt,[ft,yt-ft+1,...Dt])}for(const vt of gt){const ft=vt.boundary;ft.x2New===void 0&&(ft.x2New=Math.max(at,ft.x2))}}class ct{constructor({textContent:ht,textContentStream:xt,container:gt,viewport:vt,textDivs:ft,textContentItemsStr:yt,enhanceTextSelection:mt}){var St;mt&&(0,$.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=ht,this._textContentStream=xt,this._container=gt,this._document=gt.ownerDocument,this._viewport=vt,this._textDivs=ft||[],this._textContentItemsStr=yt||[],this._enhanceTextSelection=!!mt,this._fontInspectorEnabled=!!((St=globalThis.FontInspector)!=null&&St.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(ht,xt){for(let gt=0,vt=ht.length;gt<vt;gt++){if(ht[gt].str===void 0){if(ht[gt].type==="beginMarkedContentProps"||ht[gt].type==="beginMarkedContent"){const ft=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ht[gt].id!==null&&this._container.setAttribute("id",`${ht[gt].id}`),ft.append(this._container)}else ht[gt].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ht[gt].str),it(this,ht[gt],xt,this._layoutTextCtx)}}_layoutText(ht){const xt=this._textDivProperties.get(ht);let gt="";if(xt.canvasWidth!==0&&xt.hasText){const{fontFamily:vt}=ht.style,{fontSize:ft}=xt;(ft!==this._layoutTextLastFontSize||vt!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${ft*this._devicePixelRatio}px ${vt}`,this._layoutTextLastFontSize=ft,this._layoutTextLastFontFamily=vt);const{width:yt}=this._layoutTextCtx.measureText(ht.textContent);if(yt>0){const mt=this._devicePixelRatio*xt.canvasWidth/yt;this._enhanceTextSelection&&(xt.scale=mt),gt=`scaleX(${mt})`}}if(xt.angle!==0&&(gt=`rotate(${xt.angle}deg) ${gt}`),gt.length>0&&(this._enhanceTextSelection&&(xt.originalTransform=gt),ht.style.transform=gt),xt.hasText&&this._container.append(ht),xt.hasEOL){const vt=document.createElement("br");vt.setAttribute("role","presentation"),this._container.append(vt)}}_render(ht=0){const xt=(0,a.createPromiseCapability)();let gt=Object.create(null);const vt=this._document.createElement("canvas");if(vt.height=vt.width=_e,this._layoutTextCtx=vt.getContext("2d",{alpha:!1}),this._textContent){const ft=this._textContent.items,yt=this._textContent.styles;this._processItems(ft,yt),xt.resolve()}else if(this._textContentStream){const ft=()=>{this._reader.read().then(({value:yt,done:mt})=>{if(mt){xt.resolve();return}Object.assign(gt,yt.styles),this._processItems(yt.items,gt),ft()},xt.reject)};this._reader=this._textContentStream.getReader(),ft()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');xt.promise.then(()=>{gt=null,ht?this._renderTimer=setTimeout(()=>{st(this),this._renderTimer=null},ht):st(this)},this._capability.reject)}expandTextDivs(ht=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(lt(this),this._bounds=null);const xt=[],gt=[];for(let vt=0,ft=this._textDivs.length;vt<ft;vt++){const yt=this._textDivs[vt],mt=this._textDivProperties.get(yt);mt.hasText&&(ht?(xt.length=0,gt.length=0,mt.originalTransform&&xt.push(mt.originalTransform),mt.paddingTop>0?(gt.push(`${mt.paddingTop}px`),xt.push(`translateY(${-mt.paddingTop}px)`)):gt.push(0),mt.paddingRight>0?gt.push(`${mt.paddingRight/mt.scale}px`):gt.push(0),mt.paddingBottom>0?gt.push(`${mt.paddingBottom}px`):gt.push(0),mt.paddingLeft>0?(gt.push(`${mt.paddingLeft/mt.scale}px`),xt.push(`translateX(${-mt.paddingLeft/mt.scale}px)`)):gt.push(0),yt.style.padding=gt.join(" "),xt.length&&(yt.style.transform=xt.join(" "))):(yt.style.padding=null,yt.style.transform=mt.originalTransform))}}}o.TextLayerRenderTask=ct;function pt(at){const ht=new ct({textContent:at.textContent,textContentStream:at.textContentStream,container:at.container,viewport:at.viewport,textDivs:at.textDivs,textContentItemsStr:at.textContentItemsStr,enhanceTextSelection:at.enhanceTextSelection});return ht._render(at.timeout),ht}},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SVGGraphics=void 0;var a=i(8),$=i(1),j=i(3);let _e=class{constructor(){(0,$.unreachable)("Not implemented: SVGGraphics")}};o.SVGGraphics=_e;{let pt=function(ft){let yt=[];const mt=[];for(const St of ft){if(St.fn==="save"){yt.push({fnId:92,fn:"group",items:[]}),mt.push(yt),yt=yt.at(-1).items;continue}St.fn==="restore"?yt=mt.pop():yt.push(St)}return yt},at=function(ft){if(Number.isInteger(ft))return ft.toString();const yt=ft.toFixed(10);let mt=yt.length-1;if(yt[mt]!=="0")return yt;do mt--;while(yt[mt]==="0");return yt.substring(0,yt[mt]==="."?mt:mt+1)},ht=function(ft){if(ft[4]===0&&ft[5]===0){if(ft[1]===0&&ft[2]===0)return ft[0]===1&&ft[3]===1?"":`scale(${at(ft[0])} ${at(ft[3])})`;if(ft[0]===ft[3]&&ft[1]===-ft[2]){const yt=Math.acos(ft[0])*180/Math.PI;return`rotate(${at(yt)})`}}else if(ft[0]===1&&ft[1]===0&&ft[2]===0&&ft[3]===1)return`translate(${at(ft[4])} ${at(ft[5])})`;return`matrix(${at(ft[0])} ${at(ft[1])} ${at(ft[2])} ${at(ft[3])} ${at(ft[4])} ${at(ft[5])})`};var et=pt,tt=at,nt=ht;const ot={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},it="http://www.w3.org/XML/1998/namespace",st="http://www.w3.org/1999/xlink",ut=["butt","round","square"],lt=["miter","round","bevel"],rt=function(ft,yt="",mt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!mt)return URL.createObjectURL(new Blob([ft],{type:yt}));const St="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let At=`data:${yt};base64,`;for(let Ft=0,Tt=ft.length;Ft<Tt;Ft+=3){const Dt=ft[Ft]&255,It=ft[Ft+1]&255,Rt=ft[Ft+2]&255,Pt=Dt>>2,Nt=(Dt&3)<<4|It>>4,Lt=Ft+1<Tt?(It&15)<<2|Rt>>6:64,zt=Ft+2<Tt?Rt&63:64;At+=St[Pt]+St[Nt]+St[Lt]+St[zt]}return At},dt=function(){const ft=new Uint8Array([137,80,78,71,13,10,26,10]),yt=12,mt=new Int32Array(256);for(let Rt=0;Rt<256;Rt++){let Pt=Rt;for(let Nt=0;Nt<8;Nt++)Pt&1?Pt=3988292384^Pt>>1&2147483647:Pt=Pt>>1&2147483647;mt[Rt]=Pt}function St(Rt,Pt,Nt){let Lt=-1;for(let zt=Pt;zt<Nt;zt++){const Mt=(Lt^Rt[zt])&255,Et=mt[Mt];Lt=Lt>>>8^Et}return Lt^-1}function At(Rt,Pt,Nt,Lt){let zt=Lt;const Mt=Pt.length;Nt[zt]=Mt>>24&255,Nt[zt+1]=Mt>>16&255,Nt[zt+2]=Mt>>8&255,Nt[zt+3]=Mt&255,zt+=4,Nt[zt]=Rt.charCodeAt(0)&255,Nt[zt+1]=Rt.charCodeAt(1)&255,Nt[zt+2]=Rt.charCodeAt(2)&255,Nt[zt+3]=Rt.charCodeAt(3)&255,zt+=4,Nt.set(Pt,zt),zt+=Pt.length;const Et=St(Nt,Lt+4,zt);Nt[zt]=Et>>24&255,Nt[zt+1]=Et>>16&255,Nt[zt+2]=Et>>8&255,Nt[zt+3]=Et&255}function Ft(Rt,Pt,Nt){let Lt=1,zt=0;for(let Mt=Pt;Mt<Nt;++Mt)Lt=(Lt+(Rt[Mt]&255))%65521,zt=(zt+Lt)%65521;return zt<<16|Lt}function Tt(Rt){if(!j.isNodeJS)return Dt(Rt);try{let Pt;parseInt(process.versions.node)>=8?Pt=Rt:Pt=Buffer.from(Rt);const Nt=require$$5.deflateSync(Pt,{level:9});return Nt instanceof Uint8Array?Nt:new Uint8Array(Nt)}catch(Pt){(0,$.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Pt)}return Dt(Rt)}function Dt(Rt){let Pt=Rt.length;const Nt=65535,Lt=Math.ceil(Pt/Nt),zt=new Uint8Array(2+Pt+Lt*5+4);let Mt=0;zt[Mt++]=120,zt[Mt++]=156;let Et=0;for(;Pt>Nt;)zt[Mt++]=0,zt[Mt++]=255,zt[Mt++]=255,zt[Mt++]=0,zt[Mt++]=0,zt.set(Rt.subarray(Et,Et+Nt),Mt),Mt+=Nt,Et+=Nt,Pt-=Nt;zt[Mt++]=1,zt[Mt++]=Pt&255,zt[Mt++]=Pt>>8&255,zt[Mt++]=~Pt&65535&255,zt[Mt++]=(~Pt&65535)>>8&255,zt.set(Rt.subarray(Et),Mt),Mt+=Rt.length-Et;const Ct=Ft(Rt,0,Rt.length);return zt[Mt++]=Ct>>24&255,zt[Mt++]=Ct>>16&255,zt[Mt++]=Ct>>8&255,zt[Mt++]=Ct&255,zt}function It(Rt,Pt,Nt,Lt){const zt=Rt.width,Mt=Rt.height;let Et,Ct,Ot;const Ut=Rt.data;switch(Pt){case $.ImageKind.GRAYSCALE_1BPP:Ct=0,Et=1,Ot=zt+7>>3;break;case $.ImageKind.RGB_24BPP:Ct=2,Et=8,Ot=zt*3;break;case $.ImageKind.RGBA_32BPP:Ct=6,Et=8,Ot=zt*4;break;default:throw new Error("invalid format")}const $t=new Uint8Array((1+Ot)*Mt);let Bt=0,Wt=0;for(let Ht=0;Ht<Mt;++Ht)$t[Bt++]=0,$t.set(Ut.subarray(Wt,Wt+Ot),Bt),Wt+=Ot,Bt+=Ot;if(Pt===$.ImageKind.GRAYSCALE_1BPP&&Lt){Bt=0;for(let Ht=0;Ht<Mt;Ht++){Bt++;for(let Kt=0;Kt<Ot;Kt++)$t[Bt++]^=255}}const Gt=new Uint8Array([zt>>24&255,zt>>16&255,zt>>8&255,zt&255,Mt>>24&255,Mt>>16&255,Mt>>8&255,Mt&255,Et,Ct,0,0,0]),bt=Tt($t),wt=ft.length+yt*3+Gt.length+bt.length,kt=new Uint8Array(wt);let jt=0;return kt.set(ft,jt),jt+=ft.length,At("IHDR",Gt,kt,jt),jt+=yt+Gt.length,At("IDATA",bt,kt,jt),jt+=yt+bt.length,At("IEND",new Uint8Array(0),kt,jt),rt(kt,"image/png",Nt)}return function(Pt,Nt,Lt){const zt=Pt.kind===void 0?$.ImageKind.GRAYSCALE_1BPP:Pt.kind;return It(Pt,zt,Nt,Lt)}}();class ct{constructor(){this.fontSizeScale=1,this.fontWeight=ot.fontWeight,this.fontSize=0,this.textMatrix=$.IDENTITY_MATRIX,this.fontMatrix=$.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=$.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ot.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(yt,mt){this.x=yt,this.y=mt}}let xt=0,gt=0,vt=0;o.SVGGraphics=_e=class{constructor(ft,yt,mt=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new ct,this.transformMatrix=$.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ft,this.objs=yt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!mt,this._operatorIdMapping=[];for(const St in $.OPS)this._operatorIdMapping[$.OPS[St]]=St}save(){this.transformStack.push(this.transformMatrix);const ft=this.current;this.extraStack.push(ft),this.current=ft.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ft){this.save(),this.executeOpTree(ft),this.restore()}loadDependencies(ft){const yt=ft.fnArray,mt=ft.argsArray;for(let St=0,At=yt.length;St<At;St++)if(yt[St]===$.OPS.dependency)for(const Ft of mt[St]){const Tt=Ft.startsWith("g_")?this.commonObjs:this.objs,Dt=new Promise(It=>{Tt.get(Ft,It)});this.current.dependencies.push(Dt)}return Promise.all(this.current.dependencies)}transform(ft,yt,mt,St,At,Ft){const Tt=[ft,yt,mt,St,At,Ft];this.transformMatrix=$.Util.transform(this.transformMatrix,Tt),this.tgrp=null}getSVG(ft,yt){this.viewport=yt;const mt=this._initialize(yt);return this.loadDependencies(ft).then(()=>(this.transformMatrix=$.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ft)),mt))}convertOpList(ft){const yt=this._operatorIdMapping,mt=ft.argsArray,St=ft.fnArray,At=[];for(let Ft=0,Tt=St.length;Ft<Tt;Ft++){const Dt=St[Ft];At.push({fnId:Dt,fn:yt[Dt],args:mt[Ft]})}return pt(At)}executeOpTree(ft){for(const yt of ft){const mt=yt.fn,St=yt.fnId,At=yt.args;switch(St|0){case $.OPS.beginText:this.beginText();break;case $.OPS.dependency:break;case $.OPS.setLeading:this.setLeading(At);break;case $.OPS.setLeadingMoveText:this.setLeadingMoveText(At[0],At[1]);break;case $.OPS.setFont:this.setFont(At);break;case $.OPS.showText:this.showText(At[0]);break;case $.OPS.showSpacedText:this.showText(At[0]);break;case $.OPS.endText:this.endText();break;case $.OPS.moveText:this.moveText(At[0],At[1]);break;case $.OPS.setCharSpacing:this.setCharSpacing(At[0]);break;case $.OPS.setWordSpacing:this.setWordSpacing(At[0]);break;case $.OPS.setHScale:this.setHScale(At[0]);break;case $.OPS.setTextMatrix:this.setTextMatrix(At[0],At[1],At[2],At[3],At[4],At[5]);break;case $.OPS.setTextRise:this.setTextRise(At[0]);break;case $.OPS.setTextRenderingMode:this.setTextRenderingMode(At[0]);break;case $.OPS.setLineWidth:this.setLineWidth(At[0]);break;case $.OPS.setLineJoin:this.setLineJoin(At[0]);break;case $.OPS.setLineCap:this.setLineCap(At[0]);break;case $.OPS.setMiterLimit:this.setMiterLimit(At[0]);break;case $.OPS.setFillRGBColor:this.setFillRGBColor(At[0],At[1],At[2]);break;case $.OPS.setStrokeRGBColor:this.setStrokeRGBColor(At[0],At[1],At[2]);break;case $.OPS.setStrokeColorN:this.setStrokeColorN(At);break;case $.OPS.setFillColorN:this.setFillColorN(At);break;case $.OPS.shadingFill:this.shadingFill(At[0]);break;case $.OPS.setDash:this.setDash(At[0],At[1]);break;case $.OPS.setRenderingIntent:this.setRenderingIntent(At[0]);break;case $.OPS.setFlatness:this.setFlatness(At[0]);break;case $.OPS.setGState:this.setGState(At[0]);break;case $.OPS.fill:this.fill();break;case $.OPS.eoFill:this.eoFill();break;case $.OPS.stroke:this.stroke();break;case $.OPS.fillStroke:this.fillStroke();break;case $.OPS.eoFillStroke:this.eoFillStroke();break;case $.OPS.clip:this.clip("nonzero");break;case $.OPS.eoClip:this.clip("evenodd");break;case $.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case $.OPS.paintImageXObject:this.paintImageXObject(At[0]);break;case $.OPS.paintInlineImageXObject:this.paintInlineImageXObject(At[0]);break;case $.OPS.paintImageMaskXObject:this.paintImageMaskXObject(At[0]);break;case $.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(At[0],At[1]);break;case $.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case $.OPS.closePath:this.closePath();break;case $.OPS.closeStroke:this.closeStroke();break;case $.OPS.closeFillStroke:this.closeFillStroke();break;case $.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case $.OPS.nextLine:this.nextLine();break;case $.OPS.transform:this.transform(At[0],At[1],At[2],At[3],At[4],At[5]);break;case $.OPS.constructPath:this.constructPath(At[0],At[1]);break;case $.OPS.endPath:this.endPath();break;case 92:this.group(yt.items);break;default:(0,$.warn)(`Unimplemented operator ${mt}`);break}}}setWordSpacing(ft){this.current.wordSpacing=ft}setCharSpacing(ft){this.current.charSpacing=ft}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ft,yt,mt,St,At,Ft){const Tt=this.current;Tt.textMatrix=Tt.lineMatrix=[ft,yt,mt,St,At,Ft],Tt.textMatrixScale=Math.hypot(ft,yt),Tt.x=Tt.lineX=0,Tt.y=Tt.lineY=0,Tt.xcoords=[],Tt.ycoords=[],Tt.tspan=this.svgFactory.createElement("svg:tspan"),Tt.tspan.setAttributeNS(null,"font-family",Tt.fontFamily),Tt.tspan.setAttributeNS(null,"font-size",`${at(Tt.fontSize)}px`),Tt.tspan.setAttributeNS(null,"y",at(-Tt.y)),Tt.txtElement=this.svgFactory.createElement("svg:text"),Tt.txtElement.append(Tt.tspan)}beginText(){const ft=this.current;ft.x=ft.lineX=0,ft.y=ft.lineY=0,ft.textMatrix=$.IDENTITY_MATRIX,ft.lineMatrix=$.IDENTITY_MATRIX,ft.textMatrixScale=1,ft.tspan=this.svgFactory.createElement("svg:tspan"),ft.txtElement=this.svgFactory.createElement("svg:text"),ft.txtgrp=this.svgFactory.createElement("svg:g"),ft.xcoords=[],ft.ycoords=[]}moveText(ft,yt){const mt=this.current;mt.x=mt.lineX+=ft,mt.y=mt.lineY+=yt,mt.xcoords=[],mt.ycoords=[],mt.tspan=this.svgFactory.createElement("svg:tspan"),mt.tspan.setAttributeNS(null,"font-family",mt.fontFamily),mt.tspan.setAttributeNS(null,"font-size",`${at(mt.fontSize)}px`),mt.tspan.setAttributeNS(null,"y",at(-mt.y))}showText(ft){const yt=this.current,mt=yt.font,St=yt.fontSize;if(St===0)return;const At=yt.fontSizeScale,Ft=yt.charSpacing,Tt=yt.wordSpacing,Dt=yt.fontDirection,It=yt.textHScale*Dt,Rt=mt.vertical,Pt=Rt?1:-1,Nt=mt.defaultVMetrics,Lt=St*yt.fontMatrix[0];let zt=0;for(const Ct of ft){if(Ct===null){zt+=Dt*Tt;continue}else if(typeof Ct=="number"){zt+=Pt*Ct*St/1e3;continue}const Ot=(Ct.isSpace?Tt:0)+Ft,Ut=Ct.fontChar;let $t,Bt,Wt=Ct.width;if(Rt){let bt;const wt=Ct.vmetric||Nt;bt=Ct.vmetric?wt[1]:Wt*.5,bt=-bt*Lt;const kt=wt[2]*Lt;Wt=wt?-wt[0]:Wt,$t=bt/At,Bt=(zt+kt)/At}else $t=zt/At,Bt=0;(Ct.isInFont||mt.missingFile)&&(yt.xcoords.push(yt.x+$t),Rt&&yt.ycoords.push(-yt.y+Bt),yt.tspan.textContent+=Ut);let Gt;Rt?Gt=Wt*Lt-Ot*Dt:Gt=Wt*Lt+Ot*Dt,zt+=Gt}yt.tspan.setAttributeNS(null,"x",yt.xcoords.map(at).join(" ")),Rt?yt.tspan.setAttributeNS(null,"y",yt.ycoords.map(at).join(" ")):yt.tspan.setAttributeNS(null,"y",at(-yt.y)),Rt?yt.y-=zt:yt.x+=zt*It,yt.tspan.setAttributeNS(null,"font-family",yt.fontFamily),yt.tspan.setAttributeNS(null,"font-size",`${at(yt.fontSize)}px`),yt.fontStyle!==ot.fontStyle&&yt.tspan.setAttributeNS(null,"font-style",yt.fontStyle),yt.fontWeight!==ot.fontWeight&&yt.tspan.setAttributeNS(null,"font-weight",yt.fontWeight);const Mt=yt.textRenderingMode&$.TextRenderingMode.FILL_STROKE_MASK;if(Mt===$.TextRenderingMode.FILL||Mt===$.TextRenderingMode.FILL_STROKE?(yt.fillColor!==ot.fillColor&&yt.tspan.setAttributeNS(null,"fill",yt.fillColor),yt.fillAlpha<1&&yt.tspan.setAttributeNS(null,"fill-opacity",yt.fillAlpha)):yt.textRenderingMode===$.TextRenderingMode.ADD_TO_PATH?yt.tspan.setAttributeNS(null,"fill","transparent"):yt.tspan.setAttributeNS(null,"fill","none"),Mt===$.TextRenderingMode.STROKE||Mt===$.TextRenderingMode.FILL_STROKE){const Ct=1/(yt.textMatrixScale||1);this._setStrokeAttributes(yt.tspan,Ct)}let Et=yt.textMatrix;yt.textRise!==0&&(Et=Et.slice(),Et[5]+=yt.textRise),yt.txtElement.setAttributeNS(null,"transform",`${ht(Et)} scale(${at(It)}, -1)`),yt.txtElement.setAttributeNS(it,"xml:space","preserve"),yt.txtElement.append(yt.tspan),yt.txtgrp.append(yt.txtElement),this._ensureTransformGroup().append(yt.txtElement)}setLeadingMoveText(ft,yt){this.setLeading(-yt),this.moveText(ft,yt)}addFontStyle(ft){if(!ft.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const yt=rt(ft.data,ft.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ft.loadedName}"; src: url(${yt}); }
`}setFont(ft){const yt=this.current,mt=this.commonObjs.get(ft[0]);let St=ft[1];yt.font=mt,this.embedFonts&&!mt.missingFile&&!this.embeddedFonts[mt.loadedName]&&(this.addFontStyle(mt),this.embeddedFonts[mt.loadedName]=mt),yt.fontMatrix=mt.fontMatrix||$.FONT_IDENTITY_MATRIX;let At="normal";mt.black?At="900":mt.bold&&(At="bold");const Ft=mt.italic?"italic":"normal";St<0?(St=-St,yt.fontDirection=-1):yt.fontDirection=1,yt.fontSize=St,yt.fontFamily=mt.loadedName,yt.fontWeight=At,yt.fontStyle=Ft,yt.tspan=this.svgFactory.createElement("svg:tspan"),yt.tspan.setAttributeNS(null,"y",at(-yt.y)),yt.xcoords=[],yt.ycoords=[]}endText(){var yt;const ft=this.current;ft.textRenderingMode&$.TextRenderingMode.ADD_TO_PATH_FLAG&&((yt=ft.txtElement)!=null&&yt.hasChildNodes())&&(ft.element=ft.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ft){ft>0&&(this.current.lineWidth=ft)}setLineCap(ft){this.current.lineCap=ut[ft]}setLineJoin(ft){this.current.lineJoin=lt[ft]}setMiterLimit(ft){this.current.miterLimit=ft}setStrokeAlpha(ft){this.current.strokeAlpha=ft}setStrokeRGBColor(ft,yt,mt){this.current.strokeColor=$.Util.makeHexColor(ft,yt,mt)}setFillAlpha(ft){this.current.fillAlpha=ft}setFillRGBColor(ft,yt,mt){this.current.fillColor=$.Util.makeHexColor(ft,yt,mt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ft){this.current.strokeColor=this._makeColorN_Pattern(ft)}setFillColorN(ft){this.current.fillColor=this._makeColorN_Pattern(ft)}shadingFill(ft){const yt=this.viewport.width,mt=this.viewport.height,St=$.Util.inverseTransform(this.transformMatrix),At=$.Util.applyTransform([0,0],St),Ft=$.Util.applyTransform([0,mt],St),Tt=$.Util.applyTransform([yt,0],St),Dt=$.Util.applyTransform([yt,mt],St),It=Math.min(At[0],Ft[0],Tt[0],Dt[0]),Rt=Math.min(At[1],Ft[1],Tt[1],Dt[1]),Pt=Math.max(At[0],Ft[0],Tt[0],Dt[0]),Nt=Math.max(At[1],Ft[1],Tt[1],Dt[1]),Lt=this.svgFactory.createElement("svg:rect");Lt.setAttributeNS(null,"x",It),Lt.setAttributeNS(null,"y",Rt),Lt.setAttributeNS(null,"width",Pt-It),Lt.setAttributeNS(null,"height",Nt-Rt),Lt.setAttributeNS(null,"fill",this._makeShadingPattern(ft)),this.current.fillAlpha<1&&Lt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Lt)}_makeColorN_Pattern(ft){return ft[0]==="TilingPattern"?this._makeTilingPattern(ft):this._makeShadingPattern(ft)}_makeTilingPattern(ft){const yt=ft[1],mt=ft[2],St=ft[3]||$.IDENTITY_MATRIX,[At,Ft,Tt,Dt]=ft[4],It=ft[5],Rt=ft[6],Pt=ft[7],Nt=`shading${vt++}`,[Lt,zt,Mt,Et]=$.Util.normalizeRect([...$.Util.applyTransform([At,Ft],St),...$.Util.applyTransform([Tt,Dt],St)]),[Ct,Ot]=$.Util.singularValueDecompose2dScale(St),Ut=It*Ct,$t=Rt*Ot,Bt=this.svgFactory.createElement("svg:pattern");Bt.setAttributeNS(null,"id",Nt),Bt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Bt.setAttributeNS(null,"width",Ut),Bt.setAttributeNS(null,"height",$t),Bt.setAttributeNS(null,"x",`${Lt}`),Bt.setAttributeNS(null,"y",`${zt}`);const Wt=this.svg,Gt=this.transformMatrix,bt=this.current.fillColor,wt=this.current.strokeColor,kt=this.svgFactory.create(Mt-Lt,Et-zt);if(this.svg=kt,this.transformMatrix=St,Pt===2){const jt=$.Util.makeHexColor(...yt);this.current.fillColor=jt,this.current.strokeColor=jt}return this.executeOpTree(this.convertOpList(mt)),this.svg=Wt,this.transformMatrix=Gt,this.current.fillColor=bt,this.current.strokeColor=wt,Bt.append(kt.childNodes[0]),this.defs.append(Bt),`url(#${Nt})`}_makeShadingPattern(ft){switch(typeof ft=="string"&&(ft=this.objs.get(ft)),ft[0]){case"RadialAxial":const yt=`shading${vt++}`,mt=ft[3];let St;switch(ft[1]){case"axial":const At=ft[4],Ft=ft[5];St=this.svgFactory.createElement("svg:linearGradient"),St.setAttributeNS(null,"id",yt),St.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),St.setAttributeNS(null,"x1",At[0]),St.setAttributeNS(null,"y1",At[1]),St.setAttributeNS(null,"x2",Ft[0]),St.setAttributeNS(null,"y2",Ft[1]);break;case"radial":const Tt=ft[4],Dt=ft[5],It=ft[6],Rt=ft[7];St=this.svgFactory.createElement("svg:radialGradient"),St.setAttributeNS(null,"id",yt),St.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),St.setAttributeNS(null,"cx",Dt[0]),St.setAttributeNS(null,"cy",Dt[1]),St.setAttributeNS(null,"r",Rt),St.setAttributeNS(null,"fx",Tt[0]),St.setAttributeNS(null,"fy",Tt[1]),St.setAttributeNS(null,"fr",It);break;default:throw new Error(`Unknown RadialAxial type: ${ft[1]}`)}for(const At of mt){const Ft=this.svgFactory.createElement("svg:stop");Ft.setAttributeNS(null,"offset",At[0]),Ft.setAttributeNS(null,"stop-color",At[1]),St.append(Ft)}return this.defs.append(St),`url(#${yt})`;case"Mesh":return(0,$.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ft[0]}`)}}setDash(ft,yt){this.current.dashArray=ft,this.current.dashPhase=yt}constructPath(ft,yt){const mt=this.current;let St=mt.x,At=mt.y,Ft=[],Tt=0;for(const Dt of ft)switch(Dt|0){case $.OPS.rectangle:St=yt[Tt++],At=yt[Tt++];const It=yt[Tt++],Rt=yt[Tt++],Pt=St+It,Nt=At+Rt;Ft.push("M",at(St),at(At),"L",at(Pt),at(At),"L",at(Pt),at(Nt),"L",at(St),at(Nt),"Z");break;case $.OPS.moveTo:St=yt[Tt++],At=yt[Tt++],Ft.push("M",at(St),at(At));break;case $.OPS.lineTo:St=yt[Tt++],At=yt[Tt++],Ft.push("L",at(St),at(At));break;case $.OPS.curveTo:St=yt[Tt+4],At=yt[Tt+5],Ft.push("C",at(yt[Tt]),at(yt[Tt+1]),at(yt[Tt+2]),at(yt[Tt+3]),at(St),at(At)),Tt+=6;break;case $.OPS.curveTo2:Ft.push("C",at(St),at(At),at(yt[Tt]),at(yt[Tt+1]),at(yt[Tt+2]),at(yt[Tt+3])),St=yt[Tt+2],At=yt[Tt+3],Tt+=4;break;case $.OPS.curveTo3:St=yt[Tt+2],At=yt[Tt+3],Ft.push("C",at(yt[Tt]),at(yt[Tt+1]),at(St),at(At),at(St),at(At)),Tt+=4;break;case $.OPS.closePath:Ft.push("Z");break}Ft=Ft.join(" "),mt.path&&ft.length>0&&ft[0]!==$.OPS.rectangle&&ft[0]!==$.OPS.moveTo?Ft=mt.path.getAttributeNS(null,"d")+Ft:(mt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(mt.path)),mt.path.setAttributeNS(null,"d",Ft),mt.path.setAttributeNS(null,"fill","none"),mt.element=mt.path,mt.setCurrentPoint(St,At)}endPath(){const ft=this.current;if(ft.path=null,!this.pendingClip)return;if(!ft.element){this.pendingClip=null;return}const yt=`clippath${xt++}`,mt=this.svgFactory.createElement("svg:clipPath");mt.setAttributeNS(null,"id",yt),mt.setAttributeNS(null,"transform",ht(this.transformMatrix));const St=ft.element.cloneNode(!0);if(this.pendingClip==="evenodd"?St.setAttributeNS(null,"clip-rule","evenodd"):St.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,mt.append(St),this.defs.append(mt),ft.activeClipUrl){ft.clipGroup=null;for(const At of this.extraStack)At.clipGroup=null;mt.setAttributeNS(null,"clip-path",ft.activeClipUrl)}ft.activeClipUrl=`url(#${yt})`,this.tgrp=null}clip(ft){this.pendingClip=ft}closePath(){const ft=this.current;if(ft.path){const yt=`${ft.path.getAttributeNS(null,"d")}Z`;ft.path.setAttributeNS(null,"d",yt)}}setLeading(ft){this.current.leading=-ft}setTextRise(ft){this.current.textRise=ft}setTextRenderingMode(ft){this.current.textRenderingMode=ft}setHScale(ft){this.current.textHScale=ft/100}setRenderingIntent(ft){}setFlatness(ft){}setGState(ft){for(const[yt,mt]of ft)switch(yt){case"LW":this.setLineWidth(mt);break;case"LC":this.setLineCap(mt);break;case"LJ":this.setLineJoin(mt);break;case"ML":this.setMiterLimit(mt);break;case"D":this.setDash(mt[0],mt[1]);break;case"RI":this.setRenderingIntent(mt);break;case"FL":this.setFlatness(mt);break;case"Font":this.setFont(mt);break;case"CA":this.setStrokeAlpha(mt);break;case"ca":this.setFillAlpha(mt);break;default:(0,$.warn)(`Unimplemented graphic state operator ${yt}`);break}}fill(){const ft=this.current;ft.element&&(ft.element.setAttributeNS(null,"fill",ft.fillColor),ft.element.setAttributeNS(null,"fill-opacity",ft.fillAlpha),this.endPath())}stroke(){const ft=this.current;ft.element&&(this._setStrokeAttributes(ft.element),ft.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ft,yt=1){const mt=this.current;let St=mt.dashArray;yt!==1&&St.length>0&&(St=St.map(function(At){return yt*At})),ft.setAttributeNS(null,"stroke",mt.strokeColor),ft.setAttributeNS(null,"stroke-opacity",mt.strokeAlpha),ft.setAttributeNS(null,"stroke-miterlimit",at(mt.miterLimit)),ft.setAttributeNS(null,"stroke-linecap",mt.lineCap),ft.setAttributeNS(null,"stroke-linejoin",mt.lineJoin),ft.setAttributeNS(null,"stroke-width",at(yt*mt.lineWidth)+"px"),ft.setAttributeNS(null,"stroke-dasharray",St.map(at).join(" ")),ft.setAttributeNS(null,"stroke-dashoffset",at(yt*mt.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ft=this.svgFactory.createElement("svg:rect");ft.setAttributeNS(null,"x","0"),ft.setAttributeNS(null,"y","0"),ft.setAttributeNS(null,"width","1px"),ft.setAttributeNS(null,"height","1px"),ft.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ft)}paintImageXObject(ft){const yt=ft.startsWith("g_")?this.commonObjs.get(ft):this.objs.get(ft);if(!yt){(0,$.warn)(`Dependent image with object ID ${ft} is not ready yet`);return}this.paintInlineImageXObject(yt)}paintInlineImageXObject(ft,yt){const mt=ft.width,St=ft.height,At=dt(ft,this.forceDataSchema,!!yt),Ft=this.svgFactory.createElement("svg:rect");Ft.setAttributeNS(null,"x","0"),Ft.setAttributeNS(null,"y","0"),Ft.setAttributeNS(null,"width",at(mt)),Ft.setAttributeNS(null,"height",at(St)),this.current.element=Ft,this.clip("nonzero");const Tt=this.svgFactory.createElement("svg:image");Tt.setAttributeNS(st,"xlink:href",At),Tt.setAttributeNS(null,"x","0"),Tt.setAttributeNS(null,"y",at(-St)),Tt.setAttributeNS(null,"width",at(mt)+"px"),Tt.setAttributeNS(null,"height",at(St)+"px"),Tt.setAttributeNS(null,"transform",`scale(${at(1/mt)} ${at(-1/St)})`),yt?yt.append(Tt):this._ensureTransformGroup().append(Tt)}paintImageMaskXObject(ft){const yt=this.current,mt=ft.width,St=ft.height,At=yt.fillColor;yt.maskId=`mask${gt++}`;const Ft=this.svgFactory.createElement("svg:mask");Ft.setAttributeNS(null,"id",yt.maskId);const Tt=this.svgFactory.createElement("svg:rect");Tt.setAttributeNS(null,"x","0"),Tt.setAttributeNS(null,"y","0"),Tt.setAttributeNS(null,"width",at(mt)),Tt.setAttributeNS(null,"height",at(St)),Tt.setAttributeNS(null,"fill",At),Tt.setAttributeNS(null,"mask",`url(#${yt.maskId})`),this.defs.append(Ft),this._ensureTransformGroup().append(Tt),this.paintInlineImageXObject(ft,Ft)}paintFormXObjectBegin(ft,yt){if(Array.isArray(ft)&&ft.length===6&&this.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]),yt){const mt=yt[2]-yt[0],St=yt[3]-yt[1],At=this.svgFactory.createElement("svg:rect");At.setAttributeNS(null,"x",yt[0]),At.setAttributeNS(null,"y",yt[1]),At.setAttributeNS(null,"width",at(mt)),At.setAttributeNS(null,"height",at(St)),this.current.element=At,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ft){const yt=this.svgFactory.create(ft.width,ft.height),mt=this.svgFactory.createElement("svg:defs");yt.append(mt),this.defs=mt;const St=this.svgFactory.createElement("svg:g");return St.setAttributeNS(null,"transform",ht(ft.transform)),yt.append(St),this.svg=St,yt}_ensureClipGroup(){if(!this.current.clipGroup){const ft=this.svgFactory.createElement("svg:g");ft.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ft),this.current.clipGroup=ft}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ht(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNodeStream=void 0;var a=i(1),$=i(33);const j=require$$5,_e=require$$5,et=require$$5,tt=require$$5,nt=/^file:\/\/\/[a-zA-Z]:\//;function ot(at){const ht=tt.parse(at);return ht.protocol==="file:"||ht.host?ht:/^[a-z]:[/\\]/i.test(at)?tt.parse(`file:///${at}`):(ht.host||(ht.protocol="file:"),ht)}class it{constructor(ht){this.source=ht,this.url=ot(ht.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ht.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ht;return((ht=this._fullRequestReader)==null?void 0:ht._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ct(this):new rt(this),this._fullRequestReader}getRangeReader(ht,xt){if(xt<=this._progressiveDataLength)return null;const gt=this.isFsUrl?new pt(this,ht,xt):new dt(this,ht,xt);return this._rangeRequestReaders.push(gt),gt}cancelAllRequests(ht){this._fullRequestReader&&this._fullRequestReader.cancel(ht);for(const xt of this._rangeRequestReaders.slice(0))xt.cancel(ht)}}o.PDFNodeStream=it;class st{constructor(ht){this._url=ht.url,this._done=!1,this._storedError=null,this.onProgress=null;const xt=ht.source;this._contentLength=xt.length,this._loaded=0,this._filename=null,this._disableRange=xt.disableRange||!1,this._rangeChunkSize=xt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!xt.disableStream,this._isRangeSupported=!xt.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ht=this._readableStream.read();return ht===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=ht.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ht).buffer,done:!1})}cancel(ht){if(!this._readableStream){this._error(ht);return}this._readableStream.destroy(ht)}_error(ht){this._storedError=ht,this._readCapability.resolve()}_setReadableStream(ht){this._readableStream=ht,ht.on("readable",()=>{this._readCapability.resolve()}),ht.on("end",()=>{ht.destroy(),this._done=!0,this._readCapability.resolve()}),ht.on("error",xt=>{this._error(xt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ut{constructor(ht){this._url=ht.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();const xt=ht.source;this._isStreamingSupported=!xt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ht=this._readableStream.read();return ht===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=ht.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(ht).buffer,done:!1})}cancel(ht){if(!this._readableStream){this._error(ht);return}this._readableStream.destroy(ht)}_error(ht){this._storedError=ht,this._readCapability.resolve()}_setReadableStream(ht){this._readableStream=ht,ht.on("readable",()=>{this._readCapability.resolve()}),ht.on("end",()=>{ht.destroy(),this._done=!0,this._readCapability.resolve()}),ht.on("error",xt=>{this._error(xt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function lt(at,ht){return{protocol:at.protocol,auth:at.auth,host:at.hostname,port:at.port,path:at.path,method:"GET",headers:ht}}class rt extends st{constructor(ht){super(ht);const xt=gt=>{if(gt.statusCode===404){const mt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=mt,this._headersCapability.reject(mt);return}this._headersCapability.resolve(),this._setReadableStream(gt);const vt=mt=>this._readableStream.headers[mt.toLowerCase()],{allowRangeRequests:ft,suggestedLength:yt}=(0,$.validateRangeRequestCapabilities)({getResponseHeader:vt,isHttp:ht.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=yt||this._contentLength,this._filename=(0,$.extractFilenameFromHeader)(vt)};this._request=null,this._url.protocol==="http:"?this._request=_e.request(lt(this._url,ht.httpHeaders),xt):this._request=et.request(lt(this._url,ht.httpHeaders),xt),this._request.on("error",gt=>{this._storedError=gt,this._headersCapability.reject(gt)}),this._request.end()}}class dt extends ut{constructor(ht,xt,gt){super(ht),this._httpHeaders={};for(const ft in ht.httpHeaders){const yt=ht.httpHeaders[ft];typeof yt>"u"||(this._httpHeaders[ft]=yt)}this._httpHeaders.Range=`bytes=${xt}-${gt-1}`;const vt=ft=>{if(ft.statusCode===404){const yt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=yt;return}this._setReadableStream(ft)};this._request=null,this._url.protocol==="http:"?this._request=_e.request(lt(this._url,this._httpHeaders),vt):this._request=et.request(lt(this._url,this._httpHeaders),vt),this._request.on("error",ft=>{this._storedError=ft}),this._request.end()}}class ct extends st{constructor(ht){super(ht);let xt=decodeURIComponent(this._url.path);nt.test(this._url.href)&&(xt=xt.replace(/^\//,"")),j.lstat(xt,(gt,vt)=>{if(gt){gt.code==="ENOENT"&&(gt=new a.MissingPDFException(`Missing PDF "${xt}".`)),this._storedError=gt,this._headersCapability.reject(gt);return}this._contentLength=vt.size,this._setReadableStream(j.createReadStream(xt)),this._headersCapability.resolve()})}}class pt extends ut{constructor(ht,xt,gt){super(ht);let vt=decodeURIComponent(this._url.path);nt.test(this._url.href)&&(vt=vt.replace(/^\//,"")),this._setReadableStream(j.createReadStream(vt,{start:xt,end:gt-1}))}}},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createResponseStatusError=tt,o.extractFilenameFromHeader=et,o.validateRangeRequestCapabilities=_e,o.validateResponseStatus=nt;var a=i(1),$=i(34),j=i(8);function _e({getResponseHeader:ot,isHttp:it,rangeChunkSize:st,disableRange:ut}){const lt={allowRangeRequests:!1,suggestedLength:void 0},rt=parseInt(ot("Content-Length"),10);return!Number.isInteger(rt)||(lt.suggestedLength=rt,rt<=2*st)||ut||!it||ot("Accept-Ranges")!=="bytes"||(ot("Content-Encoding")||"identity")!=="identity"||(lt.allowRangeRequests=!0),lt}function et(ot){const it=ot("Content-Disposition");if(it){let st=(0,$.getFilenameFromContentDispositionHeader)(it);if(st.includes("%"))try{st=decodeURIComponent(st)}catch{}if((0,j.isPdfFile)(st))return st}return null}function tt(ot,it){return ot===404||ot===0&&it.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+it+'".'):new a.UnexpectedResponseException(`Unexpected server response (${ot}) while retrieving PDF "${it}".`,ot)}function nt(ot){return ot===200||ot===206}},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getFilenameFromContentDispositionHeader=$;var a=i(1);function $(j){let _e=!0,et=tt("filename\\*","i").exec(j);if(et){et=et[1];let rt=st(et);return rt=unescape(rt),rt=ut(rt),rt=lt(rt),ot(rt)}if(et=it(j),et){const rt=lt(et);return ot(rt)}if(et=tt("filename","i").exec(j),et){et=et[1];let rt=st(et);return rt=lt(rt),ot(rt)}function tt(rt,dt){return new RegExp("(?:^|;)\\s*"+rt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',dt)}function nt(rt,dt){if(rt){if(!/^[\x00-\xFF]+$/.test(dt))return dt;try{const ct=new TextDecoder(rt,{fatal:!0}),pt=(0,a.stringToBytes)(dt);dt=ct.decode(pt),_e=!1}catch{}}return dt}function ot(rt){return _e&&/[\x80-\xff]/.test(rt)&&(rt=nt("utf-8",rt),_e&&(rt=nt("iso-8859-1",rt))),rt}function it(rt){const dt=[];let ct;const pt=tt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ct=pt.exec(rt))!==null;){let[,ht,xt,gt]=ct;if(ht=parseInt(ht,10),ht in dt){if(ht===0)break;continue}dt[ht]=[xt,gt]}const at=[];for(let ht=0;ht<dt.length&&ht in dt;++ht){let[xt,gt]=dt[ht];gt=st(gt),xt&&(gt=unescape(gt),ht===0&&(gt=ut(gt))),at.push(gt)}return at.join("")}function st(rt){if(rt.startsWith('"')){const dt=rt.slice(1).split('\\"');for(let ct=0;ct<dt.length;++ct){const pt=dt[ct].indexOf('"');pt!==-1&&(dt[ct]=dt[ct].slice(0,pt),dt.length=ct+1),dt[ct]=dt[ct].replace(/\\(.)/g,"$1")}rt=dt.join('"')}return rt}function ut(rt){const dt=rt.indexOf("'");if(dt===-1)return rt;const ct=rt.slice(0,dt),at=rt.slice(dt+1).replace(/^[^']*'/,"");return nt(ct,at)}function lt(rt){return!rt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(rt)?rt:rt.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(dt,ct,pt,at){if(pt==="q"||pt==="Q")return at=at.replace(/_/g," "),at=at.replace(/=([0-9a-fA-F]{2})/g,function(ht,xt){return String.fromCharCode(parseInt(xt,16))}),nt(ct,at);try{at=atob(at)}catch{}return nt(ct,at)})}return""}},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFNetworkStream=void 0;var a=i(1),$=i(33);const j=200,_e=206;function et(st){const ut=st.response;return typeof ut!="string"?ut:(0,a.stringToBytes)(ut).buffer}class tt{constructor(ut,lt={}){this.url=ut,this.isHttp=/^https?:/i.test(ut),this.httpHeaders=this.isHttp&&lt.httpHeaders||Object.create(null),this.withCredentials=lt.withCredentials||!1,this.getXhr=lt.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ut,lt,rt){const dt={begin:ut,end:lt};for(const ct in rt)dt[ct]=rt[ct];return this.request(dt)}requestFull(ut){return this.request(ut)}request(ut){const lt=this.getXhr(),rt=this.currXhrId++,dt=this.pendingRequests[rt]={xhr:lt};lt.open("GET",this.url),lt.withCredentials=this.withCredentials;for(const ct in this.httpHeaders){const pt=this.httpHeaders[ct];typeof pt>"u"||lt.setRequestHeader(ct,pt)}return this.isHttp&&"begin"in ut&&"end"in ut?(lt.setRequestHeader("Range",`bytes=${ut.begin}-${ut.end-1}`),dt.expectedStatus=_e):dt.expectedStatus=j,lt.responseType="arraybuffer",ut.onError&&(lt.onerror=function(ct){ut.onError(lt.status)}),lt.onreadystatechange=this.onStateChange.bind(this,rt),lt.onprogress=this.onProgress.bind(this,rt),dt.onHeadersReceived=ut.onHeadersReceived,dt.onDone=ut.onDone,dt.onError=ut.onError,dt.onProgress=ut.onProgress,lt.send(null),rt}onProgress(ut,lt){var dt;const rt=this.pendingRequests[ut];rt&&((dt=rt.onProgress)==null||dt.call(rt,lt))}onStateChange(ut,lt){var ht,xt,gt;const rt=this.pendingRequests[ut];if(!rt)return;const dt=rt.xhr;if(dt.readyState>=2&&rt.onHeadersReceived&&(rt.onHeadersReceived(),delete rt.onHeadersReceived),dt.readyState!==4||!(ut in this.pendingRequests))return;if(delete this.pendingRequests[ut],dt.status===0&&this.isHttp){(ht=rt.onError)==null||ht.call(rt,dt.status);return}const ct=dt.status||j;if(!(ct===j&&rt.expectedStatus===_e)&&ct!==rt.expectedStatus){(xt=rt.onError)==null||xt.call(rt,dt.status);return}const at=et(dt);if(ct===_e){const vt=dt.getResponseHeader("Content-Range"),ft=/bytes (\d+)-(\d+)\/(\d+)/.exec(vt);rt.onDone({begin:parseInt(ft[1],10),chunk:at})}else at?rt.onDone({begin:0,chunk:at}):(gt=rt.onError)==null||gt.call(rt,dt.status)}getRequestXhr(ut){return this.pendingRequests[ut].xhr}isPendingRequest(ut){return ut in this.pendingRequests}abortRequest(ut){const lt=this.pendingRequests[ut].xhr;delete this.pendingRequests[ut],lt.abort()}}class nt{constructor(ut){this._source=ut,this._manager=new tt(ut.url,{httpHeaders:ut.httpHeaders,withCredentials:ut.withCredentials}),this._rangeChunkSize=ut.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ut){const lt=this._rangeRequestReaders.indexOf(ut);lt>=0&&this._rangeRequestReaders.splice(lt,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ot(this._manager,this._source),this._fullRequestReader}getRangeReader(ut,lt){const rt=new it(this._manager,ut,lt);return rt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(rt),rt}cancelAllRequests(ut){var lt;(lt=this._fullRequestReader)==null||lt.cancel(ut);for(const rt of this._rangeRequestReaders.slice(0))rt.cancel(ut)}}o.PDFNetworkStream=nt;class ot{constructor(ut,lt){this._manager=ut;const rt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=lt.url,this._fullRequestId=ut.requestFull(rt),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=lt.disableRange||!1,this._contentLength=lt.length,this._rangeChunkSize=lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ut=this._fullRequestId,lt=this._manager.getRequestXhr(ut),rt=pt=>lt.getResponseHeader(pt),{allowRangeRequests:dt,suggestedLength:ct}=(0,$.validateRangeRequestCapabilities)({getResponseHeader:rt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});dt&&(this._isRangeSupported=!0),this._contentLength=ct||this._contentLength,this._filename=(0,$.extractFilenameFromHeader)(rt),this._isRangeSupported&&this._manager.abortRequest(ut),this._headersReceivedCapability.resolve()}_onDone(ut){if(ut&&(this._requests.length>0?this._requests.shift().resolve({value:ut.chunk,done:!1}):this._cachedChunks.push(ut.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ut){this._storedError=(0,$.createResponseStatusError)(ut,this._url),this._headersReceivedCapability.reject(this._storedError);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ut){var lt;(lt=this.onProgress)==null||lt.call(this,{loaded:ut.loaded,total:ut.lengthComputable?ut.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ut=(0,a.createPromiseCapability)();return this._requests.push(ut),ut.promise}cancel(ut){this._done=!0,this._headersReceivedCapability.reject(ut);for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class it{constructor(ut,lt,rt){this._manager=ut;const dt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ut.url,this._requestId=ut.requestRange(lt,rt,dt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ut;(ut=this.onClosed)==null||ut.call(this,this)}_onDone(ut){const lt=ut.chunk;this._requests.length>0?this._requests.shift().resolve({value:lt,done:!1}):this._queuedChunk=lt,this._done=!0;for(const rt of this._requests)rt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ut){this._storedError=(0,$.createResponseStatusError)(ut,this._url);for(const lt of this._requests)lt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ut){var lt;this.isStreamingSupported||(lt=this.onProgress)==null||lt.call(this,{loaded:ut.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const lt=this._queuedChunk;return this._queuedChunk=null,{value:lt,done:!1}}if(this._done)return{value:void 0,done:!0};const ut=(0,a.createPromiseCapability)();return this._requests.push(ut),ut.promise}cancel(ut){this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(s,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFetchStream=void 0;var a=i(1),$=i(33);function j(ot,it,st){return{method:"GET",headers:ot,signal:st.signal,mode:"cors",credentials:it?"include":"same-origin",redirect:"follow"}}function _e(ot){const it=new Headers;for(const st in ot){const ut=ot[st];typeof ut>"u"||it.append(st,ut)}return it}class et{constructor(it){this.source=it,this.isHttp=/^https?:/i.test(it.url),this.httpHeaders=this.isHttp&&it.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var it;return((it=this._fullRequestReader)==null?void 0:it._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tt(this),this._fullRequestReader}getRangeReader(it,st){if(st<=this._progressiveDataLength)return null;const ut=new nt(this,it,st);return this._rangeRequestReaders.push(ut),ut}cancelAllRequests(it){this._fullRequestReader&&this._fullRequestReader.cancel(it);for(const st of this._rangeRequestReaders.slice(0))st.cancel(it)}}o.PDFFetchStream=et;class tt{constructor(it){this._stream=it,this._reader=null,this._loaded=0,this._filename=null;const st=it.source;this._withCredentials=st.withCredentials||!1,this._contentLength=st.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=st.disableRange||!1,this._rangeChunkSize=st.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!st.disableStream,this._isRangeSupported=!st.disableRange,this._headers=_e(this._stream.httpHeaders);const ut=st.url;fetch(ut,j(this._headers,this._withCredentials,this._abortController)).then(lt=>{if(!(0,$.validateResponseStatus)(lt.status))throw(0,$.createResponseStatusError)(lt.status,ut);this._reader=lt.body.getReader(),this._headersCapability.resolve();const rt=pt=>lt.headers.get(pt),{allowRangeRequests:dt,suggestedLength:ct}=(0,$.validateRangeRequestCapabilities)({getResponseHeader:rt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=dt,this._contentLength=ct||this._contentLength,this._filename=(0,$.extractFilenameFromHeader)(rt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:it,done:st}=await this._reader.read();return st?{value:it,done:st}:(this._loaded+=it.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(it).buffer,done:!1})}cancel(it){this._reader&&this._reader.cancel(it),this._abortController.abort()}}class nt{constructor(it,st,ut){this._stream=it,this._reader=null,this._loaded=0;const lt=it.source;this._withCredentials=lt.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!lt.disableStream,this._abortController=new AbortController,this._headers=_e(this._stream.httpHeaders),this._headers.append("Range",`bytes=${st}-${ut-1}`);const rt=lt.url;fetch(rt,j(this._headers,this._withCredentials,this._abortController)).then(dt=>{if(!(0,$.validateResponseStatus)(dt.status))throw(0,$.createResponseStatusError)(dt.status,rt);this._readCapability.resolve(),this._reader=dt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:it,done:st}=await this._reader.read();return st?{value:it,done:st}:(this._loaded+=it.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(it).buffer,done:!1})}cancel(it){this._reader&&this._reader.cancel(it),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(s){var o=__webpack_module_cache__[s];if(o!==void 0)return o.exports;var i=__webpack_module_cache__[s]={exports:{}};return __webpack_modules__[s](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var s=__webpack_exports__;Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"AnnotationEditorLayer",{enumerable:!0,get:function(){return $.AnnotationEditorLayer}}),Object.defineProperty(s,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return o.AnnotationEditorParamsType}}),Object.defineProperty(s,"AnnotationEditorType",{enumerable:!0,get:function(){return o.AnnotationEditorType}}),Object.defineProperty(s,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return j.AnnotationEditorUIManager}}),Object.defineProperty(s,"AnnotationLayer",{enumerable:!0,get:function(){return _e.AnnotationLayer}}),Object.defineProperty(s,"AnnotationMode",{enumerable:!0,get:function(){return o.AnnotationMode}}),Object.defineProperty(s,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(s,"GlobalWorkerOptions",{enumerable:!0,get:function(){return et.GlobalWorkerOptions}}),Object.defineProperty(s,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(s,"LoopbackPort",{enumerable:!0,get:function(){return i.LoopbackPort}}),Object.defineProperty(s,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(s,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(s,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(s,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(s,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(s,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(s,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(s,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(s,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(s,"SVGGraphics",{enumerable:!0,get:function(){return ot.SVGGraphics}}),Object.defineProperty(s,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return o.UNSUPPORTED_FEATURES}}),Object.defineProperty(s,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(s,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(s,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(s,"XfaLayer",{enumerable:!0,get:function(){return it.XfaLayer}}),Object.defineProperty(s,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(s,"createPromiseCapability",{enumerable:!0,get:function(){return o.createPromiseCapability}}),Object.defineProperty(s,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(s,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(s,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(s,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(s,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(s,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(s,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(s,"renderTextLayer",{enumerable:!0,get:function(){return nt.renderTextLayer}}),Object.defineProperty(s,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return i.version}});var o=__w_pdfjs_require__(1),i=__w_pdfjs_require__(4),a=__w_pdfjs_require__(8),$=__w_pdfjs_require__(22),j=__w_pdfjs_require__(7),_e=__w_pdfjs_require__(27),et=__w_pdfjs_require__(15),tt=__w_pdfjs_require__(3),nt=__w_pdfjs_require__(30),ot=__w_pdfjs_require__(31),it=__w_pdfjs_require__(29);if(tt.isNodeJS){const{PDFNodeStream:st}=__w_pdfjs_require__(32);(0,i.setPDFNetworkStreamFactory)(ut=>new st(ut))}else{const{PDFNetworkStream:st}=__w_pdfjs_require__(35),{PDFFetchStream:ut}=__w_pdfjs_require__(36);(0,i.setPDFNetworkStreamFactory)(lt=>(0,a.isValidFetchUrl)(lt.url)?new ut(lt):new st(lt))}})(),__webpack_exports__})())})(pdf$1);const pdf=getDefaultExportFromCjs(pdfExports),pdfjs=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]);function _typeof(s){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(s)}function _classCallCheck(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function _toPrimitive(s,o){if(_typeof(s)!=="object"||s===null)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,o||"default");if(_typeof(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}function _toPropertyKey(s){var o=_toPrimitive(s,"string");return _typeof(o)==="symbol"?o:String(o)}function _defineProperties(s,o){for(var i=0;i<o.length;i++){var a=o[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,_toPropertyKey(a.key),a)}}function _createClass(s,o,i){return o&&_defineProperties(s.prototype,o),i&&_defineProperties(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}function _defineProperty(s,o,i){return o=_toPropertyKey(o),o in s?Object.defineProperty(s,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[o]=i,s}var keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],isProduction$1=!0,prefix="Invariant failed";function invariant(s,o){if(!s){if(isProduction$1)throw new Error(prefix);var i=typeof o=="function"?o():o,a=i?"".concat(prefix,": ").concat(i):prefix;throw new Error(a)}}var isProduction=!0;function warning(s,o){if(!isProduction){if(s)return;var i="Warning: "+o;typeof console<"u"&&console.warn(i);try{throw Error(i)}catch{}}}propTypesExports.node,propTypesExports.oneOf(["error","loading","no-data"]).isRequired;var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function s(){_classCallCheck(this,s),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass(s,[{key:"setDocument",value:function(i){this.pdfDocument=i}},{key:"setViewer",value:function(i){this.pdfViewer=i}},{key:"setExternalLinkRel",value:function(i){this.externalLinkRel=i}},{key:"setExternalLinkTarget",value:function(i){this.externalLinkTarget=i}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(i){this.pdfViewer.currentPageNumber=i}},{key:"rotation",get:function(){return 0},set:function(i){}},{key:"goToDestination",value:function(i){var a=this;new Promise(function($){typeof i=="string"?a.pdfDocument.getDestination(i).then($):Array.isArray(i)?$(i):i.then($)}).then(function($){invariant(Array.isArray($),'"'.concat($,'" is not a valid destination array.'));var j=$[0];new Promise(function(_e){j instanceof Object?a.pdfDocument.getPageIndex(j).then(function(et){_e(et)}).catch(function(){invariant(!1,'"'.concat(j,'" is not a valid page reference.'))}):typeof j=="number"?_e(j):invariant(!1,'"'.concat(j,'" is not a valid destination reference.'))}).then(function(_e){var et=_e+1;invariant(et>=1&&et<=a.pagesCount,'"'.concat(et,'" is not a valid page number.')),a.pdfViewer.scrollPageIntoView({dest:i,pageIndex:_e,pageNumber:et})})})}},{key:"navigateTo",value:function(i){this.goToDestination(i)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(i,a,$){i.href=a,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=$?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),s}();function _arrayLikeToArray(s,o){(o==null||o>s.length)&&(o=s.length);for(var i=0,a=new Array(o);i<o;i++)a[i]=s[i];return a}function _unsupportedIterableToArray(s,o){if(s){if(typeof s=="string")return _arrayLikeToArray(s,o);var i=Object.prototype.toString.call(s).slice(8,-1);if(i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set")return Array.from(s);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(s,o)}}var isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(s){return typeof s<"u"}var allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayWorkerWarning(){warning(!isLocalFileSystem,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function _arrayWithoutHoles(s){if(Array.isArray(s))return _arrayLikeToArray(s)}function _iterableToArray(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(s){return _arrayWithoutHoles(s)||_iterableToArray(s)||_unsupportedIterableToArray(s)||_nonIterableSpread()}var eventProps=function(){var s={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(o){s[o]=propTypesExports.func}),s}(),fileTypes=[propTypesExports.string,propTypesExports.instanceOf(ArrayBuffer),propTypesExports.shape({data:propTypesExports.oneOfType([propTypesExports.object,propTypesExports.string]),httpHeaders:propTypesExports.object,range:propTypesExports.object,url:propTypesExports.string,withCredentials:propTypesExports.bool})];typeof File<"u"&&fileTypes.push(propTypesExports.instanceOf(File));typeof Blob<"u"&&fileTypes.push(propTypesExports.instanceOf(Blob));var isClassName=propTypesExports.oneOfType([propTypesExports.string,propTypesExports.arrayOf(propTypesExports.string)]),isFile=propTypesExports.oneOfType(fileTypes),isLinkService=propTypesExports.instanceOf(LinkService);propTypesExports.oneOf(["_self","_blank","_parent","_top"]);var isPage=propTypesExports.shape({commonObjs:propTypesExports.shape({}).isRequired,getAnnotations:propTypesExports.func.isRequired,getTextContent:propTypesExports.func.isRequired,getViewport:propTypesExports.func.isRequired,render:propTypesExports.func.isRequired}),isPageIndex=function s(o,i,a){var $=o[i],j=o.pageNumber,_e=o.pdf;if(!isDefined(_e))return null;if(isDefined($)){if(typeof $!="number")return new Error("`".concat(i,"` of type `").concat(_typeof($),"` supplied to `").concat(a,"`, expected `number`."));if($<0)return new Error("Expected `".concat(i,"` to be greater or equal to 0."));var et=_e.numPages;if($+1>et)return new Error("Expected `".concat(i,"` to be less or equal to ").concat(et-1,"."))}else if(!isDefined(j))return new Error("`".concat(i,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(a,"`."));return null},isPageNumber=function s(o,i,a){var $=o[i],j=o.pageIndex,_e=o.pdf;if(!isDefined(_e))return null;if(isDefined($)){if(typeof $!="number")return new Error("`".concat(i,"` of type `").concat(_typeof($),"` supplied to `").concat(a,"`, expected `number`."));if($<1)return new Error("Expected `".concat(i,"` to be greater or equal to 1."));var et=_e.numPages;if($>et)return new Error("Expected `".concat(i,"` to be less or equal to ").concat(et,"."))}else if(!isDefined(j))return new Error("`".concat(i,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(a,"`."));return null},isPdf=propTypesExports.oneOfType([propTypesExports.shape({getDestination:propTypesExports.func.isRequired,getOutline:propTypesExports.func.isRequired,getPage:propTypesExports.func.isRequired,numPages:propTypesExports.number.isRequired}),propTypesExports.bool]),isRef=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.shape({current:propTypesExports.any})]),isRenderMode=propTypesExports.oneOf(["canvas","none","svg"]),isRotate=propTypesExports.oneOf([0,90,180,270]);function ownKeys$2(s,o){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);o&&(a=a.filter(function($){return Object.getOwnPropertyDescriptor(s,$).enumerable})),i.push.apply(i,a)}return i}function _objectSpread$2(s){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$2(Object(i),!0).forEach(function(a){_defineProperty(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ownKeys$2(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}var isFunctionOrNode$1=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.node]);_objectSpread$2(_objectSpread$2({},eventProps),{},{children:propTypesExports.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:propTypesExports.string,externalLinkTarget:propTypesExports.string,file:isFile,imageResourcesPath:propTypesExports.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:propTypesExports.func,onLoadError:propTypesExports.func,onLoadProgress:propTypesExports.func,onLoadSuccess:propTypesExports.func,onPassword:propTypesExports.func,onSourceError:propTypesExports.func,onSourceSuccess:propTypesExports.func,rotate:propTypesExports.number});var isDestination=propTypesExports.oneOfType([propTypesExports.string,propTypesExports.arrayOf(propTypesExports.any)]);propTypesExports.shape({dest:isDestination,items:propTypesExports.arrayOf(propTypesExports.shape({dest:isDestination,title:propTypesExports.string})),title:propTypesExports.string}).isRequired,propTypesExports.func,isPdf.isRequired;function ownKeys$1(s,o){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);o&&(a=a.filter(function($){return Object.getOwnPropertyDescriptor(s,$).enumerable})),i.push.apply(i,a)}return i}function _objectSpread$1(s){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$1(Object(i),!0).forEach(function(a){_defineProperty(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ownKeys$1(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}_objectSpread$1({className:isClassName,inputRef:isRef,onItemClick:propTypesExports.func,onLoadError:propTypesExports.func,onLoadSuccess:propTypesExports.func,pdf:isPdf},eventProps);propTypesExports.string,propTypesExports.number,propTypesExports.func,propTypesExports.func,isPage.isRequired,propTypesExports.bool,propTypesExports.number.isRequired;propTypesExports.func,propTypesExports.func,isPage.isRequired,propTypesExports.number.isRequired;propTypesExports.func,propTypesExports.func,propTypesExports.func,propTypesExports.func,propTypesExports.func,isPage.isRequired,propTypesExports.number.isRequired,propTypesExports.number.isRequired,propTypesExports.number;propTypesExports.string,isLinkService.isRequired,propTypesExports.func,propTypesExports.func,propTypesExports.func,propTypesExports.func,propTypesExports.bool,propTypesExports.number;function ownKeys(s,o){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);o&&(a=a.filter(function($){return Object.getOwnPropertyDescriptor(s,$).enumerable})),i.push.apply(i,a)}return i}function _objectSpread(s){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(i),!0).forEach(function(a){_defineProperty(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}var isFunctionOrNode=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.node]);_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:propTypesExports.string,children:propTypesExports.node,className:isClassName,customTextRenderer:propTypesExports.func,devicePixelRatio:propTypesExports.number,error:isFunctionOrNode,height:propTypesExports.number,imageResourcesPath:propTypesExports.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:propTypesExports.func,onGetTextSuccess:propTypesExports.func,onLoadError:propTypesExports.func,onLoadSuccess:propTypesExports.func,onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,onRenderTextLayerError:propTypesExports.func,onRenderTextLayerSuccess:propTypesExports.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:propTypesExports.func,renderAnnotationLayer:propTypesExports.bool,renderForms:propTypesExports.bool,renderInteractiveForms:propTypesExports.bool,renderMode:isRenderMode,renderTextLayer:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number,unregisterPage:propTypesExports.func,width:propTypesExports.number});displayWorkerWarning();pdfExports.GlobalWorkerOptions.workerSrc="pdf.worker.js";const AddTransportOrder=()=>{const s=getDatabase(app),[o,i]=reactExports.useState(""),[a,$]=reactExports.useState([]),j=It=>{i(It.target.value)};var _e=!1;reactExports.useEffect(()=>{const It=ref$2(s,"/transporters/");onValue(It,Rt=>{const Pt=Rt.val();let Nt=[];for(const Lt in Pt)if(Pt.hasOwnProperty(Lt)){let zt={id:Pt[Lt].id,name:Pt[Lt].name};Nt.push(zt)}_e||$(Nt),_e=!0})},[a]),pdfExports.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfExports.version}/pdf.worker.js`;const[et,tt]=reactExports.useState(""),[nt,ot]=reactExports.useState(""),[it,st]=reactExports.useState(""),[ut,lt]=reactExports.useState(""),[rt,dt]=reactExports.useState("PUJAR PDF"),[ct,pt]=reactExports.useState(""),[at,ht]=reactExports.useState(""),[xt,gt]=reactExports.useState(""),[vt,ft]=reactExports.useState("");reactExports.useEffect(()=>{xt&&console.log(xt)},[xt]),reactExports.useEffect(()=>{var Wt,Gt;let It=document.querySelector(".dadesDiv");console.log(et);const Rt=/\d+\n\s\n/g,Pt=et.match(Rt);if(Pt){const wt=Pt[0].replace(/\n/g,"").replace(/\s/g,"");st(wt)}const Nt=/(\d+\n\s\n\d+\/\d+\/\d+\n\s\n)\d+/g,Lt=et.match(Nt);if(Lt){const bt=/\d+$/g,wt=Lt[0].match(bt);wt&&lt(wt[0])}const zt=/TEL\.\s*\n\s*(\d+\s?\d+\s?\d+\s?\d+\s)/g,Mt=/TEL2\.\s*\n\s*(\d+\s?\d+\s?\d+\s?\d+\s)/g;if(et){const bt=et.match(zt);if(bt){const kt=(Wt=bt==null?void 0:bt[0])==null?void 0:Wt.split(" ");kt.shift();const jt=kt.join(" ");console.log(jt),pt(jt)}const wt=et.match(Mt);if(wt){const kt=(Gt=wt==null?void 0:wt[0])==null?void 0:Gt.split(" ");kt.shift();const jt=kt.join(" ");ht(jt)}}const Et=`CLIENTE:
ENVO:`,Ct="TEL2.",Ot=et.indexOf(Et)+Et.length,Ut=et.indexOf(Ct);let $t=et.substring(Ot,Ut).trim(),Bt=$t.split(`
`);Bt=Bt.filter((bt,wt)=>Bt.indexOf(bt)===wt),$t=Bt.join(`
`),ot($t),$t!==""&&It&&(It.style.visibility="visible")},[et]);const yt=useNavigate(),[mt,St]=reactExports.useState(null);reactExports.useEffect(()=>{if(mt){const It=mt.name;dt(It);const Rt=new FileReader;Rt.onload=Pt=>{var Lt;const Nt=(Lt=Pt.target)==null?void 0:Lt.result;if(pdfjs)pdfExports.getDocument({data:Nt}).promise.then(zt=>{zt.getPage(1).then(Mt=>{Mt.getTextContent().then(Et=>{const Ct=Et.items.map(Ot=>Ot.str).join(`
`);tt(Ct)})})}).catch(zt=>{gt(zt.message)});else{gt("pdfjs not loaded!");return}},Rt.readAsArrayBuffer(mt)}},[mt]);const At=reactExports.useRef(null),Ft=It=>{var Pt;let Rt=(Pt=It.target.files)==null?void 0:Pt.item(0);St(Rt)},Tt=()=>{var It;(It=At.current)==null||It.click()};function Dt(){try{try{const Rt=getStorage(app);var It;try{It=ref(Rt,"transport/orders/"+rt)}catch(Pt){console.log(Pt)}uploadBytesResumable(It,mt).then(Pt=>{console.log("Uploaded a blob or file!"),getDownloadURL(Pt.ref).then(Nt=>{try{const Lt=ref$2(s,"transport"),zt=push(Lt),Mt=zt.key;let Et="";for(let Ct=0;Ct<a.length;Ct++)a[Ct].id===o&&(Et=a[Ct].name);set(zt,{id:Mt,albaraNum:it,clientNum:ut,address:nt,firstTel:ct,secondTel:at,observations:vt,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),status:"pendiente",pdfUrl:Nt,transId:o,transName:Et})}catch(Lt){alert("error: "+Lt.message)}})})}catch(Rt){gt(Rt.message),alert("Ja existeix un arxiu com aquest"+Rt.message)}}catch(Rt){gt(Rt.message),console.log(Rt.message)}yt("/transport")}return jsxs("div",{className:"container",style:{textAlign:"center"},children:[jsx("input",{type:"file",name:"file",id:"file",ref:At,onChangeCapture:Ft,style:{display:"none"},accept:"application/pdf",multiple:!1}),jsx(Navbar,{}),jsx(Alert$1,{className:"alert",severity:"success",children:"Copiat"}),jsx("div",{children:jsx("h1",{style:{textAlign:"center"},children:"Afegir comanda transport"})}),jsx("h3",{children:"Pujar PDF"}),jsx(Button$1,{onClick:()=>yt("/transport"),variant:"contained",children:"Tornar"}),jsx("br",{}),jsx(Button$1,{onClick:Tt,variant:"contained",children:rt}),jsxs("div",{className:"dadesDiv",children:[jsx("p",{children:jsx("b",{})}),jsxs(FormControl$1,{fullWidth:!0,children:[jsx(InputLabel$1,{id:"demo-simple-select-label",children:"Transportista"}),jsx(Select$1,{value:o,label:"Transportista",labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:j,children:a.map(It=>jsx(MenuItem$1,{value:It.id,children:It.name},It.id))})]}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Num. albar",rows:4,value:it,variant:"outlined",onChange:It=>st(It.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Num. client",rows:4,value:ut,variant:"outlined",onChange:It=>lt(It.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Telfon",rows:4,value:ct,variant:"outlined",onChange:It=>pt(It.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Telfon 2",rows:4,value:at,variant:"outlined",onChange:It=>ht(It.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Direcci",multiline:!0,rows:4,value:nt,variant:"outlined",onChange:It=>ot(It.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Observacions",multiline:!0,rows:4,defaultValue:vt,variant:"outlined",onChange:It=>ft(It.target.value)}),jsx(Button$1,{onClick:()=>Dt(),variant:"contained",children:"Afegir comanda"})]})]})},Incidencies$2="",Incidencies$1=()=>{const s=useNavigate(),[o,i]=reactExports.useState(!0),[a,$]=reactExports.useState(!1),[j,_e]=reactExports.useState(!1),[et,tt]=reactExports.useState(""),nt=getDatabase(app),ot=getStorage(app),it=ref$2(nt,"/incidencies/inconformitats"),[st,ut]=reactExports.useState([]),lt=ft=>{ft==="unresolvedChecked"?(i(!o),$(!1),_e(!1)):ft==="pendingInfoChecked"?(i(!1),$(!a),_e(!1)):ft==="resolvedChecked"&&(i(!1),$(!1),_e(!j))},[rt,dt]=reactExports.useState(!1),[ct,pt]=reactExports.useState(""),at=()=>{dt(!1)},ht=()=>{dt(!1)},xt=()=>{dt(!1),gt(ct)};function gt(ft){const yt=ref$2(nt,"/incidencies/inconformitats/"+ft),mt=st.find(St=>St.key===ft);if(mt!=null&&mt.documents)try{mt.documents.forEach(St=>{let At=ref(ot,St);deleteObject(At).then(()=>{console.log("deleted")}).catch(Ft=>{console.log("error deleting: "+Ft)})}),remove(yt)}catch(St){console.log("error deleting: "+St)}else remove(yt)}reactExports.useEffect(()=>{onValue(it,ft=>{const yt=ft.val();let mt=[];for(const St in yt)if(yt.hasOwnProperty(St)){let At=yt[St];(et!==""&&(At.nomDistribuidor.toLowerCase().includes(et.toLowerCase())||At.codiDistribuidor.toLowerCase().includes(et.toLowerCase()))&&vt(At)||et===""&&vt(At))&&mt.push(At)}ut(mt)})},[o,a,j,et]);function vt(ft){if(o&&!a&&!j||!o&&a&&!j||!o&&!a&&j){if(o&&ft.state==="pendent")return!0;if(a&&ft.state==="pendentinfo")return!0;if(j&&ft.state==="resolta")return!0}else return!0;return!1}return jsxs("div",{className:"container tecnic",children:[jsx(Navbar,{}),jsx("h1",{children:"No conormitats"}),jsx(Button$1,{onClick:()=>s("/addincidencia"),variant:"contained",children:"Nova no conformitat"}),jsx(Stack$1,{spacing:4,className:"w-50 my-3",direction:"column",children:jsx("input",{onChange:ft=>tt(ft.target.value),type:"text",className:"form-control",placeholder:"Buscar per nom o codi de distribudor","aria-label":"Search","aria-describedby":"basic-addon2"})}),jsxs("div",{className:"form-group form-check w-auto m-2 d-flex justify-space-between",children:[jsx("input",{checked:o,value:"unresolvedChecked",onChange:ft=>lt(ft.target.value),type:"checkbox",className:"form-check-input mx-2",id:"installation"}),jsx("label",{className:"form-check-label",htmlFor:"installation",children:"Sense resoldre"}),jsx("input",{checked:a,value:"pendingInfoChecked",onChange:ft=>lt(ft.target.value),type:"checkbox",className:"mx-2 form-check-input",id:"measureTaking"}),jsx("label",{className:"form-check-label",htmlFor:"measureTaking",children:"Pendents d'informaci"}),jsx("input",{checked:j,value:"resolvedChecked",onChange:ft=>lt(ft.target.value),type:"checkbox",className:"mx-2 form-check-input",id:"measureTaking"}),jsx("label",{className:"form-check-label",htmlFor:"measureTaking",children:"Resoltes"})]}),st&&st.map(ft=>{function yt(mt){dt(!0),pt(mt)}return jsx("div",{style:{whiteSpace:"pre-wrap"},className:"listView",children:jsx("div",{className:"listItem",children:jsxs("div",{className:"listItemContent",children:[jsxs("div",{className:"listItemContentLeft",children:[jsxs(Stack$1,{sx:{justifyContent:"center"},spacing:2,direction:"row",children:[jsxs("h4",{children:["NC: ",ft.ncNum]}),jsx("h4",{children:dayjs(parseInt(ft.date)).format("DD/MM/YYYY - HH:mm").toString()})]}),jsxs(Stack$1,{spacing:1,direction:"column",children:[jsxs(Stack$1,{spacing:1,direction:"row",children:[jsxs(Stack$1,{spacing:2,direction:"column",children:[jsxs("p",{children:[jsx("b",{children:"Tipus: "}),ft.serveioproducte]}),jsxs("p",{children:[jsxs("b",{children:[ft.comandaType,":"]})," ",ft.comandaNum]})]}),jsxs(Stack$1,{spacing:2,direction:"column",children:[jsxs("p",{children:[jsx("b",{children:"Codi distribudor: "}),ft.codiDistribuidor]}),jsxs("p",{children:[jsx("b",{children:"Nom distribudor: "}),ft.nomDistribuidor]})]})]}),jsxs("p",{children:[jsx("b",{children:"Comentaris: "}),`
`+ft.comentarisNC]}),ft.state!=="pendent"?jsxs("p",{children:[jsxs("b",{children:["Resoluci (",dayjs(parseInt(ft.resolucioTimestamp)).format("DD/MM/YYYY - HH:mm").toString(),"):"]}),`
`+ft.resolucio]}):jsx("p",{}),jsxs("p",{children:["N arxius: ",ft.documents?ft.documents.length:0," "]})]})]}),jsxs("div",{className:"listItemContentRight",children:[jsx("button",{onClick:()=>s("/editinconformitat/",{state:{incidenciaKey:ft.key}}),children:"Editar"}),jsx("button",{onClick:()=>yt(ft.key),children:"Eliminar"})]})]})})},ft.key)}),jsxs(Dialog$1,{open:rt,onClose:at,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[jsx(DialogTitle$1,{id:"alert-dialog-title",children:"Ests segur/a que vols eliminar aquesta no conformitat?"}),jsx(DialogContent$1,{children:jsx(DialogContentText$1,{id:"alert-dialog-description",children:"En eliminar aquesta no conformitat, tots els seus registres i arxius es perdran."})}),jsxs(DialogActions$1,{children:[jsx(Button$1,{onClick:ht,children:"CANCELLAR"}),jsx(Button$1,{onClick:xt,autoFocus:!0,children:"ELIMINAR"})]})]})]})},AddIncidencia="",PickersModalDialogRoot=styled$1(Dialog$1)({[`& .${dialogClasses$1.container}`]:{outline:0},[`& .${dialogClasses$1.paper}`]:{outline:0,minWidth:DIALOG_WIDTH}}),PickersModalDialogContent=styled$1(DialogContent$1)({"&:first-of-type":{padding:0}}),PickersModalDialog=s=>{var o;const{children:i,DialogProps:a={},onAccept:$,onClear:j,onDismiss:_e,onCancel:et,onSetToday:tt,open:nt,components:ot,componentsProps:it}=s,st=(o=ot==null?void 0:ot.ActionBar)!=null?o:PickersActionBar;return jsxs(PickersModalDialogRoot,_extends({open:nt,onClose:_e},a,{children:[jsx(PickersModalDialogContent,{children:i}),jsx(st,_extends({onAccept:$,onClear:j,onCancel:et,onSetToday:tt,actions:["cancel","accept"]},it==null?void 0:it.actionBar))]}))},_excluded$7=["children","DateInputProps","DialogProps","onAccept","onClear","onDismiss","onCancel","onSetToday","open","PureDateInputComponent","components","componentsProps"];function MobileWrapper(s){const{children:o,DateInputProps:i,DialogProps:a,onAccept:$,onClear:j,onDismiss:_e,onCancel:et,onSetToday:tt,open:nt,PureDateInputComponent:ot,components:it,componentsProps:st}=s,ut=_objectWithoutPropertiesLoose$5(s,_excluded$7);return jsxs(WrapperVariantContext.Provider,{value:"mobile",children:[jsx(ot,_extends({components:it},ut,i)),jsx(PickersModalDialog,{DialogProps:a,onAccept:$,onClear:j,onDismiss:_e,onCancel:et,onSetToday:tt,open:nt,components:it,componentsProps:st,children:o})]})}const PureDateInput=reactExports.forwardRef(function s(o,i){const{disabled:a,getOpenDialogAriaText:$,inputFormat:j,InputProps:_e,inputRef:et,label:tt,openPicker:nt,rawValue:ot,renderInput:it,TextFieldProps:st={},validationError:ut,className:lt}=o,rt=useLocaleText(),dt=$??rt.openDatePickerDialogue,ct=useUtils(),pt=reactExports.useMemo(()=>_extends({},_e,{readOnly:!0}),[_e]),at=getDisplayDate(ct,ot,j),ht=useEventCallback(xt=>{xt.stopPropagation(),nt()});return it(_extends({label:tt,disabled:a,ref:i,inputRef:et,error:ut,InputProps:pt,className:lt},!o.readOnly&&!o.disabled&&{onClick:ht},{inputProps:_extends({disabled:a,readOnly:!0,"aria-readonly":!0,"aria-label":dt(ot,ct),value:at},!o.readOnly&&{onClick:ht},{onKeyDown:onSpaceOrEnter(nt)})},st))});function useDateTimePickerDefaultizedProps(s,o){var i,a,$,j,_e;const et=useThemeProps({props:s,name:o}),tt=useUtils(),nt=useDefaultDates(),ot=(i=et.ampm)!=null?i:tt.is12HourCycleInCurrentLocale();if(et.orientation!=null&&et.orientation!=="portrait")throw new Error("We are not supporting custom orientation for DateTimePicker yet :(");return _extends({ampm:ot,orientation:"portrait",openTo:"day",views:["year","day","hours","minutes"],ampmInClock:!0,acceptRegex:ot?/[\dap]/gi:/\d/gi,disableMaskedInput:!1,inputFormat:ot?tt.formats.keyboardDateTime12h:tt.formats.keyboardDateTime24h,disableIgnoringDatePartForTimeValidation:Boolean(et.minDateTime||et.maxDateTime),disablePast:!1,disableFuture:!1},et,{minDate:parseNonNullablePickerDate(tt,(a=et.minDateTime)!=null?a:et.minDate,nt.minDate),maxDate:parseNonNullablePickerDate(tt,($=et.maxDateTime)!=null?$:et.maxDate,nt.maxDate),minTime:(j=et.minDateTime)!=null?j:et.minTime,maxTime:(_e=et.maxDateTime)!=null?_e:et.maxTime})}const dateTimePickerValueManager={emptyValue:null,getTodayValue:s=>s.date(),parseInput:parsePickerInputValue,areValuesEqual:(s,o,i)=>s.isEqual(o,i)};function getPickersToolbarTextUtilityClass(s){return generateUtilityClass("PrivatePickersToolbarText",s)}const pickersToolbarTextClasses=generateUtilityClasses("PrivatePickersToolbarText",["root","selected"]),_excluded$6=["className","selected","value"],useUtilityClasses$3=s=>{const{classes:o,selected:i}=s;return composeClasses({root:["root",i&&"selected"]},getPickersToolbarTextUtilityClass,o)},PickersToolbarTextRoot=styled$1(Typography$1,{name:"PrivatePickersToolbarText",slot:"Root",overridesResolver:(s,o)=>[o.root,{[`&.${pickersToolbarTextClasses.selected}`]:o.selected}]})(({theme:s})=>({transition:s.transitions.create("color"),color:s.palette.text.secondary,[`&.${pickersToolbarTextClasses.selected}`]:{color:s.palette.text.primary}})),PickersToolbarText=reactExports.forwardRef(function s(o,i){const{className:a,value:$}=o,j=_objectWithoutPropertiesLoose$5(o,_excluded$6),_e=useUtilityClasses$3(o);return jsx(PickersToolbarTextRoot,_extends({ref:i,className:clsx(a,_e.root),component:"span"},j,{children:$}))}),_excluded$5=["align","className","selected","typographyClassName","value","variant"],useUtilityClasses$2=s=>{const{classes:o}=s;return composeClasses({root:["root"]},getPickersToolbarUtilityClass,o)},PickersToolbarButtonRoot=styled$1(Button$1,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(s,o)=>o.root})({padding:0,minWidth:16,textTransform:"none"}),PickersToolbarButton=reactExports.forwardRef(function s(o,i){const a=useThemeProps({props:o,name:"MuiPickersToolbarButton"}),{align:$,className:j,selected:_e,typographyClassName:et,value:tt,variant:nt}=a,ot=_objectWithoutPropertiesLoose$5(a,_excluded$5),it=useUtilityClasses$2(a);return jsx(PickersToolbarButtonRoot,_extends({variant:"text",ref:i,className:clsx(j,it.root)},ot,{children:jsx(PickersToolbarText,{align:$,className:et,variant:nt,value:tt,selected:_e})}))});function getDateTimePickerToolbarUtilityClass(s){return generateUtilityClass("MuiDateTimePickerToolbar",s)}generateUtilityClasses("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","separator"]);const _excluded$4=["ampm","parsedValue","isMobileKeyboardViewOpen","onChange","openView","setOpenView","toggleMobileKeyboardView","toolbarFormat","toolbarPlaceholder","toolbarTitle","views"],useUtilityClasses$1=s=>{const{classes:o}=s;return composeClasses({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer"],separator:["separator"]},getDateTimePickerToolbarUtilityClass,o)},DateTimePickerToolbarRoot=styled$1(PickersToolbar,{name:"MuiDateTimePickerToolbar",slot:"Root",overridesResolver:(s,o)=>o.root})(({theme:s})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",[`& .${pickersToolbarClasses.penIconButton}`]:_extends({position:"absolute",top:8},s.direction==="rtl"?{left:8}:{right:8})})),DateTimePickerToolbarDateContainer=styled$1("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer",overridesResolver:(s,o)=>o.dateContainer})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),DateTimePickerToolbarTimeContainer=styled$1("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",overridesResolver:(s,o)=>o.timeContainer})({display:"flex"}),DateTimePickerToolbarSeparator=styled$1(PickersToolbarText,{name:"MuiDateTimePickerToolbar",slot:"Separator",overridesResolver:(s,o)=>o.separator})({margin:"0 4px 0 2px",cursor:"default"});function DateTimePickerToolbar(s){const o=useThemeProps({props:s,name:"MuiDateTimePickerToolbar"}),{ampm:i,parsedValue:a,isMobileKeyboardViewOpen:$,openView:j,setOpenView:_e,toggleMobileKeyboardView:et,toolbarFormat:tt,toolbarPlaceholder:nt="",toolbarTitle:ot,views:it}=o,st=_objectWithoutPropertiesLoose$5(o,_excluded$4),ut=o,lt=useUtils(),rt=useLocaleText(),dt=useUtilityClasses$1(ut),ct=ot??rt.dateTimePickerDefaultToolbarTitle,pt=ht=>i?lt.format(ht,"hours12h"):lt.format(ht,"hours24h"),at=reactExports.useMemo(()=>a?tt?lt.formatByString(a,tt):lt.format(a,"shortDate"):nt,[a,tt,nt,lt]);return jsxs(DateTimePickerToolbarRoot,_extends({toolbarTitle:ct,isMobileKeyboardViewOpen:$,toggleMobileKeyboardView:et,className:dt.root},st,{isLandscape:!1,ownerState:ut,children:[jsxs(DateTimePickerToolbarDateContainer,{className:dt.dateContainer,ownerState:ut,children:[it.includes("year")&&jsx(PickersToolbarButton,{tabIndex:-1,variant:"subtitle1",onClick:()=>_e("year"),selected:j==="year",value:a?lt.format(a,"year"):""}),it.includes("day")&&jsx(PickersToolbarButton,{tabIndex:-1,variant:"h4",onClick:()=>_e("day"),selected:j==="day",value:at})]}),jsxs(DateTimePickerToolbarTimeContainer,{className:dt.timeContainer,ownerState:ut,children:[it.includes("hours")&&jsx(PickersToolbarButton,{variant:"h3",onClick:()=>_e("hours"),selected:j==="hours",value:a?pt(a):"--"}),it.includes("minutes")&&jsxs(reactExports.Fragment,{children:[jsx(DateTimePickerToolbarSeparator,{variant:"h3",value:":",className:dt.separator,ownerState:ut}),jsx(PickersToolbarButton,{variant:"h3",onClick:()=>_e("minutes"),selected:j==="minutes",value:a?lt.format(a,"minutes"):"--"})]}),it.includes("seconds")&&jsxs(reactExports.Fragment,{children:[jsx(DateTimePickerToolbarSeparator,{variant:"h3",value:":",className:dt.separator,ownerState:ut}),jsx(PickersToolbarButton,{variant:"h3",onClick:()=>_e("seconds"),selected:j==="seconds",value:a?lt.format(a,"seconds"):"--"})]})]})]}))}const validateTime=({adapter:s,value:o,props:i})=>{const{minTime:a,maxTime:$,minutesStep:j,shouldDisableTime:_e,disableIgnoringDatePartForTimeValidation:et}=i,tt=s.utils.date(o),nt=createIsAfterIgnoreDatePart(et,s.utils);if(o===null)return null;switch(!0){case!s.utils.isValid(o):return"invalidDate";case Boolean(a&&nt(a,tt)):return"minTime";case Boolean($&&nt(tt,$)):return"maxTime";case Boolean(_e&&_e(s.utils.getHours(tt),"hours")):return"shouldDisableTime-hours";case Boolean(_e&&_e(s.utils.getMinutes(tt),"minutes")):return"shouldDisableTime-minutes";case Boolean(_e&&_e(s.utils.getSeconds(tt),"seconds")):return"shouldDisableTime-seconds";case Boolean(j&&s.utils.getMinutes(tt)%j!==0):return"minutesStep";default:return null}},_excluded$3=["minDate","maxDate","disableFuture","shouldDisableDate","disablePast"],validateDateTime=({props:s,value:o,adapter:i})=>{const{minDate:a,maxDate:$,disableFuture:j,shouldDisableDate:_e,disablePast:et}=s,tt=_objectWithoutPropertiesLoose$5(s,_excluded$3),nt=validateDate({adapter:i,value:o,props:{minDate:a,maxDate:$,disableFuture:j,shouldDisableDate:_e,disablePast:et}});return nt!==null?nt:validateTime({adapter:i,value:o,props:tt})},isSameDateTimeError=(s,o)=>s===o;function useDateTimeValidation(s){return useValidation(s,validateDateTime,isSameDateTimeError)}function getDateTimePickerTabsUtilityClass(s){return generateUtilityClass("MuiDateTimePickerTabs",s)}generateUtilityClasses("MuiDateTimePickerTabs",["root"]);const viewToTab=s=>["day","month","year"].includes(s)?"date":"time",tabToView=s=>s==="date"?"day":"hours",useUtilityClasses=s=>{const{classes:o}=s;return composeClasses({root:["root"]},getDateTimePickerTabsUtilityClass,o)},DateTimePickerTabsRoot=styled$1(Tabs$1,{name:"MuiDateTimePickerTabs",slot:"Root",overridesResolver:(s,o)=>o.root})(({ownerState:s,theme:o})=>_extends({boxShadow:`0 -1px 0 0 inset ${o.palette.divider}`},s.wrapperVariant==="desktop"&&{order:1,boxShadow:`0 1px 0 0 inset ${o.palette.divider}`,[`& .${tabsClasses$1.indicator}`]:{bottom:"auto",top:0}})),DateTimePickerTabs=function s(o){const i=useThemeProps({props:o,name:"MuiDateTimePickerTabs"}),{dateRangeIcon:a=jsx(DateRange,{}),onChange:$,timeIcon:j=jsx(Time,{}),view:_e}=i,et=useLocaleText(),tt=reactExports.useContext(WrapperVariantContext),nt=_extends({},i,{wrapperVariant:tt}),ot=useUtilityClasses(nt),it=(st,ut)=>{$(tabToView(ut))};return jsxs(DateTimePickerTabsRoot,{ownerState:nt,variant:"fullWidth",value:viewToTab(_e),onChange:it,className:ot.root,children:[jsx(Tab$1,{value:"date","aria-label":et.dateTableLabel,icon:jsx(reactExports.Fragment,{children:a})}),jsx(Tab$1,{value:"time","aria-label":et.timeTableLabel,icon:jsx(reactExports.Fragment,{children:j})})]})},_excluded$2=["onChange","PaperProps","PopperProps","ToolbarComponent","TransitionComponent","value","components","componentsProps","hideTabs"],DesktopDateTimePicker=reactExports.forwardRef(function s(o,i){const a=useDateTimePickerDefaultizedProps(o,"MuiDesktopDateTimePicker"),$=useDateTimeValidation(a)!==null,{pickerProps:j,inputProps:_e,wrapperProps:et}=usePickerState(a,dateTimePickerValueManager),{PaperProps:tt,PopperProps:nt,ToolbarComponent:ot=DateTimePickerToolbar,TransitionComponent:it,components:st,componentsProps:ut,hideTabs:lt=!0}=a,rt=_objectWithoutPropertiesLoose$5(a,_excluded$2),dt=reactExports.useMemo(()=>_extends({Tabs:DateTimePickerTabs},st),[st]),ct=_extends({},_e,rt,{components:dt,componentsProps:ut,ref:i,validationError:$});return jsx(DesktopWrapper,_extends({},et,{DateInputProps:ct,KeyboardDateInputComponent:KeyboardDateInput,PopperProps:nt,PaperProps:tt,TransitionComponent:it,components:dt,componentsProps:ut,children:jsx(CalendarOrClockPicker,_extends({},j,{autoFocus:!0,toolbarTitle:a.label||a.toolbarTitle,ToolbarComponent:ot,DateInputProps:ct,components:dt,componentsProps:ut,hideTabs:lt},rt))}))}),_excluded$1=["ToolbarComponent","value","onChange","components","componentsProps","hideTabs"],MobileDateTimePicker=reactExports.forwardRef(function s(o,i){const a=useDateTimePickerDefaultizedProps(o,"MuiMobileDateTimePicker"),$=useDateTimeValidation(a)!==null,{pickerProps:j,inputProps:_e,wrapperProps:et}=usePickerState(a,dateTimePickerValueManager),{ToolbarComponent:tt=DateTimePickerToolbar,components:nt,componentsProps:ot,hideTabs:it=!1}=a,st=_objectWithoutPropertiesLoose$5(a,_excluded$1),ut=reactExports.useMemo(()=>_extends({Tabs:DateTimePickerTabs},nt),[nt]),lt=_extends({},_e,st,{components:ut,componentsProps:ot,ref:i,validationError:$});return jsx(MobileWrapper,_extends({},st,et,{DateInputProps:lt,PureDateInputComponent:PureDateInput,components:ut,componentsProps:ot,children:jsx(CalendarOrClockPicker,_extends({},j,{autoFocus:!0,toolbarTitle:a.label||a.toolbarTitle,ToolbarComponent:tt,DateInputProps:lt,components:ut,componentsProps:ot,hideTabs:it},st))}))}),_excluded=["desktopModeMediaQuery","DialogProps","PopperProps","TransitionComponent"],DateTimePicker=reactExports.forwardRef(function s(o,i){const a=useThemeProps({props:o,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:$="@media (pointer: fine)",DialogProps:j,PopperProps:_e,TransitionComponent:et}=a,tt=_objectWithoutPropertiesLoose$5(a,_excluded);return useMediaQuery($,{defaultMatches:!0})?jsx(DesktopDateTimePicker,_extends({ref:i,PopperProps:_e,TransitionComponent:et},tt)):jsx(MobileDateTimePicker,_extends({ref:i,DialogProps:j},tt))}),formaRegistreObject=[{key:2,name:"WhatsApp"},{key:3,name:"e-mail"},{key:4,name:"Web"},{key:5,name:"Presencial"},{key:6,name:"Altres"}],comandaTypeObject=[{key:1,type:"Albar"},{key:2,type:"Comanda"},{key:3,type:"Comanda client"}],Incidencies=()=>{const s=getDatabase(app),[o,i]=reactExports.useState(""),a=getStorage(app),[$,j]=reactExports.useState(()=>(i(dayjs().valueOf().toString()),dayjs())),[_e,et]=reactExports.useState(dayjs().valueOf.toString()),[tt,nt]=reactExports.useState(()=>(et(dayjs().valueOf().toString()),dayjs())),[ot,it]=reactExports.useState(""),[st,ut]=reactExports.useState(""),[lt,rt]=reactExports.useState([]),[dt,ct]=reactExports.useState(""),[pt,at]=reactExports.useState(""),[ht,xt]=reactExports.useState(""),[gt,vt]=reactExports.useState(""),[ft,yt]=reactExports.useState(""),[mt,St]=reactExports.useState(""),[At,Ft]=reactExports.useState(""),[Tt,Dt]=reactExports.useState(""),[It,Rt]=reactExports.useState(""),[Pt,Nt]=reactExports.useState(""),[Lt,zt]=reactExports.useState(""),[Mt,Et]=reactExports.useState(""),[Ct,Ot]=reactExports.useState(""),[Ut,$t]=reactExports.useState(""),[Bt,Wt]=reactExports.useState(!1),[Gt,bt]=reactExports.useState(!1),[wt,kt]=reactExports.useState(!1),[jt,Ht]=reactExports.useState(!0),[Kt,Zt]=reactExports.useState(!1),[rn,qt]=reactExports.useState(!1),[nn,Xt]=reactExports.useState("none"),[sn,ln]=reactExports.useState("none"),[Vt,cn]=reactExports.useState(null),[xn,Cn]=reactExports.useState([]),[an,tn]=reactExports.useState([]),[bn,En]=reactExports.useState("");reactExports.useEffect(()=>{var gn=!1;gn&&alert("Error: "+bn),gn=!0},[bn]);const pn=gn=>{ct(gn.target.value)},vn=gn=>{ut(gn.target.value)},wn=gn=>{var In;it(gn.target.value);let Dn=(In=lt.find($n=>$n.id===gn.target.value))==null?void 0:In.name;at(Dn||"")},An=gn=>{j(gn);let Dn=gn==null?void 0:gn.valueOf();i((Dn==null?void 0:Dn.toString())||"")},on=gn=>{nt(gn);let Dn=gn==null?void 0:gn.valueOf();et((Dn==null?void 0:Dn.toString())||"")},dn=gn=>{(Gt||wt)&&(bt(!1),kt(!1)),Wt(gn.target.checked)},en=gn=>{(Bt||wt)&&(Wt(!1),kt(!1)),bt(gn.target.checked)},Qt=gn=>{(Bt||Gt)&&(Wt(!1),bt(!1)),kt(gn.target.checked)},Jt=gn=>{(jt||rn)&&(Ht(!1),qt(!1)),Zt(gn.target.checked)},fn=gn=>{(Kt||rn)&&(Zt(!1),qt(!1)),Ht(gn.target.checked)},mn=gn=>{(Kt||jt)&&(Zt(!1),Ht(!1)),qt(gn.target.checked)},[Sn,kn]=reactExports.useState("SENSE ARXIU"),[Mn,Fn]=reactExports.useState(null),[Nn,Rn]=reactExports.useState(0),Ln=reactExports.useRef(null),jn=gn=>{var In;let Dn=(In=gn.target.files)==null?void 0:In.item(0);Fn(Dn),kn((Dn==null?void 0:Dn.name)||"SENSE ARXIU")};var Hn=!1;reactExports.useEffect(()=>{const gn=ref$2(s,"/admins/");onValue(gn,Dn=>{const In=Dn.val();let $n=[];for(const Yn in In)if(In.hasOwnProperty(Yn)){let Gn={id:In[Yn].id,name:In[Yn].name};$n.push(Gn)}Hn||rt($n),Hn=!0})},[lt]),reactExports.useEffect(()=>{Gt?Xt(""):(Xt("none"),zt(""),Et(""))},[Gt]),reactExports.useEffect(()=>{Kt?ln(""):(ln("none"),zt(""),Et(""))},[Kt]),reactExports.useEffect(()=>{const gn=ref$2(s,"/incidencies/inconformitats");onValue(gn,Dn=>{const In=Dn.val();let $n=1;for(const Yn in In)In.hasOwnProperty(Yn)&&$n++;Rn($n)})},[s,Nn]);const On=useNavigate();async function Bn(){const gn=new Date().getTime();if(Vt){var Dn=an,In=xn;for(let Gn=0;Gn<Vt.length;Gn++){const Jn=ref(a,`documents/incidencies/${gn+Vt[Gn].name}`);await uploadBytes(Jn,Vt[Gn]);const rr=await getDownloadURL(Jn);Dn.push(rr),In.push(Vt[Gn].name)}tn(Dn),Cn(In)}let $n=push(ref$2(s,"incidencies/inconformitats/")),Yn=$n.key;if(Yn){let Gn;if(Bt)Gn="servei";else if(Gt)Gn="producte";else if(wt)Gn="altres";else{alert("Has de marcar servei, producte o altres!");return}let Jn="pendent";Kt?Jn="resolta":rn&&(Jn="pendentinfo"),set($n,{key:Yn,ncNum:Nn,date:o||"",adminId:ot,comandaType:st,formaRegistre:dt,comandaNum:ht,codiDistribuidor:gt,nomDistribuidor:ft,nomTrucador:mt,correuTrucador:At,tlfTrucador:Tt,direccioClientFinal:It,tlfClientFinal:Pt,refProducte:Lt,descrProducte:Mt,comentarisNC:Ut,serveioproducte:Gn,documents:an||[],documentsNames:xn,resolucio:Ct||"",resolucioTimestamp:_e||"",state:Jn})}else alert("error a la base de dades");console.log("Created incidencia"),On("/incidencies")}function Vn(gn){let Dn,In;switch(gn){case"askInfo":Dn="Estimado cliente, le confirmamos que su notificacin con referencia NC"+Nn+` ha sido parcialmente registrada por falta de informacin. Informacin solicitada:

     (PARA RELLENAR POR EL USUARIO)

y nos mantenemos a la espera de recibir documentacin por su parte.
Agradeceramos que pudiera responder este email con la informacin solicitada.

Muy atentamente,
`+pt,In=`Notificacin NC${Nn} registrada`,Kn(At,In,Dn);break;case"sendData":Dn="Estimado cliente, le confirmamos que su notificacin con referencia NC"+Nn+` ha sido correctamente registrada y que en un plazo de 24-48 horas recibir una respuesta al respecto.

Muy atentamente,
`+pt,In=`Notificacin NC${Nn} registrada`,Kn(At,In,Dn);break;case"resolved":Dn="Estimado cliente, le confirmamos que su notificacin con referencia NC"+Nn+` ha sido resuelta.

Muy atentamente,
`+pt,In=`Notificacin NC${Nn} registrada`,Kn(At,In,Dn);break}}function Kn(gn,Dn,In){const $n={to:`${gn}`,subject:Dn,body:encodeURIComponent(In)};window.open(`mailto:${$n.to}?subject=${$n.subject}&body=${$n.body}`,"_blank")}return jsxs("div",{children:[jsx(Navbar,{}),jsx("input",{type:"file",name:"file",id:"file",ref:Ln,onChangeCapture:jn,style:{display:"none"},accept:"*",multiple:!1}),jsx("h1",{children:"Afegir nova no conformitat"}),jsx(Button$1,{onClick:()=>On("/incidencies"),variant:"contained",children:"Tornar"}),jsx(Stack$1,{className:"MasterStack",spacing:4,direction:"column",children:jsxs("div",{className:"select",children:[jsxs(FormControl$1,{sx:{margin:"10px"},fullWidth:!0,children:[jsx(InputLabel$1,{id:"demo-simple-select-label",children:"Forma de registre"}),jsx(Select$1,{value:dt,label:"Forma de registre",labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:pn,children:formaRegistreObject.map(gn=>jsx(MenuItem$1,{value:gn.name,children:gn.name},gn.key))})]}),jsxs(FormControl$1,{sx:{margin:"10px"},fullWidth:!0,children:[jsx(InputLabel$1,{id:"demo-simple-select-label",children:"Registrador"}),jsx(Select$1,{value:ot,label:"Registrador",labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:wn,children:lt.map(gn=>jsx(MenuItem$1,{value:gn.id,children:gn.name},gn.id))})]})]})}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:{xs:"column",sm:"row"},children:[jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"NC:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Nm. no conformitat",type:"text",value:Nn,variant:"outlined"})]}),jsx(Stack$1,{spacing:1,direction:"column",children:jsxs(LocalizationProvider,{dateAdapter:AdapterDayjs,children:[jsx("h6",{children:"Data:"}),jsx(DateTimePicker,{label:"Date&Time picker",value:$,onChange:An,inputFormat:"DD/MM/YYYY HH:mm",renderInput:gn=>jsx(TextField$1,{...gn})})]})}),jsxs(Stack$1,{spacing:2,direction:"column",children:[jsx("h6",{children:"N"}),jsxs(FormControl$1,{sx:{margin:"10px"},fullWidth:!0,children:[jsx(InputLabel$1,{id:"demo-simple-select-label",children:"Tipus comanda"}),jsx(Select$1,{value:st,label:"Tipus comanda",labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:vn,children:comandaTypeObject.map(gn=>jsx(MenuItem$1,{value:gn.type,children:gn.type},gn.key))})]}),jsx(TextField$1,{id:"outlined-multiline-static",label:"0000",type:"text",value:ht,variant:"outlined",onChange:gn=>xt(gn.target.value)})]})]}),jsx("h3",{children:"Dades distribudor:"}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:{xs:"column",sm:"row"},children:[jsx("h6",{children:"Codi:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"0000",type:"text",value:gt,variant:"outlined",onChange:gn=>vt(gn.target.value)}),jsx("h6",{children:"Nom:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Nom distribudor",type:"text",value:ft,variant:"outlined",onChange:gn=>yt(gn.target.value)})]}),jsx("h3",{children:"Dades trucador:"}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:{xs:"column",sm:"row"},children:[jsx("h6",{children:"Nom:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Nom trucador",type:"text",value:mt,variant:"outlined",onChange:gn=>St(gn.target.value)}),jsx("h6",{children:"Correu:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"mail@exemple.cat",type:"text",value:At,variant:"outlined",onChange:gn=>Ft(gn.target.value)}),jsx("h6",{children:"Tlf.:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"600000000",type:"text",value:Tt,variant:"outlined",onChange:gn=>Dt(gn.target.value)})]}),jsx("h3",{children:"Dades client final:"}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:{xs:"column",sm:"row"},children:[jsx("h6",{children:"Direcci:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Av. de la Pau, 1",type:"text",value:It,variant:"outlined",onChange:gn=>Rt(gn.target.value)}),jsx("h6",{children:"Tlf.:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"600000000",type:"text",value:Pt,variant:"outlined",onChange:gn=>Nt(gn.target.value)})]}),jsx("h3",{children:"Dades producte:"}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:"column",children:[jsxs(Stack$1,{sx:{display:nn},spacing:1,direction:{xs:"column",sm:"row"},children:[jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"Ref. producte:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"0000",type:"text",value:Lt,variant:"outlined",onChange:gn=>zt(gn.target.value)})]}),jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"Descripci:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Descripci del producte",type:"text",multiline:!0,rows:2,value:Mt,variant:"outlined",onChange:gn=>{Et(gn.target.value)}})]})]}),jsxs(Stack$1,{spacing:1,direction:{xs:"column",sm:"row"},children:[jsxs("div",{className:"d-flex w-100 justify-content-between",children:[jsx("h6",{style:{marginTop:"10px"},children:"Producte:"}),jsx(Checkbox$1,{checked:Gt,onChange:en,inputProps:{"aria-label":"controlled"}})]}),jsxs("div",{className:"d-flex w-100 justify-content-between",children:[jsx("h6",{style:{marginTop:"10px"},children:"Servei:"}),jsx(Checkbox$1,{checked:Bt,onChange:dn,inputProps:{"aria-label":"controlled"}})]}),jsxs("div",{className:"d-flex w-100 justify-content-between",children:[jsx("h6",{style:{marginTop:"10px"},children:"Altres:"}),jsx(Checkbox$1,{checked:wt,onChange:Qt,inputProps:{"aria-label":"controlled"}})]})]})]}),jsx(Stack$1,{className:"Stack w-50",spacing:1,direction:"column",children:jsxs(Stack$1,{spacing:1,className:"w-100",direction:"column",children:[jsx("h6",{children:"Comentaris no conformitat:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Comentaris",type:"text",multiline:!0,rows:4,value:Ut,variant:"outlined",onChange:gn=>{$t(gn.target.value)}})]})}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:"column",children:[jsxs(Stack$1,{sx:{display:sn},spacing:1,direction:{xs:"column",sm:"row"},children:[jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"Resoluci:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Resoluci no conformitat",type:"text",multiline:!0,rows:2,value:Ct,variant:"outlined",onChange:gn=>{Ot(gn.target.value)}})]}),jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"Data resoluci:"}),jsx(LocalizationProvider,{dateAdapter:AdapterDayjs,children:jsx(DateTimePicker,{label:"Date&Time picker",value:tt,onChange:on,inputFormat:"DD/MM/YYYY HH:mm",renderInput:gn=>jsx(TextField$1,{...gn})})})]})]}),jsxs(Stack$1,{spacing:1,direction:{xs:"column",sm:"row"},children:[jsx("h6",{style:{marginTop:"10px"},children:"Sense resoldre:"}),jsx(Checkbox$1,{checked:jt,onChange:fn,inputProps:{"aria-label":"controlled"}}),jsx("h6",{style:{marginTop:"10px"},children:"Resolt:"}),jsx(Checkbox$1,{checked:Kt,onChange:Jt,inputProps:{"aria-label":"controlled"}}),jsx("h6",{style:{marginTop:"10px"},children:"Pendent d'informaci:"}),jsx(Checkbox$1,{checked:rn,onChange:mn,inputProps:{"aria-label":"controlled"}})]})]}),jsx(Stack$1,{style:{margin:"30px"},className:"StackCheck",spacing:1,direction:"row",children:jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"documentsInput",children:"Documents: "}),jsx("br",{}),jsx("input",{type:"file",multiple:!0,className:"form-control-file",id:"documentsInput",onChange:gn=>cn(gn.target.files)})]})}),jsxs(Stack$1,{style:{margin:"30px"},className:"StackCheck",spacing:1,direction:"row",children:[rn&&jsxs(Button$1,{onClick:()=>Vn("askInfo"),variant:"contained",children:["ENVIAR MAIL",jsx("br",{}),"SOLLICITUT DADES"]}),jt&&jsxs(Button$1,{onClick:()=>Vn("sendData"),variant:"contained",children:["ENVIAR MAIL",jsx("br",{}),"DADES COMPLETES"]}),Kt&&jsxs(Button$1,{onClick:()=>Vn("resolved"),variant:"contained",children:["ENVIAR MAIL",jsx("br",{}),"RESOLUCI"]})]}),jsx(Stack$1,{style:{margin:"30px"},className:"StackCheck",spacing:1,direction:"row",children:jsx(Button$1,{onClick:()=>Bn(),variant:"contained",children:"NOVA NO CONFORMITAT"})})]})},EditInconformitat=()=>{var s="";const o=useLocation();Object.entries(o).forEach(([yn,Pn])=>{yn==="state"&&(s=Pn.incidenciaKey)});const i=getDatabase(app),a=getStorage(app),$=ref$2(i,`/incidencies/inconformitats/${s}`),[j,_e]=reactExports.useState(),[et,tt]=reactExports.useState(dayjs().valueOf.toString()),[nt,ot]=reactExports.useState(dayjs().valueOf.toString()),[it,st]=reactExports.useState(dayjs()),[ut,lt]=reactExports.useState(dayjs()),[rt,dt]=reactExports.useState(""),[ct,pt]=reactExports.useState(""),[at,ht]=reactExports.useState([]),[xt,gt]=reactExports.useState(""),[vt,ft]=reactExports.useState(""),[yt,mt]=reactExports.useState(""),[St,At]=reactExports.useState(""),[Ft,Tt]=reactExports.useState(""),[Dt,It]=reactExports.useState(""),[Rt,Pt]=reactExports.useState(""),[Nt,Lt]=reactExports.useState(""),[zt,Mt]=reactExports.useState(""),[Et,Ct]=reactExports.useState(""),[Ot,Ut]=reactExports.useState(""),[$t,Bt]=reactExports.useState(""),[Wt,Gt]=reactExports.useState(""),[bt,wt]=reactExports.useState(""),[kt,jt]=reactExports.useState(""),[Ht,Kt]=reactExports.useState(""),[Zt,rn]=reactExports.useState(!1),[qt,nn]=reactExports.useState(!1),[Xt,sn]=reactExports.useState(!1),[ln,Vt]=reactExports.useState("none"),[cn,xn]=reactExports.useState(""),[Cn,an]=reactExports.useState(!1),[tn,bn]=reactExports.useState(0),[En,pn]=reactExports.useState("none"),[vn,wn]=reactExports.useState(!1),[An,on]=reactExports.useState(!0),[dn,en]=reactExports.useState(!1),[Qt,Jt]=reactExports.useState(null),[fn,mn]=reactExports.useState([]),[Sn,kn]=reactExports.useState([]);reactExports.useEffect(()=>{console.log(cn)},[cn]),reactExports.useEffect(()=>{onValue($,yn=>{const Pn=yn.val();let Tn={key:Pn.key?Pn.key:"",ncNum:Pn.ncNum,date:Pn.date,adminId:Pn.adminId,comandaType:Pn.comandaType,formaRegistre:Pn.formaRegistre,comandaNum:Pn.comandaNum,codiDistribuidor:Pn.codiDistribuidor,nomDistribuidor:Pn.nomDistribuidor,nomTrucador:Pn.nomTrucador,correuTrucador:Pn.correuTrucador,tlfTrucador:Pn.tlfTrucador,direccioClientFinal:Pn.direccioClientFinal,tlfClientFinal:Pn.tlfClientFinal,refProducte:Pn.refProducte,descrProducte:Pn.descrProducte,comentarisNC:Pn.comentarisNC,serveioproducte:Pn.serveioproducte,documents:Pn.documents,documentsNames:Pn.documentsNames,resolucio:Pn.resolucio||"",resolucioTimestamp:Pn.resolucioTimestamp||"",state:Pn.state};_e(Tn);const zn=ref$2(i,"/admins/"+Tn.adminId);if(onValue(zn,Un=>{const Xn=Un.val();ft(Xn.name)}),dt(Tn.adminId),pt(Tn.comandaType),gt(Tn.formaRegistre),Tn.date&&(st(dayjs(parseInt(Tn.date))),tt(Tn.date)),Yn(Tn.ncNum),mt(Tn.comandaNum),At(Tn.codiDistribuidor),Tt(Tn.nomDistribuidor),It(Tn.nomTrucador),Pt(Tn.correuTrucador),Lt(Tn.tlfTrucador),Mt(Tn.direccioClientFinal),Ct(Tn.tlfClientFinal),wt(Tn.comentarisNC),rn(Tn.serveioproducte==="servei"),nn(Tn.serveioproducte==="producte"),sn(Tn.serveioproducte==="altres"),Kt(Tn.state),Ut(Tn.resolucio),Tn.resolucioTimestamp&&(lt(dayjs(parseInt(Tn.resolucioTimestamp))),ot(Tn.resolucioTimestamp)),wn(Tn.state==="resolta"),on(Tn.state==="pendent"),en(Tn.state==="pendentinfo"),Tn.serveioproducte==="producte"?(Vt(""),Bt(Tn.refProducte),Gt(Tn.descrProducte)):Vt("none"),Tn.documents){let Un=[];for(let Xn=0;Xn<Tn.documentsNames.length;Xn++){const dr=Tn.documentsNames[Xn];Un.push(dr)}kn(Tn.documents||[]),mn(Un)}})},[]);const Mn=yn=>{gt(yn.target.value)},Fn=yn=>{pt(yn.target.value)},Nn=yn=>{dt(yn.target.value)},Rn=yn=>{st(yn);let Pn=yn==null?void 0:yn.valueOf();tt((Pn==null?void 0:Pn.toString())||"")},Ln=yn=>{lt(yn);let Pn=yn==null?void 0:yn.valueOf();ot((Pn==null?void 0:Pn.toString())||"")},jn=yn=>{(qt||Xt)&&(nn(!1),sn(!1)),rn(yn.target.checked)},Hn=yn=>{(Zt||Xt)&&(rn(!1),sn(!1)),nn(yn.target.checked)},On=yn=>{(Zt||qt)&&(rn(!1),nn(!1)),sn(yn.target.checked)},Bn=yn=>{(An||dn)&&(on(!1),en(!1)),wn(yn.target.checked)},Vn=yn=>{(vn||dn)&&(wn(!1),en(!1)),on(yn.target.checked)},Kn=yn=>{(vn||An)&&(wn(!1),on(!1)),en(yn.target.checked)},gn=()=>{an(!1)},Dn=()=>{an(!1)},In=()=>{an(!1),Zr(tn)},[$n,Yn]=reactExports.useState(0);var Gn=!1;reactExports.useEffect(()=>{const yn=ref$2(i,"/admins/");onValue(yn,Pn=>{const Tn=Pn.val();let zn=[];for(const Un in Tn)if(Tn.hasOwnProperty(Un)){let Xn={id:Tn[Un].id,name:Tn[Un].name};zn.push(Xn)}Gn||ht(zn),Gn=!0})},[at]),reactExports.useEffect(()=>{Vt(qt?"":"none")},[qt]),reactExports.useEffect(()=>{vn?pn(""):(pn("none"),Bt(""),Gt(""))},[vn]);const Jn=useNavigate();async function rr(){try{try{let Tn;if(Zt)Tn="servei";else if(qt)Tn="producte";else if(Xt)Tn="altres";else{alert("Has de marcar servei, producte o altres!");return}try{const zn=new Date().getTime();if(Qt){var yn=Sn,Pn=fn;for(let Un=0;Un<Qt.length;Un++){const Xn=ref(a,`documents/incidencies/${zn+Qt[Un].name}`);await uploadBytes(Xn,Qt[Un]);const dr=await getDownloadURL(Xn);yn.push(dr),Pn.push(Qt[Un].name)}kn(yn),mn(Pn)}}catch(zn){alert("Error amb documents: "+zn);return}try{const zn=ref$2(i,"incidencies/inconformitats/"+s);let Un="";vn?Un="resolta":An?Un="pendent":dn&&(Un="pendentinfo"),await set(zn,{key:s,ncNum:$n,date:et||"",adminId:rt,comandaType:ct,formaRegistre:xt,comandaNum:yt,codiDistribuidor:St,nomDistribuidor:Ft,nomTrucador:Dt,correuTrucador:Rt,tlfTrucador:Nt,direccioClientFinal:zt,tlfClientFinal:Et,refProducte:$t,descrProducte:Wt,comentarisNC:bt,serveioproducte:Tn,documents:Sn||[],documentsNames:fn||[],resolucio:Ot||"",resolucioTimestamp:nt||"",state:Un})}catch(zn){alert("error: "+zn.message)}}catch(Tn){xn(Tn.message),alert("Ja existeix un arxiu com aquest"+Tn.message)}}catch(Tn){xn(Tn.message),console.log(Tn.message)}Jr(),console.log("Edited incidencia"),Jn("/incidencies")}function Qr(yn){bn(yn),an(!0)}function Jr(){if(kt!=="")try{let yn=ref(a,kt);deleteObject(yn).then(()=>{console.log("updated file")})}catch(yn){console.log("error deleting: "+yn)}}function Zr(yn){console.log(Sn);var Pn=Sn,Tn=fn;if(!Pn||!Tn)return;const zn=ref(a,Pn[yn]);try{deleteObject(zn).then(()=>{console.log("deleted document")})}catch(Un){console.log(Un)}Pn.splice(yn,1),Tn.splice(yn,1),kn(Pn),mn(Tn),j&&update(ref$2(i,`serveiTecnic/${j.key}`),{documents:Pn,documentsNames:Tn})}function cr(yn){let Pn,Tn;switch(yn){case"askInfo":Pn="Estimado cliente, le confirmamos que su notificacin con referencia NC"+$n+` ha sido parcialmente registrada por falta de informacin. Informacin solicitada:

     (PARA RELLENAR POR EL USUARIO)

y nos mantenemos a la espera de recibir documentacin por su parte.
Agradeceramos que pudiera responder este email con la informacin solicitada.

Muy atentamente,
`+vt,Tn=`Notificacin NC${$n} registrada`,ur(Rt,Tn,Pn);break;case"sendData":Pn="Estimado cliente, le confirmamos que su notificacin con referencia NC"+$n+` ha sido correctamente registrada y que en un plazo de 24-48 horas recibir una respuesta al respecto.

Muy atentamente,
`+vt,Tn=`Notificacin NC${$n} registrada`,ur(Rt,Tn,Pn);break;case"resolved":Pn="Estimado cliente, le confirmamos que su notificacin con referencia NC"+$n+` ha sido resuelta.

Muy atentamente,
`+vt,Tn=`Notificacin NC${$n} registrada`,ur(Rt,Tn,Pn);break}}function ur(yn,Pn,Tn){const zn={to:`${yn}`,subject:Pn,body:encodeURIComponent(Tn)};window.open(`mailto:${zn.to}?subject=${zn.subject}&body=${zn.body}`,"_blank")}return jsxs("div",{children:[jsx(Navbar,{}),jsx("h1",{children:"Editar no conformitat"}),jsx(Button$1,{onClick:()=>Jn("/incidencies"),variant:"contained",children:"Tornar"}),jsx(Stack$1,{className:"MasterStack",spacing:4,direction:"column",children:jsxs("div",{className:"select",children:[jsxs(FormControl$1,{sx:{margin:"10px"},fullWidth:!0,children:[jsx(InputLabel$1,{id:"demo-simple-select-label",children:"Forma de registre"}),jsx(Select$1,{value:xt,label:"Forma de registre",labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:Mn,children:formaRegistreObject.map(yn=>jsx(MenuItem$1,{value:yn.name,children:yn.name},yn.key))})]}),jsxs(FormControl$1,{sx:{margin:"10px"},fullWidth:!0,children:[jsx(InputLabel$1,{id:"demo-simple-select-label",children:"Registrador"}),jsx(Select$1,{value:rt,label:"Registrador",labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:Nn,children:at.map(yn=>jsx(MenuItem$1,{value:yn.id,children:yn.name},yn.id))})]})]})}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:{xs:"column",sm:"row"},children:[jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"NC:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Nm. no conformitat",type:"text",value:$n,variant:"outlined"})]}),jsx(Stack$1,{spacing:1,direction:"column",children:jsxs(LocalizationProvider,{dateAdapter:AdapterDayjs,children:[jsx("h6",{children:"Data:"}),jsx(DateTimePicker,{label:"Date&Time picker",value:it,onChange:Rn,inputFormat:"DD/MM/YYYY HH:mm",renderInput:yn=>jsx(TextField$1,{...yn})})]})}),jsxs(Stack$1,{spacing:2,direction:"column",children:[jsx("h6",{children:"N"}),jsxs(FormControl$1,{sx:{margin:"10px"},fullWidth:!0,children:[jsx(InputLabel$1,{id:"demo-simple-select-label",children:"Tipus comanda"}),jsx(Select$1,{value:ct,label:"Tipus comanda",labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:Fn,children:comandaTypeObject.map(yn=>jsx(MenuItem$1,{value:yn.type,children:yn.type},yn.key))})]}),jsx(TextField$1,{id:"outlined-multiline-static",label:"0000",type:"text",value:yt,variant:"outlined",onChange:yn=>mt(yn.target.value)})]})]}),jsx("h3",{children:"Dades distribudor:"}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:{xs:"column",sm:"row"},children:[jsx("h6",{children:"Codi:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"0000",type:"text",value:St,variant:"outlined",onChange:yn=>At(yn.target.value)}),jsx("h6",{children:"Nom:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Nom distribudor",type:"text",value:Ft,variant:"outlined",onChange:yn=>Tt(yn.target.value)})]}),jsx("h3",{children:"Dades trucador:"}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:{xs:"column",sm:"row"},children:[jsx("h6",{children:"Nom:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Nom trucador",type:"text",value:Dt,variant:"outlined",onChange:yn=>It(yn.target.value)}),jsx("h6",{children:"Correu:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"mail@exemple.cat",type:"text",value:Rt,variant:"outlined",onChange:yn=>Pt(yn.target.value)}),jsx("h6",{children:"Tlf.:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"600000000",type:"text",value:Nt,variant:"outlined",onChange:yn=>Lt(yn.target.value)})]}),jsx("h3",{children:"Dades client final:"}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:{xs:"column",sm:"row"},children:[jsx("h6",{children:"Direcci:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Av. de la Pau, 1",type:"text",value:zt,variant:"outlined",onChange:yn=>Mt(yn.target.value)}),jsx("h6",{children:"Tlf.:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"600000000",type:"text",value:Et,variant:"outlined",onChange:yn=>Ct(yn.target.value)})]}),jsx("h3",{children:"Dades producte:"}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:"column",children:[jsxs(Stack$1,{sx:{display:ln},spacing:1,direction:{xs:"column",sm:"row"},children:[jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"Ref. producte:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"0000",type:"text",value:$t,variant:"outlined",onChange:yn=>Bt(yn.target.value)})]}),jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"Descripci:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Descripci del producte",type:"text",multiline:!0,rows:2,value:Wt,variant:"outlined",onChange:yn=>{Gt(yn.target.value)}})]})]}),jsxs(Stack$1,{spacing:1,direction:"row",children:[jsx("h6",{style:{marginTop:"10px"},children:"s Producte:"}),jsx(Checkbox$1,{checked:qt,onChange:Hn,inputProps:{"aria-label":"controlled"}}),jsx("h6",{style:{marginTop:"10px"},children:"s Servei:"}),jsx(Checkbox$1,{checked:Zt,onChange:jn,inputProps:{"aria-label":"controlled"}}),jsx("h6",{style:{marginTop:"10px"},children:"Altres:"}),jsx(Checkbox$1,{checked:Xt,onChange:On,inputProps:{"aria-label":"controlled"}})]})]}),jsx(Stack$1,{className:"Stack w-50",spacing:1,direction:"column",children:jsxs(Stack$1,{spacing:1,className:"w-100",direction:"column",children:[jsx("h6",{children:"Comentaris no conformitat:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Comentaris",type:"text",multiline:!0,rows:4,value:bt,variant:"outlined",onChange:yn=>{wt(yn.target.value)}})]})}),jsxs(Stack$1,{className:"Stack",spacing:1,direction:"column",children:[jsxs(Stack$1,{sx:{display:En},spacing:1,direction:{xs:"column",sm:"row"},children:[jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"Resoluci:"}),jsx(TextField$1,{id:"outlined-multiline-static",label:"Resoluci no conformitat",type:"text",multiline:!0,rows:2,value:Ot,variant:"outlined",onChange:yn=>{Ut(yn.target.value)}})]}),jsxs(Stack$1,{spacing:1,direction:"column",children:[jsx("h6",{children:"Data resoluci:"}),jsx(LocalizationProvider,{dateAdapter:AdapterDayjs,children:jsx(DateTimePicker,{label:"Date&Time picker",value:ut,onChange:Ln,inputFormat:"DD/MM/YYYY HH:mm",renderInput:yn=>jsx(TextField$1,{...yn})})})]})]}),jsxs(Stack$1,{spacing:1,direction:"row",children:[jsx("h6",{style:{marginTop:"10px"},children:"Sense resoldre:"}),jsx(Checkbox$1,{checked:An,onChange:Vn,inputProps:{"aria-label":"controlled"}}),jsx("h6",{style:{marginTop:"10px"},children:"Resolt:"}),jsx(Checkbox$1,{checked:vn,onChange:Bn,inputProps:{"aria-label":"controlled"}}),jsx("h6",{style:{marginTop:"10px"},children:"Pendent d'informaci:"}),jsx(Checkbox$1,{checked:dn,onChange:Kn,inputProps:{"aria-label":"controlled"}})]})]}),jsxs(Stack$1,{sx:{display:"flex",justifyContent:"center",alignItems:"center",margin:"30px"},className:"StackCheck",spacing:1,direction:"column",children:[jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"documentsInput",children:"Documents: "}),jsx("br",{}),jsx("input",{type:"file",multiple:!0,className:"form-control-file",id:"documentsInput",onChange:yn=>Jt(yn.target.files)})]}),Sn.length>0&&jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"documentsNames",children:"Noms dels documents: "}),jsx("br",{}),jsx("ul",{className:"list-group",children:fn.map((yn,Pn)=>jsx("li",{className:"list-group-item",children:jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[jsx("a",{href:Sn[Pn],target:"_blank",rel:"noreferrer",children:yn}),jsx("button",{onClick:()=>Qr(Pn),className:"btn btn-danger btn-sm float-right",children:"Eliminar"})]})},yn))})]})]}),jsxs(Stack$1,{style:{margin:"30px"},className:"StackCheck",spacing:1,direction:"row",children:[dn&&jsxs(Button$1,{onClick:()=>cr("askInfo"),variant:"contained",children:["ENVIAR MAIL",jsx("br",{}),"SOLLICITUT DADES"]}),An&&jsxs(Button$1,{onClick:()=>cr("sendData"),variant:"contained",children:["ENVIAR MAIL",jsx("br",{}),"DADES COMPLETES"]}),vn&&jsxs(Button$1,{onClick:()=>cr("resolved"),variant:"contained",children:["ENVIAR MAIL",jsx("br",{}),"RESOLUCI"]})]}),jsx(Stack$1,{style:{margin:"30px"},className:"StackCheck",spacing:1,direction:"row",children:jsx(Button$1,{onClick:()=>rr(),variant:"contained",children:"EDITAR NO CONFORMITAT"})}),jsxs(Dialog$1,{open:Cn,onClose:gn,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[jsx(DialogTitle$1,{id:"alert-dialog-title",children:"Ests segur/a que vols eliminar aquesta no conformitat?"}),jsx(DialogContent$1,{children:jsx(DialogContentText$1,{id:"alert-dialog-description",children:"En elliminar, s'elliminar l'arxiu de la base de dades."})}),jsxs(DialogActions$1,{children:[jsx(Button$1,{onClick:Dn,children:"CANCELLAR"}),jsx(Button$1,{onClick:In,autoFocus:!0,children:"ELIMINAR ARXIU"})]})]})]})};function EditTransport(){const s=useLocation(),o=useNavigate(),i=s.state.transport,a=getDatabase(app),[$,j]=reactExports.useState(""),[_e,et]=reactExports.useState([]),[tt,nt]=reactExports.useState(!1),ot=At=>{j(At.target.value)},it=()=>{nt(!tt)};var st=!1;reactExports.useEffect(()=>{const At=ref$2(a,"/transporters/");onValue(At,Ft=>{const Tt=Ft.val();let Dt=[];for(const It in Tt)if(Tt.hasOwnProperty(It)){let Rt={id:Tt[It].id,name:Tt[It].name};Dt.push(Rt)}st||et(Dt),st=!0}),j(i.transId),lt(i.address),dt(i.albaraNum),pt(i.clientNum),ht(i.firstTel),gt(i.secondTel),mt(i.observations),nt(i.status==="pendiente")},[]);const[ut,lt]=reactExports.useState(""),[rt,dt]=reactExports.useState(""),[ct,pt]=reactExports.useState(""),[at,ht]=reactExports.useState(""),[xt,gt]=reactExports.useState(""),[vt,ft]=reactExports.useState(""),[yt,mt]=reactExports.useState("");reactExports.useEffect(()=>{vt&&console.log(vt)},[vt]);function St(){try{const At=ref$2(a,"/transport/"+i.id);let Ft="";for(let Tt=0;Tt<_e.length;Tt++)_e[Tt].id===$&&(Ft=_e[Tt].name);update(At,{id:i.id,albaraNum:rt,clientNum:ct,address:ut,firstTel:at,secondTel:xt,observations:yt,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),status:tt?"pendiente":"finalizada",transId:$,transName:Ft})}catch(At){alert("error: "+At.message),ft(At.message)}alert("Comanda transport actualitzada correctament"),o("/transport")}return jsxs("div",{className:"container",children:[jsx(Navbar,{}),jsx(Alert$1,{className:"alert",severity:"success",children:"Copiat"}),jsx("div",{children:jsx("h1",{style:{textAlign:"center"},children:"Editar comanda transport"})}),jsx("h3",{children:"Pujar PDF"}),jsx(Button$1,{onClick:()=>o("/transport"),variant:"contained",children:"Tornar"}),jsx("br",{}),jsx(Button$1,{onClick:()=>window.open(i.pdfUrl,"_blank"),variant:"contained",children:"Veure PDF"}),jsx("p",{children:jsx("b",{})}),jsxs(FormControl$1,{children:[jsx(InputLabel$1,{id:"demo-simple-select-label",children:"Transportista"}),jsx(Select$1,{value:$,label:"Transportista",labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:ot,children:_e.map(At=>jsx(MenuItem$1,{value:At.id,children:At.name},At.id))})]}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Num. albar",rows:4,value:rt,variant:"outlined",onChange:At=>dt(At.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Num. client",rows:4,value:ct,variant:"outlined",onChange:At=>pt(At.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Telfon",rows:4,value:at,variant:"outlined",onChange:At=>ht(At.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Telfon 2",rows:4,value:xt,variant:"outlined",onChange:At=>gt(At.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Direcci",multiline:!0,rows:4,value:ut,variant:"outlined",onChange:At=>lt(At.target.value)}),jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Observacions",multiline:!0,rows:4,defaultValue:yt,variant:"outlined",onChange:At=>mt(At.target.value)}),jsxs("div",{className:"display-flex flex-direction-row",children:[jsx(FormControlLabel$1,{label:"Pendents",control:jsx(Checkbox$1,{checked:tt,onChange:it})}),jsx(FormControlLabel$1,{label:"Finalitzats",control:jsx(Checkbox$1,{checked:!tt,onChange:it})})]}),jsx(Button$1,{onClick:()=>St(),variant:"contained",children:"Editar comanda"})]})}const Admins$1="",Admins=()=>{const s=getDatabase(app),o=ref$2(s,"/admins/"),[i,a]=reactExports.useState([]),[$,j]=reactExports.useState(""),[_e,et]=reactExports.useState(!0);reactExports.useEffect(()=>{onValue(o,it=>{const st=it.val();let ut=[];for(const lt in st)if(st.hasOwnProperty(lt)){let rt={id:st[lt].id,name:st[lt].name};ut.push(rt)}a(ut)})},[i]);function tt(){const it=document.querySelectorAll(".addAdmin")[0];_e?(et(!1),it.style.visibility="visible",it.style.height="auto"):(et(!0),it.style.visibility="collapse",it.style.height="0px")}function nt(){tt();const it=ref$2(s,"/admins/"),st=push(it),ut=st.key;set(st,{id:ut,name:$});let lt=document.querySelector(".alert");lt&&(lt.style.visibility="visible",setTimeout(()=>{lt.style.visibility="hidden"},3e3))}function ot(it){const st=ref$2(s,"/admins/"+it);remove(st)}return jsxs("div",{className:"container",style:{textAlign:"center"},children:[jsx(Navbar,{}),jsx(Alert$1,{className:"alert",severity:"success",children:"xit"}),jsx("div",{children:jsx("h1",{style:{textAlign:"center"},children:"Admins"})}),jsx("h3",{children:"Lista administradors"}),jsxs(Stack$1,{spacing:2,direction:"column",children:[jsx(Button$1,{id:"addButton",onClick:()=>tt(),variant:"contained",children:"Afegir admin"}),jsxs("div",{className:"addAdmin d-flex flex-column",style:{visibility:"collapse",height:"0"},children:[jsx(TextField$1,{style:{margin:"10px"},id:"outlined-multiline-static",label:"Nom admin.",rows:4,value:$,variant:"outlined",onChange:it=>j(it.target.value)}),jsx(Button$1,{onClick:()=>nt(),variant:"contained",children:"Afegir nou"})]})]}),jsx("div",{className:"listView",children:i.map(it=>jsxs("div",{className:"adminCard",children:[jsx("p",{children:it.name}),jsx("img",{style:{position:"absolute",right:0,bottom:10},role:"button",width:"30px",onClick:()=>ot(it.id),src:"https://www.shareicon.net/data/128x128/2015/09/06/96798_trash_512x512.png",alt:"trashcan"})]},it.id))})]})},ServeisTecnics=()=>{const s=useNavigate(),o=useLocation(),i=getDatabase(app),a=getStorage(app),[$,j]=reactExports.useState([]),_e=ref$2(i,"/serveiTecnic/"),[et,tt]=reactExports.useState(!0),[nt,ot]=reactExports.useState(!1),[it,st]=reactExports.useState(!1),[ut,lt]=reactExports.useState(!0),[rt,dt]=reactExports.useState(!1);var ct="";o.state&&(ct=o.state.message);const pt=vt=>{vt==="isPendent"?(tt(!et),ot(!1),st(!1)):vt==="isPerRevisar"?(tt(!1),ot(!nt),st(!1)):vt==="isFinalitzat"&&(tt(!1),ot(!1),st(!it))},at=vt=>{vt==="isMesura"?(lt(!ut),dt(!1)):vt==="isInstalacio"?(lt(!1),dt(!rt)):vt!=="isMesura"&&vt==="isInstalacio"?(lt(!1),dt(!0)):(lt(!0),dt(!0))};reactExports.useEffect(()=>{let vt=document.querySelector(".alert");vt&&ct!==""&&(vt.style.visibility="visible",vt.innerHTML=ct,setTimeout(()=>{vt.style.visibility="hidden"},3e3))},[ct]),reactExports.useEffect(()=>{onValue(_e,vt=>{const ft=vt.val();let yt=[];for(const mt in ft)if(ft.hasOwnProperty(mt)){let St=ft[mt];xt(St)&&ht(St)&&yt.push(St)}j(yt)})},[et,nt,it,ut,rt]);function ht(vt){if(et&&!nt&&!it||!et&&nt&&!it||!et&&!nt&&it){if(et&&vt.stateServei==="Pendent")return!0;if(nt&&vt.stateServei==="Per revisar")return!0;if(it&&vt.stateServei==="Finalitzat")return!0}else return!0;return!1}function xt(vt){return ut&&vt.isMesura===!0?!0:!ut&&vt.isMesura===!1}function gt(vt){const ft=ref$2(i,"/serveiTecnic/"+vt.key),yt=vt.albaraFile,mt=vt.documents;if(yt!=="")try{let St=ref(a,yt);deleteObject(St).then(()=>{console.log("deleted albara")})}catch(St){console.log("error deleting: "+St)}mt&&mt.length>0&&mt.forEach(St=>{try{let At=ref(a,St);deleteObject(At).then(()=>{console.log("deleted document")})}catch(At){console.log("error deleting: "+At)}}),remove(ft)}return jsxs("div",{className:"container tecnic",children:[jsx(Navbar,{}),jsx(Alert$1,{className:"alert",severity:"success",children:"xit"}),jsx("h3",{children:"Administraci servei tcnic"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/tecnic/tecnicslist"),children:"Llistat professionals tcnics"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/tecnic/addserveitecnic",{state:{btnTitle:"Crear servei tcnic",alertMessage:"Servei tcnic afegit correctament."}}),children:"Afegir servei tcnic"}),jsxs("div",{className:"form-group form-check w-auto m-2 d-flex justify-space-between",children:[jsx("input",{checked:et,value:"isPendent",onChange:vt=>pt(vt.target.value),type:"checkbox",className:"form-check-input mx-2",id:"installation"}),jsx("label",{className:"form-check-label",htmlFor:"installation",children:"Pendents"}),jsx("input",{checked:nt,value:"isPerRevisar",onChange:vt=>pt(vt.target.value),type:"checkbox",className:"mx-2 form-check-input",id:"measureTaking"}),jsx("label",{className:"form-check-label",htmlFor:"measureTaking",children:"Per revisar"}),jsx("input",{checked:it,value:"isFinalitzat",onChange:vt=>pt(vt.target.value),type:"checkbox",className:"mx-2 form-check-input",id:"measureTaking"}),jsx("label",{className:"form-check-label",htmlFor:"measureTaking",children:"Finalitzats"})]}),jsxs("div",{className:"form-group form-check w-auto m-2 d-flex justify-space-between",children:[jsx("input",{checked:ut,value:"isMesura",onChange:vt=>at(vt.target.value),type:"checkbox",className:"form-check-input mx-2",id:"installation"}),jsx("label",{className:"form-check-label",htmlFor:"installation",children:"Presa mesures"}),jsx("input",{checked:rt,value:"isInstalacio",onChange:vt=>at(vt.target.value),type:"checkbox",className:"mx-2 form-check-input",id:"measureTaking"}),jsx("label",{className:"form-check-label",htmlFor:"measureTaking",children:"Installaci"})]}),jsx("div",{className:"col",children:$.map(vt=>jsx("div",{className:"card m-2",children:jsxs("div",{className:"card-body",children:[jsxs("div",{className:"d-flex justify-content-between",children:[jsx("p",{className:"card-title",children:vt.stateServei}),jsx("p",{className:"card-title",children:vt.isMesura?"Mesura":"Installaci"})]}),jsxs("div",{className:"d-flex justify-content-between",children:[jsx("h5",{className:"card-title",children:vt.codeDistributor}),jsx("h5",{className:"card-title",children:vt.tecnicName})]}),jsx("p",{className:"card-text",children:vt.description}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/tecnic/viewserveitecnic",{state:{serveiTecnic:vt}}),children:"Veure"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/tecnic/addserveitecnic",{state:{serveiTecnic:vt,btnTitle:"Editar servei tcnic",alertMessage:"Servei tcnic actualitzat correctament."}}),children:"Editar"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>gt(vt),children:"Eliminar"})]})},vt.key))})]})},AddServeiTecnic=()=>{const s=useNavigate(),o=getStorage(app),i=useLocation(),a=i.state.serveiTecnic,$=i.state.btnTitle,j=i.state.alertMessage,_e=getDatabase(app),et=ref$2(_e,"tecnics/"),[tt,nt]=reactExports.useState(""),[ot,it]=reactExports.useState(""),[st,ut]=reactExports.useState(""),[lt,rt]=reactExports.useState([]);let dt=new Date().getTimezoneOffset()*6e4;const[ct,pt]=reactExports.useState(new Date(Date.now()-dt).toISOString().slice(0,16)),[at,ht]=reactExports.useState(new Date(Date.now()-dt).toISOString().slice(0,16)),[xt,gt]=reactExports.useState(""),[vt,ft]=reactExports.useState(""),[yt,mt]=reactExports.useState(""),[St,At]=reactExports.useState("Albaran"),[Ft,Tt]=reactExports.useState(""),[Dt,It]=reactExports.useState(!0),[Rt,Pt]=reactExports.useState(""),[Nt,Lt]=reactExports.useState(""),[zt,Mt]=reactExports.useState(""),[Et,Ct]=reactExports.useState(""),[Ot,Ut]=reactExports.useState(""),[$t,Bt]=reactExports.useState(null),[Wt,Gt]=reactExports.useState(""),[bt,wt]=reactExports.useState(""),[kt,jt]=reactExports.useState(null),[Ht,Kt]=reactExports.useState([]),[Zt,rn]=reactExports.useState([]),[qt,nn]=reactExports.useState([]),[Xt,sn]=reactExports.useState([]),[ln,Vt]=reactExports.useState(""),[cn,xn]=reactExports.useState("Pendent");reactExports.useEffect(()=>{if(a){const vn=new Date(a.currentDate+36e5).toISOString().slice(0,16);if(vn&&pt(vn),a.revisionDate){const An=new Date(a.revisionDate+36e5).toISOString().slice(0,16);ht(An)}if(a.actionDate){const An=new Date(a.actionDate+36e5).toISOString().slice(0,16);Vt(An)}if(a.albaraFile&&Gt(a.albaraFileName),a.documents){let wn=[];for(let An=0;An<a.documentsNames.length;An++){const on=a.documentsNames[An];wn.push(on)}Kt(wn)}if(a.documentsTecnic&&a.documentsTecnicNames){let wn=[];for(let An=0;An<a.documentsTecnicNames.length;An++){const on=a.documentsTecnicNames[An];wn.push(on)}rn(wn)}nt(a.tecnicId),it(a.tecnicName),ut(a.comentarisTecnic),gt(a.codeDistributor),ft(a.nameDistributor),mt(a.emailDistributor),At(a.albaraType),Tt(a.albaraNumber),It(a.isMesura),Pt(a.description),Lt(a.revision),Mt(a.finalClientName),Ct(a.finalClientPhone),Ut(a.finalClientAddress),wt(a.albaraFile),nn(a.documents||[]),sn(a.documentsTecnic||[]),xn(a.stateServei)}},[a]),reactExports.useEffect(()=>{onValue(et,pn=>{const vn=pn.val();let wn=[];for(const An in vn)if(vn.hasOwnProperty(An)){let on={id:vn[An].id,name:vn[An].name};wn.push(on)}rt(wn)})},[]);function Cn(pn){nt(pn);const vn=document.querySelector(".selectedTecnic"),An=vn.options[vn.selectedIndex].text;it(An)}async function an(){const pn=new Date(ct).getTime(),vn=new Date(at).getTime(),wn=new Date(ln).getTime();var An=bt,on=Wt;if($t){const mn=ref(o,`albarans/${pn+$t.name}`);if(await uploadBytes(mn,$t),An=await getDownloadURL(mn),on=$t.name,wt(An),Gt($t.name),bt!=="")try{let Sn=ref(o,bt);deleteObject(Sn).then(()=>{console.log("deleted albara")})}catch(Sn){console.log(Sn)}}if(kt){var dn=qt,en=Ht;for(let mn=0;mn<kt.length;mn++){const Sn=ref(o,`documents/${pn+kt[mn].name}`);await uploadBytes(Sn,kt[mn]);const kn=await getDownloadURL(Sn);dn.push(kn),en.push(kt[mn].name)}nn(dn),Kt(en)}var Qt,Jt;a?(Qt=a.key,Jt=ref$2(_e,`serveiTecnic/${Qt}`)):(Jt=push(ref$2(_e,"serveiTecnic")),Qt=Jt.key),set(Jt,{key:Qt||"",tecnicId:tt,tecnicName:ot,comentarisTecnic:st,currentDate:pn,revisionDate:vn,codeDistributor:xt,nameDistributor:vt,emailDistributor:yt,albaraType:St,albaraNumber:Ft,isMesura:Dt,description:Rt,revision:Nt,finalClientName:zt,finalClientPhone:Et,finalClientAddress:Ot,albaraFile:An||"",albaraFileName:on,documents:qt||[],documentsTecnic:Xt||[],documentsNames:Ht,documentsTecnicNames:Zt,actionDate:wn||0,stateServei:cn}),s("/tecnic/",{state:{message:j}})}const tn=()=>{It(!Dt);const pn=document.querySelector(".uploadAlbara");pn&&pn.classList.toggle("collapse")};async function bn(pn){const vn=ref(o,pn);await deleteObject(vn),wt(""),Gt(""),await update(ref$2(_e,`serveiTecnic/${a.key}`),{albaraFile:"",albaraFileName:""})}function En(pn,vn){console.log(qt);var wn,An;switch(vn){case"admin":wn=qt,An=Ht;break;case"tecnic":wn=Xt,An=Zt;break}if(!wn||!An)return;const on=ref(o,wn[pn]);try{deleteObject(on).then(()=>{console.log("deleted document")})}catch(dn){console.log(dn)}wn.splice(pn,1),An.splice(pn,1),nn(wn),Kt(An),vn==="admin"?update(ref$2(_e,`serveiTecnic/${a.key}`),{documents:wn,documentsNames:An}):update(ref$2(_e,`serveiTecnic/${a.key}`),{documentsTecnic:wn,documentsTecnicNames:An}),i.state.message=j}return jsxs("div",{className:"container",children:[jsx(Navbar,{}),jsx("h1",{children:"Afegir servei tcnic"}),jsx("div",{className:"w-100 d-flex justify-content-start",children:jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/tecnic"),children:"Tornar"})}),jsxs("form",{children:[jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"deployableList",children:"Tcnic encarregat del servei:"}),jsxs("select",{value:tt,className:"form-control selectedTecnic",id:"deployableList",onChange:pn=>Cn(pn.target.value),children:[jsx("option",{value:"",children:"Selecciona un tcnic"}),lt.map(pn=>jsx("option",{value:pn.id,children:pn.name},pn.id))]})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"currentDate",children:"Data actual:"}),jsx("input",{type:"datetime-local",onChange:pn=>pt(pn.target.value),value:ct,className:"form-control",id:"currentDate"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"distributorCode",children:"Codi Client Distribudor:"}),jsx("input",{type:"number",value:xt,onChange:pn=>gt(pn.target.value),className:"form-control validate number-validation",placeholder:"01234",pattern:"[0-9]+",id:"distributorCode"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"distributorName",children:"Nom Client Distribudor:"}),jsx("input",{type:"text",value:vt,onChange:pn=>ft(pn.target.value),className:"form-control",id:"distributorName"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"distributorEmail",children:"Email Client Distribudor:"}),jsx("input",{type:"email",value:yt,onChange:pn=>mt(pn.target.value),className:"form-control",id:"distributorEmail"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"deployableList",children:"Tipus Document:"}),jsxs("select",{value:St,onChange:pn=>At(pn.target.value),className:"form-control",id:"deployableList",children:[jsx("option",{children:"Albaran"}),jsx("option",{children:"Pedido"}),jsx("option",{children:"Pedido Cliente"})]})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"numberInput",children:"N Document:"}),jsx("input",{type:"number",value:Ft,onChange:pn=>Tt(pn.target.value),placeholder:"01234",className:"form-control",id:"numberInput"})]}),jsxs("div",{className:"form-group form-check w-auto m-2 d-flex justify-space-between",children:[jsx("input",{checked:Dt,onChange:()=>tn(),type:"checkbox",className:"form-check-input mx-2",id:"installation"}),jsx("label",{className:"form-check-label",htmlFor:"installation",children:"Presa de mesures"}),jsx("input",{checked:!Dt,onChange:()=>tn(),type:"checkbox",className:"mx-2 form-check-input",id:"measureTaking"}),jsx("label",{className:"form-check-label",htmlFor:"measureTaking",children:"Installaci"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"descriptionText",children:"Descripci:"}),jsx("textarea",{className:"form-control",value:Rt,onChange:pn=>Pt(pn.target.value),rows:5,id:"descriptionText"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"finalClientName",children:"Nom Client Final:"}),jsx("input",{type:"text",value:zt,onChange:pn=>Mt(pn.target.value),className:"form-control",id:"finalClientName"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"finalClientPhone",children:"Telfon Client Final:"}),jsx("input",{type:"text",value:Et,onChange:pn=>Ct(pn.target.value),className:"form-control",id:"finalClientPhone"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"finalClientAddress",children:"Direcci Client Final:"}),jsx("input",{type:"text",value:Ot,onChange:pn=>Ut(pn.target.value),className:"form-control",id:"finalClientAddress"})]}),jsxs("div",{className:"form-group uploadAlbara",children:[jsx("label",{htmlFor:"documentsInput",children:"Adjuntar albar: "}),jsx("br",{}),jsx("input",{type:"file",className:"form-control-file",id:"documentsInput",onChange:pn=>{var vn;return Bt(((vn=pn.target.files)==null?void 0:vn.item(0))||null)}})]}),Wt&&jsx("div",{className:"form-group",children:jsx("ul",{className:"list-group",children:jsx("li",{className:"list-group-item",children:jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[jsx("a",{href:bt,target:"_blank",rel:"noreferrer",children:Wt}),jsx("button",{onClick:()=>bn(bt),className:"btn btn-danger btn-sm float-right",children:"Eliminar"})]})})})}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"documentsInput",children:"Documents: "}),jsx("br",{}),jsx("input",{type:"file",multiple:!0,className:"form-control-file",id:"documentsInput",onChange:pn=>jt(pn.target.files)})]}),qt.length>0&&jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"documentsNames",children:"Noms dels documents: "}),jsx("br",{}),jsx("ul",{className:"list-group",children:Ht.map((pn,vn)=>jsx("li",{className:"list-group-item",children:jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[jsx("a",{href:qt[vn],target:"_blank",rel:"noreferrer",children:pn}),jsx("button",{onClick:()=>En(vn,"admin"),className:"btn btn-danger btn-sm float-right",children:"Eliminar"})]})},pn))})]}),Xt.length>0&&jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"documentsNames",children:"Documents aportats per tcnic: "}),jsx("br",{}),jsx("ul",{className:"list-group",children:Zt.map((pn,vn)=>jsx("li",{className:"list-group-item",children:jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[jsx("a",{href:Xt[vn],target:"_blank",rel:"noreferrer",children:pn}),jsx("button",{onClick:()=>En(vn,"tecnic"),className:"btn btn-danger btn-sm float-right",children:"Eliminar"})]})},pn))})]}),a&&jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"comentarisText",children:"Comentaris tcnic:"}),jsx("textarea",{className:"form-control",value:a.comentarisTecnic,readOnly:!0,rows:3,id:"comentarisText"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"actionDate",children:"Data d'acci prevista:"}),jsx("input",{type:"datetime-local",value:ln,onChange:pn=>Vt(pn.target.value),className:"form-control",id:"actionDate"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"status",children:"Estat:"}),jsxs("select",{value:cn,onChange:pn=>xn(pn.target.value),className:"form-control",id:"status",children:[jsx("option",{children:"Pendent"}),jsx("option",{children:"Per revisar"}),jsx("option",{children:"Finalitzat"})]})]}),cn==="Per revisar"&&jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"revisionText",children:"Revisi administrador:"}),jsx("textarea",{className:"form-control",value:Nt,onChange:pn=>Lt(pn.target.value),rows:5,id:"revisionText"}),jsx("label",{htmlFor:"actionDate",children:"Data de revisi:"}),jsx("input",{type:"datetime-local",value:at,onChange:pn=>ht(pn.target.value),className:"form-control",id:"revisionDate"})]}),jsx("button",{onClick:()=>an(),className:"btn btn-primary m-5",children:$})]})]})},TecnicsList=()=>{const s=useNavigate(),o=getDatabase(app),i=ref$2(o,"/tecnics/"),[a,$]=reactExports.useState(""),[j,_e]=reactExports.useState([]);function et(){const ot=document.querySelector(".addTecnic");ot?(ot.classList.toggle("h-auto"),ot.classList.toggle("collapse")):console.log("No s'ha trobat el div addTecnic")}function tt(){et(),$("");const ot=push(i),it=ot.key;set(ot,{id:it,name:a});let st=document.querySelector(".alert");st&&(st.style.visibility="visible",setTimeout(()=>{st.style.visibility="hidden"},3e3))}reactExports.useEffect(()=>{onValue(i,ot=>{const it=ot.val();let st=[];for(const ut in it)if(it.hasOwnProperty(ut)){let lt={id:it[ut].id,name:it[ut].name};st.push(lt)}_e(st)})},[]);function nt(ot){const it=ref$2(o,"/tecnics/"+ot);remove(it)}return jsxs("div",{className:"container",children:[jsx("h1",{children:"Llistat professionals tcnics"}),jsx(Alert$1,{className:"alert",severity:"success",children:"xit"}),jsx("div",{className:"w-100 d-flex justify-content-start",children:jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/tecnic"),children:"Tornar"})}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>et(),children:"Afegir tcnic"}),jsx("div",{className:"addTecnic h-0 collapse",children:jsxs("div",{className:"d-flex flex-column",children:[jsx("input",{value:a,onChange:ot=>$(ot.target.value),type:"text",className:"form-control tecnicName text-center",placeholder:"Nom tcnic a afegir","aria-label":"Nom","aria-describedby":"basic-addon1"}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>tt(),children:"Afegir nou"})]})}),jsx("div",{className:"col",children:j.map(ot=>jsx("div",{className:"row m-2",children:jsx("div",{className:"card",children:jsxs("div",{className:"card-body",children:[jsx("div",{className:"d-flex flex-row align-items-center justify-content-center",children:jsx("h5",{className:"card-title",children:ot.name})}),jsxs("div",{className:"d-flex flex-row align-items-center justify-content-center",children:[jsx("button",{type:"button",className:"btn btn-secondary",children:"Veure serveis"}),jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>nt(ot.id),children:"Eliminar"})]})]})})},ot.id))})]})},ViewServeiTecnic=()=>{const s=useNavigate(),i=useLocation().state.serveiTecnic,[a,$]=reactExports.useState(""),[j,_e]=reactExports.useState(""),[et,tt]=reactExports.useState(new Date().toISOString().slice(0,16)),[nt,ot]=reactExports.useState(""),[it,st]=reactExports.useState(""),[ut,lt]=reactExports.useState(""),[rt,dt]=reactExports.useState("Albaran"),[ct,pt]=reactExports.useState(""),[at,ht]=reactExports.useState(!0),[xt,gt]=reactExports.useState(""),[vt,ft]=reactExports.useState(""),[yt,mt]=reactExports.useState(""),[St,At]=reactExports.useState(""),[Ft,Tt]=reactExports.useState(""),[Dt,It]=reactExports.useState(""),[Rt,Pt]=reactExports.useState(""),[Nt,Lt]=reactExports.useState([]),[zt,Mt]=reactExports.useState([]),[Et,Ct]=reactExports.useState([]),[Ot,Ut]=reactExports.useState([]),[$t,Bt]=reactExports.useState(""),[Wt,Gt]=reactExports.useState("Pendent");return reactExports.useEffect(()=>{if(i){const wt=new Date(i.currentDate).toISOString().slice(0,16);if(wt&&tt(wt),i.actionDate){const jt=new Date(i.actionDate).toISOString().slice(0,16);Bt(jt)}if(i.albaraFile&&It(i.albaraFileName),i.documents){let kt=[];for(let jt=0;jt<i.documentsNames.length;jt++){const Ht=i.documentsNames[jt];kt.push(Ht)}Lt(kt)}if(i.documentsTecnic){let kt=[];for(let jt=0;jt<i.documentsTecnicNames.length;jt++){const Ht=i.documentsTecnicNames[jt];kt.push(Ht)}Mt(kt)}$(i.tecnicId),_e(i.tecnicName),ot(i.codeDistributor),st(i.nameDistributor),lt(i.emailDistributor),dt(i.albaraType),pt(i.albaraNumber),ht(i.isMesura),gt(i.description),ft(i.comentarisTecnic),mt(i.finalClientName),At(i.finalClientPhone),Tt(i.finalClientAddress),Pt(i.albaraFile),Ct(i.documents||[]),Ut(i.documentsTecnic||[]),Gt(i.stateServei)}else s("/tecnic")},[i]),jsxs("div",{className:"container",children:[jsx(Navbar,{}),jsx("h1",{children:"Dades servei tcnic"}),jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/tecnic"),children:"Tornar"}),jsx("h3",{children:jsx("span",{className:Wt==="Pendent"?"badge bg-danger":Wt==="Per revisar"?"badge bg-warning":"badge bg-success",children:Wt})}),jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>s("/tecnic/addserveitecnic",{state:{serveiTecnic:i,btnTitle:"Editar servei tcnic",alertMessage:"Servei tcnic actualitzat correctament."}}),children:"Editar"})]}),jsxs("div",{className:"col mb-5",children:[jsxs("div",{className:"row",children:[jsx("h6",{children:"Tcnic"}),jsx("div",{className:"col-6",children:jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"tecnicId",children:"Tcnic ID"}),jsx("input",{type:"text",className:"form-control",id:"tecnicId",value:a,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"ID del tcnic assignat al servei."})]})}),jsx("div",{className:"col-6",children:jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"tecnicName",children:"Tcnic"}),jsx("input",{type:"text",className:"form-control",id:"tecnicName",value:j,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Nom del tcnic assignat al servei."})]})})]}),jsxs("div",{className:"row",children:[jsx("h6",{children:"Dates"}),jsx("div",{className:"col-6",children:jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"currentDate",children:"Data"}),jsx("input",{type:"datetime-local",className:"form-control",id:"currentDate",value:et,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Data i hora de creaci del servei."})]})}),jsx("div",{className:"col-6",children:jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"currentDate",children:"Data d'acci"}),jsx("input",{type:"datetime-local",className:"form-control",id:"currentDate",value:$t,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Data i hora d'acci del servei."})]})})]}),jsxs("div",{className:"row",children:[jsx("h6",{children:"Distribuidor"}),jsxs("div",{className:"col-md-4 col-sm-12 form-group",children:[jsx("label",{htmlFor:"codeDistributor",children:"Codi distribuidor"}),jsx("input",{type:"text",className:"form-control",id:"codeDistributor",value:nt,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Codi del distribuidor."})]}),jsxs("div",{className:"col-md-4 col-sm-12 form-group",children:[jsx("label",{htmlFor:"nameDistributor",children:"Nom distribuidor"}),jsx("input",{type:"text",className:"form-control",id:"nameDistributor",value:it,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Nom del distribuidor."})]}),jsxs("div",{className:"col-md-4 col-sm-12 form-group",children:[jsx("label",{htmlFor:"emailDistributor",children:"Email distribuidor"}),jsx("input",{type:"text",className:"form-control",id:"emailDistributor",value:ut,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Email del distribuidor."})]})]}),jsxs("div",{className:"row",children:[jsx("h6",{children:"Client final"}),jsxs("div",{className:"col-md-4 col-sm-12 form-group",children:[jsx("label",{htmlFor:"finalClientName",children:"Nom client final"}),jsx("input",{type:"text",className:"form-control",id:"finalClientName",value:yt,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Nom del client final."})]}),jsxs("div",{className:"col-md-4 col-sm-12 form-group",children:[jsx("label",{htmlFor:"finalClientPhone",children:"Telfon client final"}),jsx("input",{type:"text",className:"form-control",id:"finalClientPhone",value:St,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Nm de telfon client final."})]}),jsxs("div",{className:"col-md-4 col-sm-12 form-group",children:[jsx("label",{htmlFor:"finalClientAddress",children:"Adrea client final"}),jsx("input",{type:"text",className:"form-control",id:"finalClientAddress",value:Ft,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Direcci del client final."})]})]}),jsxs("div",{className:"row",children:[jsx("h6",{children:"Informaci albar"}),jsx("div",{className:"col-6",children:jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"albaraType",children:"Tipus albara"}),jsx("input",{type:"text",className:"form-control",id:"albaraType",value:rt,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Tipus d'albara."})]})}),jsx("div",{className:"col-6",children:jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"albaraNumber",children:"Nmero albara"}),jsx("input",{type:"text",className:"form-control",id:"albaraNumber",value:ct,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Nmero d'albara."})]})})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"isMesura",children:"Tipus"}),jsx("input",{type:"text",className:"form-control",id:"isMesura",value:at?"Mesures":"Installaci",readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Indica si el tipus de servei."})]}),jsxs("div",{className:"form-group",children:[jsx("label",{htmlFor:"description",children:"Descripci"}),jsx("textarea",{className:"form-control",id:"description",rows:3,value:xt,readOnly:!0}),jsx("small",{className:"form-text text-muted",children:"Descripci del servei."})]}),jsxs("div",{className:"row",children:[jsxs("div",{className:"col-md-6",children:[jsx("h6",{children:"Document albar:"}),Dt&&jsx("div",{className:"form-group",children:jsx("ul",{className:"list-group",children:jsx("li",{className:"list-group-item",children:jsx("div",{className:"d-flex justify-content-between align-items-center",children:jsx("a",{href:Rt,target:"_blank",rel:"noreferrer",children:Dt})})})})})]}),jsxs("div",{className:"col-md-6",children:[jsx("h6",{children:"Documents aportats per administrador:"}),Et.length>0&&jsx("div",{className:"form-group",children:jsx("ul",{className:"list-group",children:Nt.map((bt,wt)=>jsx("li",{className:"list-group-item",children:jsx("div",{className:"d-flex justify-content-between align-items-center",children:jsx("a",{href:Et[wt],target:"_blank",rel:"noreferrer",children:bt})})},bt))})})]})]}),jsxs("div",{className:"row",children:[vt!==""&&jsxs("div",{className:"col-md-6",children:[jsx("h6",{children:"Comentaris tcnic"}),jsx("textarea",{className:"form-control",id:"description",rows:3,value:vt,readOnly:!0})]}),Ot.length>0&&jsxs("div",{className:"col-md-6",children:[jsx("h6",{children:"Documents aportats per tcnic:"}),jsx("div",{className:"form-group",children:jsx("ul",{className:"list-group",children:zt.map((bt,wt)=>jsx("li",{className:"list-group-item",children:jsx("div",{className:"d-flex justify-content-between align-items-center",children:jsx("a",{href:Ot[wt],target:"_blank",rel:"noreferrer",children:bt})})},bt))})})]})]})]})]})},root=client.createRoot(document.getElementById("root"));root.render(jsx(HashRouter,{children:jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(App,{})}),jsx(Route,{path:"/processes",element:jsx(Processes,{})}),jsx(Route,{path:"/users",element:jsx(Usuaris,{})}),jsx(Route,{path:"/edit",element:jsx(Ordres,{})}),jsx(Route,{path:"/editrefactored",element:jsx(OrdresRefactored,{})}),jsx(Route,{path:"/user",element:jsx(User,{})}),jsx(Route,{path:"/process",element:jsx(Process,{})}),jsx(Route,{path:"/transport",element:jsx(Transport,{})}),jsx(Route,{path:"/transporters",element:jsx(Transporters,{})}),jsx(Route,{path:"/addtransportorder",element:jsx(AddTransportOrder,{})}),jsx(Route,{path:"/incidencies",element:jsx(Incidencies$1,{})}),jsx(Route,{path:"/addincidencia",element:jsx(Incidencies,{})}),jsx(Route,{path:"/editinconformitat",element:jsx(EditInconformitat,{})}),jsx(Route,{path:"/admins",element:jsx(Admins,{})}),jsx(Route,{path:"/transport/edittransport",element:jsx(EditTransport,{})}),jsx(Route,{path:"/tecnic",element:jsx(ServeisTecnics,{})}),jsx(Route,{path:"/tecnic/addserveitecnic",element:jsx(AddServeiTecnic,{})}),jsx(Route,{path:"/tecnic/tecnicslist",element:jsx(TecnicsList,{})}),jsx(Route,{path:"/tecnic/viewserveitecnic",element:jsx(ViewServeiTecnic,{})})]})}));reportWebVitals();
